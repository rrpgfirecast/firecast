<?xml version="1.0" encoding="UTF-8"?>

<form formType="sheetTemplate" dataType="br.com.firecast.ShadowOfTheWeirdWizard" 
      title="Shadow of the Weird Wizard" name="frmWeirdWizard">

<scrollBox left="0" top="0" width="827" height="880">
<tabControl left="0" top="0" width="811" height="1129">
<!-- Aba Personagem -->
      <tab title="Personagem"> 
            <layout left="0" top="10" width="815" height="825">
                  <rectangle left="0" top="0" width="799" height="825" color="#D5D5D5">
                        <!-- Objetos gráficos da ficha -->
                        <rectangle left="0" top="487" width="60" height="1" color="#49244F"/>
                        <rectangle left="0" top="493" width="60" height="3" color="#49244F"/>
                        <rectangle left="0" top="501" width="60" height="1" color="#49244F"/>
                        <rectangle left="0" top="577" width="60" height="1" color="#49244F"/>
                        <rectangle left="0" top="583" width="60" height="3" color="#49244F"/>
                        <rectangle left="0" top="591" width="60" height="1" color="#49244F"/>
                        <rectangle left="0" top="667" width="60" height="1" color="#49244F"/>
                        <rectangle left="0" top="673" width="60" height="3" color="#49244F"/>
                        <rectangle left="0" top="681" width="60" height="1" color="#49244F"/>
                        <rectangle left="0" top="757" width="60" height="1" color="#49244F"/>
                        <rectangle left="0" top="763" width="60" height="3" color="#49244F"/>
                        <rectangle left="0" top="771" width="60" height="1" color="#49244F"/>
                        <image left="0" top="0" width="799" height="825" src="/img/borda.png"/>
                        
                        <horzLine left="35" top="630" width="300" strokeColor="#49244F" color="#D5D5D5"
                              rotationAngle="90" strokeSize="3" strokeDash="dot"/>
                        <rectangle left="210" top="420" width="150" height="250"
                              color="#49244F" xradius="80" yradius="110" cornerType="bevel"/>
                        <rectangle left="210" top="420" width="150" height="110" color="#D5D5D5"/>
                        <!-- Imagem da Personagem -->
                        <image field="imagemDoPersonagem" editable="true" style="autoFit" animate="true"
                              left="63" top="63" width="300" height="360" src="/img/weird_wizard.jpg"/>
                        <image left="60" top="60" width="303" height="363" src="/img/retrato.png"/>
                        <image left="50" top="330" width="316" height="84" src="/img/pergaminho.png"/>
                        <!-- Nome -->
                        <label field="Nome" left="82" top="365" width="260" fontSize="24" horzTextAlign="center" 
                              fontStyle="bold" text="Weird Wizard"/>
                              <dataLink field="frmNome">
                                    <event name="onChange">
                                          sheet.Nome = sheet.frmNome
                                    </event>
                              </dataLink>
                        <!-- Nível -->
                        <rectangle left="710" top="50" width="85" height="85"
                              color="#49244F" xradius="45" yradius="45" cornerType="round"/>
                        <label left="727" top="105" width="50" fontSize="18" horzTextAlign="center" 
                              text="Nível"/>
                        <label field="Nivel" left="725" top="70" width="50" fontSize="24" horzTextAlign="center" 
                              fontStyle="bold"/>
                              <dataLink field="frmNivel">
                                    <event name="onChange">
                                          sheet.Nivel = sheet.frmNivel
                                    </event>
                              </dataLink>
                        <!-- Ancestralidade -->
                        <label left="370" top="60" width="180" fontSize="24" horzTextAlign="center" 
                              text="Ancestralidade:" fontColor="#49244F" fontStyle="bold"/>
                        <label field="Ancestralidade" left="555" top="61" width="200" fontSize="20" 
                              fontColor="black"/>
                              <dataLink field="frmAncestralidade">
                                    <event name="onChange">
                                          sheet.Ancestralidade = sheet.frmAncestralidade
                                    </event>
                              </dataLink>
                        <rectangle left="370" top="95" width="400" height="3" color="#49244F"/>
                        <!-- Idiomas, Profissões e Religião -->
                        <rectangle left="420" top="137" width="320" height="1" color="#49244F"/>
                        <rectangle left="420" top="170" width="320" height="1" color="#49244F"/>
                        <rectangle left="420" top="196" width="320" height="1" color="#49244F"/>
                        <rectangle left="420" top="222" width="320" height="1" color="#49244F"/>
                        <label left="440" top="118" width="280" fontSize="20" horzTextAlign="center" 
                              text="Idiomas, Profissões e Religião" fontColor="#49244F" fontStyle="bold"/>
                        <!-- idiomas -->
                        <label field="Idiomas" left="420" top="130" width="320" height="60" fontSize="18" 
                              horzTextAlign="center" fontColor="black"/>
                              <dataLink field="frmIdiomas">
                                    <event name="onChange">
                                          sheet.Idiomas = sheet.frmIdiomas
                                    </event>
                              </dataLink>
                        <!-- Profissões -->
                        <label field="Profissoes" left="420" top="155" width="320" height="60" fontSize="18" 
                              horzTextAlign="center" fontColor="black"/>
                              <dataLink field="frmProfissoes">
                                    <event name="onChange">
                                          sheet.Profissoes = sheet.frmProfissoes
                                    </event>
                              </dataLink>
                        <!-- Religião -->
                        <label field="Religiao" left="420" top="180" width="320" height="60" fontSize="18" 
                              horzTextAlign="center" fontColor="black"/>
                              <dataLink field="frmReligiao">
                                    <event name="onChange">
                                          sheet.Religiao = sheet.frmReligiao
                                    </event>
                              </dataLink>
                        <!-- Descrição -->
                        <rectangle left="370" top="245" width="425" height="150" color="#49244F"/>
                        <rectangle left="382" top="285" width="401" height="1" color="#D5D5D5"/>
                        <rectangle left="582" top="285" width="1" height="150" color="#D5D5D5"/>
                        <label left="515" top="255" width="120" fontSize="20" horzTextAlign="center" 
                              text="Descrição" fontStyle="bold"/>
                        <!-- Gênero -->
                        <label left="382" top="295" width="120" fontSize="20" text="Gênero:" 
                              fontColor="#D5D5D5" fontStyle="bold"/>
                        <label left="460" top="297" width="120" fontColor="#D5D5D5" field="Genero"/>
                              <dataLink field="frmGenero">
                                    <event name="onChange">
                                          sheet.Genero = sheet.frmGenero
                                    </event>
                              </dataLink>
                        <!-- Idade -->
                        <label left="597" top="295" width="120" fontSize="20" text="Idade:" 
                              fontColor="#D5D5D5" fontStyle="bold"/>
                        <label left="660" top="297" width="120" fontColor="#D5D5D5" field="Idade"/>
                              <dataLink field="frmIdade">
                                    <event name="onChange">
                                          sheet.Idade = sheet.frmIdade
                                    </event>
                              </dataLink>
                        <!-- Olhos -->
                        <label left="382" top="325" width="120" fontSize="20" text="Olhos:" 
                              fontColor="#D5D5D5" fontStyle="bold"/>
                        <label left="450" top="327" width="220" fontColor="#D5D5D5" field="Olhos"/>
                              <dataLink field="frmOlhos">
                                    <event name="onChange">
                                          sheet.Olhos = sheet.frmOlhos
                                    </event>
                              </dataLink>
                        <!-- Cabelos -->
                        <label left="597" top="325" width="120" fontSize="20" text="Cabelos:" 
                              fontColor="#D5D5D5" fontStyle="bold"/>
                        <label left="685" top="327" width="220" fontColor="#D5D5D5" field="Cabelos"/>
                              <dataLink field="frmCabelos">
                                    <event name="onChange">
                                          sheet.Cabelos = sheet.frmCabelos
                                    </event>
                              </dataLink>
                        <!-- Altura -->
                        <label left="382" top="355" width="120" fontSize="20" text="Altura:" 
                              fontColor="#D5D5D5" fontStyle="bold"/>
                        <label left="450" top="357" width="220" fontColor="#D5D5D5" field="Altura"/>
                              <dataLink field="frmAltura">
                                    <event name="onChange">
                                          sheet.Altura = sheet.frmAltura
                                    </event>
                              </dataLink>
                        <!-- Peso -->
                        <label left="597" top="355" width="120" fontSize="20" text="Peso:" 
                              fontColor="#D5D5D5" fontStyle="bold"/>
                        <label left="655" top="357" width="220" fontColor="#D5D5D5" field="Peso"/>
                              <dataLink field="frmPeso">
                                    <event name="onChange">
                                          sheet.Peso = sheet.frmPeso
                                    </event>
                              </dataLink>
                        <rectangle left="370" top="410" width="425" height="1" color="#49244F"/>
                        <!-- Aprendiz -->
                        <rectangle left="370" top="425" width="425" height="40" color="#49244F"/>
                        <label left="525" top="435" width="100" fontSize="20" horzTextAlign="center" 
                              text="Novato" fontStyle="bold"/>
                        <label field="Aprendiz" left="250" top="450" width="650" height="60" fontSize="18" 
                              horzTextAlign="center" fontColor="black"/>
                              <dataLink field="frmAprendiz">
                                    <event name="onChange">
                                          sheet.Aprendiz = sheet.frmAprendiz
                                    </event>
                              </dataLink>
                        <!-- Especialista -->
                        <rectangle left="370" top="495" width="425" height="40" color="#49244F"/>
                        <label left="515" top="505" width="120" fontSize="20" horzTextAlign="center" 
                              text="Especialista" fontStyle="bold"/>
                        <label field="Especialista" left="250" top="520" width="650" height="60" fontSize="18" 
                              horzTextAlign="center" fontColor="black"/>
                              <dataLink field="frmEspecialista">
                                    <event name="onChange">
                                          sheet.Especialista = sheet.frmEspecialista
                                    </event>
                              </dataLink>
                        <!-- Mestre -->
                        <rectangle left="370" top="565" width="425" height="40" color="#49244F"/>
                        <label left="515" top="575" width="120" fontSize="20" horzTextAlign="center" 
                              text="Mestre" fontStyle="bold"/>
                        <label field="Mestre" left="250" top="590" width="650" height="60" fontSize="18" 
                              horzTextAlign="center" fontColor="black"/>
                              <dataLink field="frmMestre">
                                    <event name="onChange">
                                          sheet.Mestre = sheet.frmMestre
                                    </event>
                              </dataLink>
                        
                        
                        <!-- Força -->
                        <rectangle left="60" top="450" width="85" height="85"
                              color="#49244F" xradius="45" yradius="45" cornerType="round"
                              hitTest="true" cursor="handPoint" hint="Teste de Força">
                              <event name="onClick">
                                    escolherTeste = "forca"
                                    self.popDadivaReves:show()
                              </event>
                        </rectangle>
                        <rectangle left="120" top="440" width="45" height="45"
                              color="#D5D5D5" xradius="20" yradius="20" cornerType="round" 
                              strokeColor="#4B4B81" strokeSize="3"/>
                        <label left="78" top="500" width="50" fontSize="12" horzTextAlign="center" 
                              text="FORÇA"/>
                        <label field="Forca" left="77" top="470" width="50" fontSize="24" horzTextAlign="center" 
                              fontStyle="bold"/>
                        <label field="modForca" left="116" top="452" width="50" horzTextAlign="center" 
                              fontColor="#49244F" fontSize="18"/>
                              <dataLink field="frmForca">
                                    <event name="onChange">
                                          sheet.Forca = sheet.frmForca

                                          if sheet.Forca ~= nil then
                                                if sheet.Forca &gt; 10 then
                                                      sheet.modForca = "+" .. sheet.Forca - 10
                                                elseif sheet.Forca &lt; 10 then
                                                      sheet.modForca = "-" .. (sheet.Forca - 10) * -1
                                                else
                                                      sheet.modForca = sheet.Forca - 10
                                                end
                                          end

                                          if sheet.Forca == nil then
                                                sheet.modForca = nil
                                          end
                                    </event>
                              </dataLink>
                        <!-- Agilidade -->
                        <rectangle left="60" top="540" width="85" height="85"
                              color="#49244F" xradius="45" yradius="45" cornerType="round"
                              hitTest="true" cursor="handPoint" hint="Teste de Agilidade">
                              <event name="onClick">
                                    escolherTeste = "agilidade"
                                    self.popDadivaReves:show()
                              </event>
                        </rectangle>
                        <rectangle left="120" top="530" width="45" height="45"
                              color="#D5D5D5" xradius="20" yradius="20" cornerType="round" 
                              strokeColor="#4B4B81" strokeSize="3"/>
                        <label left="74" top="590" width="59" fontSize="12" horzTextAlign="center" 
                              text="AGILIDADE"/>
                        <label field="Agilidade" left="77" top="560" width="50" fontSize="24" horzTextAlign="center" 
                              fontStyle="bold"/>
                        <label field="modAgilidade" left="116" top="542" width="50" horzTextAlign="center" 
                              fontColor="#49244F" fontSize="18"/>
                              <dataLink field="frmAgilidade">
                                    <event name="onChange">
                                          sheet.Agilidade = sheet.frmAgilidade

                                          if sheet.Agilidade ~= nil then
                                                if sheet.Agilidade &gt; 10 then
                                                      sheet.modAgilidade = "+" .. sheet.Agilidade - 10
                                                elseif sheet.Agilidade &lt; 10 then
                                                      sheet.modAgilidade = "-" .. (sheet.Agilidade - 10) * -1
                                                else
                                                      sheet.modAgilidade = sheet.Agilidade - 10
                                                end
                                          end

                                          if sheet.Agilidade == nil then
                                                sheet.modAgilidade = nil
                                          end
                                    </event>
                              </dataLink>
                        <!-- Intelecto -->
                        <rectangle left="60" top="630" width="85" height="85"
                              color="#49244F" xradius="45" yradius="45" cornerType="round"
                              hitTest="true" cursor="handPoint" hint="Teste de Intelecto">
                              <event name="onClick">
                                    escolherTeste = "intelecto"
                                    self.popDadivaReves:show()
                              </event>
                        </rectangle>
                        <rectangle left="120" top="620" width="45" height="45"
                              color="#D5D5D5" xradius="20" yradius="20" cornerType="round" 
                              strokeColor="#4B4B81" strokeSize="3"/>
                        <label left="74" top="680" width="59" fontSize="12" horzTextAlign="center" 
                              text="INTELECTO"/>
                        <label field="Intelecto" left="77" top="650" width="50" fontSize="24" horzTextAlign="center" 
                              fontStyle="bold"/>
                        <label field="modIntelecto" left="116" top="632" width="50" horzTextAlign="center" 
                              fontColor="#49244F" fontSize="18"/>
                              <dataLink field="frmIntelecto">
                                    <event name="onChange">
                                          sheet.Intelecto = sheet.frmIntelecto

                                          if sheet.Intelecto ~= nil then
                                                if sheet.Intelecto &gt; 10 then
                                                      sheet.modIntelecto = "+" .. sheet.Intelecto - 10
                                                elseif sheet.Intelecto &lt; 10 then
                                                      sheet.modIntelecto = "-" .. (sheet.Intelecto - 10) * -1
                                                else
                                                      sheet.modIntelecto = sheet.Intelecto - 10
                                                end
                                          end

                                          if sheet.Intelecto == nil then
                                                sheet.modIntelecto = nil
                                          end
                                    </event>
                              </dataLink>
                        <!-- Vontade -->
                        <rectangle left="60" top="720" width="85" height="85"
                              color="#49244F" xradius="45" yradius="45" cornerType="round"
                              hitTest="true" cursor="handPoint" hint="Teste de Vontade">
                              <event name="onClick">
                                    escolherTeste = "vontade"
                                    self.popDadivaReves:show()
                              </event>
                        </rectangle>
                        <rectangle left="120" top="710" width="45" height="45"
                              color="#D5D5D5" xradius="20" yradius="20" cornerType="round" 
                              strokeColor="#4B4B81" strokeSize="3"/>
                        <label left="72" top="770" width="59" fontSize="12" horzTextAlign="center" 
                              text="VONTADE"/>
                        <label field="Vontade" left="77" top="740" width="50" fontSize="24" horzTextAlign="center" 
                              fontStyle="bold"/>
                        <label field="modVontade" left="116" top="722" width="50" horzTextAlign="center" 
                              fontColor="#49244F" fontSize="18"/>
                              <dataLink field="frmVontade">
                                    <event name="onChange">
                                          sheet.Vontade = sheet.frmVontade

                                          if sheet.Vontade ~= nil then
                                                if sheet.Vontade &gt; 10 then
                                                      sheet.modVontade = "+" .. sheet.Vontade - 10
                                                elseif sheet.Vontade &lt; 10 then
                                                      sheet.modVontade = "-" .. (sheet.Vontade - 10) * -1
                                                else
                                                      sheet.modVontade = sheet.Vontade - 10
                                                end
                                          end

                                          if sheet.Vontade == nil then
                                                sheet.modVontade = nil
                                          end
                                    </event>
                              </dataLink>
                        <!-- Tamanho -->
                        <rectangle left="225" top="470" width="135" height="1" color="#49244F"/>
                        <label left="130" top="450" width="280" fontSize="20" horzTextAlign="center" 
                              text="Tamanho:" fontColor="#49244F" fontStyle="bold"/>
                        <label left="315" top="450" width="40" fontColor="black" field="Tamanho" 
                              horzTextAlign="center" fontSize="18"/>
                              <dataLink field="frmTamanho">
                                    <event name="onChange">
                                          sheet.Tamanho = sheet.frmTamanho
                                    </event>
                              </dataLink>
                        <!-- Velocidade -->
                        <rectangle left="210" top="510" width="150" height="1" color="#49244F"/>
                        <label left="122" top="490" width="280" fontSize="20" horzTextAlign="center" 
                              text="Velocidade:" fontColor="#49244F" fontStyle="bold"/>
                        <label left="315" top="490" width="40" fontColor="black" field="Velocidade" 
                              horzTextAlign="center" fontSize="18"/>
                              <dataLink field="frmVelocidade">
                                    <event name="onChange">
                                          sheet.Velocidade = sheet.frmVelocidade
                                    </event>
                              </dataLink>
                        <!-- Defesas -->
                        <label left="145" top="535" width="280" fontSize="20" horzTextAlign="center" 
                              text="Defesas" fontStyle="bold"/>
                        <rectangle left="210" top="560" width="150" height="1" color="#D5D5D5"/>
                        <rectangle left="210" top="580" width="50" height="1" color="#D5D5D5"/>
                        <rectangle left="310" top="580" width="50" height="1" color="#D5D5D5"/>
                        <label field="Defesa" left="259" top="570" width="50" fontSize="18" horzTextAlign="center"/>
                              <dataLink field="frmDefesa">
                                    <event name="onChange">
                                          sheet.Defesa = sheet.frmDefesa
                                    </event>
                              </dataLink>
                        <rectangle left="258" top="592" width="55" height="55" color="#D5D5D5" 
                              xradius="27" yradius="27" cornerType="round" strokeColor="#49244F"  
                              strokeSize="3"/>
                        <label field="DefesaBlindada" left="260" top="610" width="50" fontSize="26" horzTextAlign="center" 
                              fontStyle="bold" fontColor="#49244F"/>
                              <dataLink field="frmDefesaBlin">
                                    <event name="onChange">
                                          sheet.DefesaBlindada = sheet.frmDefesaBlin
                                    </event>
                              </dataLink>
                        <!-- Sorte -->
                        <image left="210" top="621" width="133" height="200" src="/img/sorte.png" 
                              hitTest="true" cursor="handPoint" hint="Teste de Sorte">
                              <event name="onClick">
                                    escolherTeste = "sorte"
                                    self.popDadivaReves:show()
                              </event>
                        </image>
                        <!-- Vida -->
                        <rectangle left="370" top="635" width="425" height="135" color="#49244F"/>
                        <rectangle left="370" top="702" width="425" height="1" color="#D5D5D5"/>
                        <rectangle left="390" top="655" width="95" height="95"
                              color="#D5D5D5" xradius="20" yradius="25" cornerType="innerRound"/>
                        <rectangle left="685" top="655" width="95" height="95"
                              color="#D5D5D5" xradius="20" yradius="25" cornerType="innerRound"/>
                        <label left="518" top="660" width="120" fontSize="20" horzTextAlign="center" 
                              text="VIDA" fontStyle="bold"/>
                        <label left="672" top="692" width="120" fontSize="25" horzTextAlign="center" 
                              text="VIDA" fontStyle="bold" field="Vida" fontColor="#49244F"/>
                              <dataLink field="frmVida">
                                    <event name="onChange">
                                          sheet.Vida = sheet.frmVida
                                    </event>
                              </dataLink>
                        <label left="673" top="717" width="120" fontSize="12" horzTextAlign="center" 
                              fontColor="#49244F" text="NORMAL"/>
                        <edit field="vidaAtual" left="412" top="684" width="50" fontColor="#49244F" type="number" 
                              fontSize="25" fontStyle="bold" transparent="true" horzTextAlign="center"
                              min="0" max="999">
                              <event name="onUserChange">
                                    if sheet.Dano == nil then
                                          sheet.Dano = 0
                                    end

                                    if sheet.vidaAtual == nil then
                                          sheet.vidaAtual = 0
                                    end
                              </event>
                        </edit>
                        <label left="379" top="717" width="120" fontSize="12" horzTextAlign="center" 
                              fontColor="#49244F" text="ATUAL"/>
                        <!-- Dano -->
                        <progressBar width="221" color="red" value="50" fieldMax="vidaAtual" min="0"
                              left="475" top="735" hitTest="true" field="Dano"/>
                        <label left="520" top="709" width="120" fontSize="18" horzTextAlign="center" 
                              text="Dano" fontStyle="bold"/>
                        <label left="485" top="734" width="10" fontSize="35" horzTextAlign="center" fontColor="black"
                              text="-" fontStyle="bold" hitTest="true" cursor="handPoint" hint="Reduzir Dano">
                              <event name="onClick">
                                          if sheet.Dano == nil then
                                                sheet.Dano = 0
                                          end

                                          if sheet.Dano == 0 then
                                                sheet.Dano = 0
                                          else
                                                sheet.Dano = sheet.Dano - 1
                                          end
                              </event>
                        </label>
                              <dataLink field="vidaAtual">
                                    <event name="onChange">
                                          if sheet.vidaAtual &lt; sheet.Dano then
                                                sheet.Dano = sheet.vidaAtual
                                          end
                                    </event>
                              </dataLink>
                        <label left="674" top="736" width="15" fontSize="25" horzTextAlign="center" fontColor="black"
                              text="+" fontStyle="bold" hitTest="true" cursor="handPoint" hint="Aumentar Dano">
                              <event name="onClick">
                                          if sheet.Dano == nil then
                                                sheet.Dano = 0
                                          end

                                          if sheet.Dano == sheet.vidaAtual then
                                                sheet.Dano = sheet.vidaAtual
                                          else
                                                sheet.Dano = sheet.Dano + 1
                                          end
                              </event>
                        </label>
                        <label left="532" top="738" width="100" fontSize="25" horzTextAlign="center" fontColor="black"
                              fontStyle="bold" field="valDano"/>
                              <dataLink field="Dano">
                                    <event name="onChange">
                                          sheet.valDano = sheet.Dano
                                    </event>
                              </dataLink>

                        <!-- Botão do Formulário -->
                        <rectangle left="370" top="770" width="385" height="1" color="#49244F"/>
                        <rectangle left="370" top="775" width="385" height="1" color="#49244F"/>
                        <rectangle left="370" top="780" width="385" height="1" color="#49244F"/>
                        <rectangle left="370" top="785" width="385" height="1" color="#49244F"/>
                        <rectangle left="370" top="790" width="385" height="1" color="#49244F"/>
                        <rectangle left="370" top="795" width="385" height="1" color="#49244F"/>
                        <rectangle left="370" top="800" width="385" height="1" color="#49244F"/>
                        <rectangle left="370" top="805" width="385" height="1" color="#49244F"/>
                        <rectangle left="370" top="810" width="385" height="3" color="#49244F"/>
                        <image left="760" top="780" width="32" height="29" src="/img/pena.png" 
                              hitTest="true" cursor="handPoint" hint="Editar planilha">
                              <event name="onClick">
                                    self.popFrmPrincipal:show()
                              </event>
                        </image>
                  </rectangle>
            </layout>
            
      <image left="69" top="875" width="676" height="194" src="/img/logo.png"/>      
      </tab>


<!-- ============================================================================================= -->
<!-- Aba Combate -->
      <tab title="Combate"> 
            <scrollBox left="0" top="10" width="815" height="725">
            <layout left="0" top="10" width="799" height="1840">
            
                  <rectangle left="0" top="0" width="799" height="1840" color="#D5D5D5">
                        
                        
                        <!-- Combate -->
                        <label left="310" top="60" width="180" fontSize="24" horzTextAlign="center" 
                              text="COMBATE" fontColor="#49244F" fontStyle="bold"/>
                        
                        <!-- Bônus de Dano -->
                        <label left="555" top="62" width="180" fontSize="20" horzTextAlign="center" 
                              text="Bônus de Dano:" fontColor="#49244F" fontStyle="bold"/>
                        <rectangle left="719" top="82" width="60" height="1" color="#49244F"/>
                        <edit left="719" top="55" width="60" horzTextAlign="center" field="totalDanoExtra"
                              transparent="true" fontColor="#49244F" fontSize="18"/>
                        <!-- Arma 01 -->
                        <rectangle left="60" top="95" width="720" height="118" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="95" width="720" height="50" color="#49244F"/>
                        <comboBox left="65" top="103" width="615" fontSize="20" height="30"
                              items="{'Arma', 'Talento', 'Magia', 'Feitiço'}" fontColor="#D5D5D5"  
                              fontStyle="bold" transparent="true" field="escolherAtaque01" value="Arma"/>
                        <!-- Dado de Ataque 01-->
                        <rectangle left="685" top="95" width="1" height="50" color="#D5D5D5"/>
                        <image left="694" top="103" width="27" height="33" src="/img/d20.png" 
                              hitTest="true" cursor="handPoint" hint="Ataque">
                              <event name="onClick">
                                    arma = sheet.nomeArma01
                              
                                    if sheet.nomeArma01 ~= nil and sheet.nomeArma01 ~= "--" then
                                          if sheet.dadivaRevesArma01 ~= "Dádiva / Revés" and sheet.dadivaRevesArma01 ~= "--" then
                                                if string.sub(sheet.dadivaRevesArma01, 1, 1) == "-" then
                                                      revesCombate = tonumber(string.sub(sheet.dadivaRevesArma01, 2, 2)) * -1
                                                elseif string.sub(sheet.dadivaRevesArma01, 1, 1) == "+" then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma01, 2, 2))
                                                elseif string.match(string.sub(sheet.dadivaRevesArma01, 1, 1), "%d") ~= nil then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma01, 1, 1))
                                                else
                                                      dadivaCombate = 0
                                                      showMessage("Informe corretamente o valor da dádiva ou revés!")
                                                end
                                          end

                                          if sheet.atributoArma01 == "Atributo" then
                                                showMessage("Escolha um Atributo!")
                                          elseif sheet.atributoArma01 == "Força" then
                                                escolherTeste = "forca"
                                                combate = true
                                                arma = sheet.nomeArma01
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma01 == "Agilidade" then
                                                escolherTeste = "agilidade"
                                                combate = true
                                                arma = sheet.nomeArma01
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma01 == "Intelecto" then
                                                escolherTeste = "intelecto"
                                                combate = true
                                                arma = sheet.nomeArma01
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma01 == "Vontade" then
                                                escolherTeste = "vontade"
                                                combate = true
                                                arma = sheet.nomeArma01
                                                self.popDadivaReves:show()
                                          end
                                    else
                                          showMessage("Informe o nome da arma!")
                                    end
                              </event>
                        </image>
                        <!-- Dado de Dano 01-->
                        <rectangle left="730" top="95" width="1" height="50" color="#D5D5D5"/>
                        <image left="741" top="107" width="28" height="28" src="/img/d6.png" 
                              hitTest="true" cursor="handPoint" hint="Dano">
                              <event name="onClick">
                              arma = sheet.nomeArma01
                              
                              if sheet.nomeArma01 ~= nil and sheet.nomeArma01 ~= "--" then
                                    if sheet.danoArma01 ~= nil then

                                          if string.match(string.sub(sheet.danoArma01, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma01, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma01, 3, 3), "%d") ~= nil and #sheet.danoArma01 == 3 then
                                                dano = tonumber(string.sub(sheet.danoArma01, 1, 1)..string.sub(sheet.danoArma01, 2, 2)..string.sub(sheet.danoArma01, 3, 3))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma01, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma01, 2, 2), "%d") ~= nil and #sheet.danoArma01 == 2 then
                                                dano = tonumber(string.sub(sheet.danoArma01, 1, 1)..string.sub(sheet.danoArma01, 2, 2))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma01, 1, 1), "%d") ~= nil and #sheet.danoArma01 == 1 then
                                                dano = tonumber(string.sub(sheet.danoArma01, 1, 1))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma01, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma01, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma01, 3, 3), "%d") == nil and #sheet.danoArma01 == 4 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma01, 1, 1)..string.sub(sheet.danoArma01, 2, 2))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          elseif string.match(string.sub(sheet.danoArma01, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma01, 2, 2), "%d") == nil and #sheet.danoArma01 == 3 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma01, 1, 1))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          else
                                                showMessage("Informe corretamente o valor do dano! \nEx: 3d6 \nMax: 99d6")
                                                dano = 0
                                                danoAutomatico = true
                                          end
                                    end

                                    dadosDeDano(dano, danoAutomatico)
                                    danoAutomatico = false
                              end
                              </event>
                        </image>
                        <!-- Nome Arma 01 -->
                        <rectangle left="65" top="176" width="712" height="1" color="#49244F"/>
                        <edit left="68" top="143" width="360" fontSize="18" horzTextAlign="leading" 
                              fontColor="#49244F" transparent="true" field="nomeArma01">
                              <event name="onUserChange">
                                    if sheet.nomeArma01 ~= nil then
                                          sheet.dadivaRevesArma01 = "Dádiva / Revés"
                                    else
                                          sheet.nomeArma01 = "--"
                                          sheet.dadivaRevesArma01 = "--"
                                    end
                                    
                                    if #sheet.nomeArma01 &gt; 39 then
                                          local delCaracteres = 38 - #sheet.nomeArma01
                                          sheet.nomeArma01 = string.sub(sheet.nomeArma01, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Atributo Arma 01 -->
                        <rectangle left="445" top="145" width="100" height="30" color="#49244F"/>
                        <comboBox left="445" top="149" items="{'Atributo', 'Força', 'Agilidade', 'Intelecto', 'Vontade'}" 
                              field="atributoArma01" fontColor="#D5D5D5" transparent="true" value="Atributo"/>
                        <!-- Mãos Arma 01 -->
                        <rectangle left="546" top="145" width="115" height="30" color="#49244F"/>
                        <comboBox left="546" top="149" items="{'Mãos', 'Mão Principal', 'Duas mãos', 'Mão Inábil', 'Gestos / Palavras', 'Símbolo Sagrado', 'Outro'}" 
                              field="maosArma01" fontColor="#D5D5D5" transparent="true" value="Mãos" 
                              width="115"/>
                        <!-- Dádiva / Revés Arma 01 -->
                        <rectangle left="662" top="145" width="118" height="30" color="#49244F"/>
                        <edit left="662" top="144" width="118" horzTextAlign="center" field="dadivaRevesArma01"
                              transparent="true" text="Dádiva / Revés">
                              <event name="onUserChange">
                                    if sheet.dadivaRevesArma01 == nil then
                                          sheet.dadivaRevesArma01 = "Dádiva / Revés"
                                    end

                                    if sheet.dadivaRevesArma01 ~= "Dádiva / Revés" then
                                          if #sheet.dadivaRevesArma01 &gt; 4 then
                                                local delCaracteres = 3 - #sheet.dadivaRevesArma01
                                                sheet.dadivaRevesArma01 = string.sub(sheet.dadivaRevesArma01, 1, delCaracteres)
                                          end
                                    end
                              </event>
                        </edit>
                        <!-- Propriedades Arma 01 -->
                        <rectangle left="60" top="177" width="130" height="35" color="#49244F"/>
                        <label left="70" top="184" width="280" fontSize="18" text="Propriedades:" 
                              fontColor="#D5D5D5"/>
                        <edit left="197" top="178" width="460" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="propriedadesArma01">
                              <event name="onUserChange">
                                    if sheet.propriedadesArma01 == nil then
                                          sheet.propriedadesArma01 = "--"
                                    end
                                    
                                    if #sheet.propriedadesArma01 &gt; 52 then
                                          local delCaracteres = 51 - #sheet.propriedadesArma01
                                          sheet.propriedadesArma01 = string.sub(sheet.propriedadesArma01, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Dano Arma 01 -->
                        <rectangle left="662" top="178" width="118" height="30" color="#49244F"/>
                        <label left="680" top="184" width="280" fontSize="18" text="Dano:" 
                              fontColor="#D5D5D5"/>
                        <edit left="730" top="178" width="40" horzTextAlign="center" field="danoArma01"
                              transparent="true">
                              <event name="onChange">
                                    if sheet.danoArma01 == nil then
                                          sheet.danoArma01 = "--"
                                    end
                                    
                                    if #sheet.danoArma01 &gt; 4 then
                                          local delCaracteres = 3 - #sheet.danoArma01
                                          sheet.danoArma01 = string.sub(sheet.danoArma01, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <rectangle left="65" top="145" width="712" height="1" color="#D5D5D5"/>
                        
                        <!-- Arma 02 -->
                        <rectangle left="60" top="220" width="720" height="118" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="220" width="720" height="50" color="#49244F"/>
                        <comboBox left="65" top="228" width="615" fontSize="20" height="30"
                              items="{'Arma', 'Talento', 'Magia', 'Feitiço'}" fontColor="#D5D5D5" 
                              fontStyle="bold" transparent="true" field="escolherAtaque02" value="Arma"/>
                        <!-- Dado de Ataque 02-->
                        <rectangle left="685" top="220" width="1" height="50" color="#D5D5D5"/>
                        <image left="694" top="228" width="27" height="33" src="/img/d20.png" 
                              hitTest="true" cursor="handPoint" hint="Ataque">
                              <event name="onClick">
                                    arma = sheet.nomeArma02
                              
                                    if sheet.nomeArma02 ~= nil and sheet.nomeArma02 ~= "--"  then
                                          if sheet.dadivaRevesArma02 ~= "Dádiva / Revés" and sheet.dadivaRevesArma02 ~= "--" then
                                                if string.sub(sheet.dadivaRevesArma02, 1, 1) == "-" then
                                                      revesCombate = tonumber(string.sub(sheet.dadivaRevesArma02, 2, 2)) * -1
                                                elseif string.sub(sheet.dadivaRevesArma02, 1, 1) == "+" then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma02, 2, 2))
                                                elseif string.match(string.sub(sheet.dadivaRevesArma02, 1, 1), "%d") ~= nil then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma02, 1, 1))
                                                else
                                                      dadivaCombate = 0
                                                      showMessage("Informe corretamente o valor da dádiva ou revés!")
                                                end
                                          end

                                          if sheet.atributoArma02 == "Atributo" then
                                                showMessage("Escolha um Atributo!")
                                          elseif sheet.atributoArma02 == "Força" then
                                                escolherTeste = "forca"
                                                combate = true
                                                arma = sheet.nomeArma02
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma02 == "Agilidade" then
                                                escolherTeste = "agilidade"
                                                combate = true
                                                arma = sheet.nomeArma02
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma02 == "Intelecto" then
                                                escolherTeste = "intelecto"
                                                combate = true
                                                arma = sheet.nomeArma02
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma02 == "Vontade" then
                                                escolherTeste = "vontade"
                                                combate = true
                                                arma = sheet.nomeArma02
                                                self.popDadivaReves:show()
                                          end
                                    else
                                          showMessage("Informe o nome da arma!")
                                    end
                              </event>
                        </image>
                        <!-- Dado de Dano 02-->
                        <rectangle left="730" top="220" width="1" height="50" color="#D5D5D5"/>
                        <image left="741" top="232" width="28" height="28" src="/img/d6.png" 
                              hitTest="true" cursor="handPoint" hint="Dano">
                              <event name="onClick">
                              arma = sheet.nomeArma02
                              
                              if sheet.nomeArma02 ~= nil and sheet.nomeArma02 ~= "--"  then
                                    if sheet.danoArma02 ~= nil then

                                          if string.match(string.sub(sheet.danoArma02, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma02, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma02, 3, 3), "%d") ~= nil and #sheet.danoArma02 == 3 then
                                                dano = tonumber(string.sub(sheet.danoArma02, 1, 1)..string.sub(sheet.danoArma02, 2, 2)..string.sub(sheet.danoArma02, 3, 3))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma02, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma02, 2, 2), "%d") ~= nil and #sheet.danoArma02 == 2 then
                                                dano = tonumber(string.sub(sheet.danoArma02, 1, 1)..string.sub(sheet.danoArma02, 2, 2))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma02, 1, 1), "%d") ~= nil and #sheet.danoArma02 == 1 then
                                                dano = tonumber(string.sub(sheet.danoArma02, 1, 1))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma02, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma02, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma02, 3, 3), "%d") == nil and #sheet.danoArma02 == 4 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma02, 1, 1)..string.sub(sheet.danoArma02, 2, 2))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          elseif string.match(string.sub(sheet.danoArma02, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma02, 2, 2), "%d") == nil and #sheet.danoArma02 == 3 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma02, 1, 1))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          else
                                                showMessage("Informe corretamente o valor do dano! \nEx: 3d6 \nMax: 99d6")
                                                dano = 0
                                                danoAutomatico = true
                                          end
                                    end

                                    dadosDeDano(dano, danoAutomatico)
                                    danoAutomatico = false
                              end
                              </event>
                        </image>
                        <!-- Nome Arma 02 -->
                        <rectangle left="65" top="301" width="712" height="1" color="#49244F"/>
                        <edit left="68" top="268" width="360" fontSize="18" horzTextAlign="leading" 
                              fontColor="#49244F" transparent="true" field="nomeArma02">
                              <event name="onUserChange">
                                    if sheet.nomeArma02 ~= nil then
                                          sheet.dadivaRevesArma02 = "Dádiva / Revés"
                                    else
                                          sheet.nomeArma02 = "--"
                                          sheet.dadivaRevesArma02 = "--"
                                    end
                                    
                                    if #sheet.nomeArma02 &gt; 39 then
                                          local delCaracteres = 38 - #sheet.nomeArma02
                                          sheet.nomeArma02 = string.sub(sheet.nomeArma02, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Atributo Arma 02 -->
                        <rectangle left="445" top="270" width="100" height="30" color="#49244F"/>
                        <comboBox left="445" top="274" items="{'Atributo', 'Força', 'Agilidade', 'Intelecto', 'Vontade'}" 
                              field="atributoArma02" fontColor="#D5D5D5" transparent="true" value="Atributo"/>
                        <!-- Mãos Arma 02 -->
                        <rectangle left="546" top="270" width="115" height="30" color="#49244F"/>
                        <comboBox left="546" top="274" items="{'Mãos', 'Mão Principal', 'Duas mãos', 'Mão Inábil', 'Gestos / Palavras', 'Símbolo Sagrado', 'Outro'}" 
                              field="maosArma02" fontColor="#D5D5D5" transparent="true" value="Mãos" 
                              width="115"/>
                        <!-- Dádiva / Revés Arma 02 -->
                        <rectangle left="662" top="270" width="118" height="30" color="#49244F"/>
                        <edit left="662" top="269" width="118" horzTextAlign="center" field="dadivaRevesArma02"
                              transparent="true" text="Dádiva / Revés">
                              <event name="onUserChange">
                                    if sheet.dadivaRevesArma02 == nil then
                                          sheet.dadivaRevesArma02 = "Dádiva / Revés"
                                    end

                                    if sheet.dadivaRevesArma02 ~= "Dádiva / Revés" then
                                          if #sheet.dadivaRevesArma02 &gt; 4 then
                                                local delCaracteres = 3 - #sheet.dadivaRevesArma02
                                                sheet.dadivaRevesArma02 = string.sub(sheet.dadivaRevesArma02, 1, delCaracteres)
                                          end
                                    end
                              </event>
                        </edit>
                        <!-- Propriedades Arma 02 -->
                        <rectangle left="60" top="302" width="130" height="35" color="#49244F"/>
                        <label left="70" top="309" width="280" fontSize="18" text="Propriedades:" 
                              fontColor="#D5D5D5"/>
                        <edit left="197" top="303" width="460" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="propriedadesArma02">
                              <event name="onUserChange">
                                    if sheet.propriedadesArma02 == nil then
                                          sheet.propriedadesArma02 = "--"
                                    end
                                    
                                    if #sheet.propriedadesArma02 &gt; 52 then
                                          local delCaracteres = 51 - #sheet.propriedadesArma02
                                          sheet.propriedadesArma02 = string.sub(sheet.propriedadesArma02, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Dano Arma 02 -->
                        <rectangle left="662" top="303" width="118" height="30" color="#49244F"/>
                        <label left="680" top="309" width="280" fontSize="18" text="Dano:" 
                              fontColor="#D5D5D5"/>
                        <edit left="730" top="303" width="40" horzTextAlign="center" field="danoArma02"
                              transparent="true">
                              <event name="onChange">
                                    if sheet.danoArma02 == nil then
                                          sheet.danoArma02 = "--"
                                    end
                                    
                                    if #sheet.danoArma02 &gt; 4 then
                                          local delCaracteres = 3 - #sheet.danoArma02
                                          sheet.danoArma02 = string.sub(sheet.danoArma02, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <rectangle left="65" top="270" width="712" height="1" color="#D5D5D5"/>

                        <!-- Arma 03 -->
                        <rectangle left="60" top="345" width="720" height="118" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="345" width="720" height="50" color="#49244F"/>
                        <comboBox left="65" top="353" width="615" fontSize="20" height="30"
                              items="{'Arma', 'Talento', 'Magia', 'Feitiço'}" fontColor="#D5D5D5"
                              fontStyle="bold" transparent="true" field="escolherAtaque03" value="Arma"/>
                        <!-- Dado de Ataque 03-->
                        <rectangle left="685" top="345" width="1" height="50" color="#D5D5D5"/>
                        <image left="694" top="353" width="27" height="33" src="/img/d20.png" 
                              hitTest="true" cursor="handPoint" hint="Ataque">
                              <event name="onClick">
                                    arma = sheet.nomeArma03
                              
                                    if sheet.nomeArma03 ~= nil and sheet.nomeArma03 ~= "--"  then
                                          if sheet.dadivaRevesArma03 ~= "Dádiva / Revés" and sheet.dadivaRevesArma03 ~= "--" then
                                                if string.sub(sheet.dadivaRevesArma03, 1, 1) == "-" then
                                                      revesCombate = tonumber(string.sub(sheet.dadivaRevesArma03, 2, 2)) * -1
                                                elseif string.sub(sheet.dadivaRevesArma03, 1, 1) == "+" then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma03, 2, 2))
                                                elseif string.match(string.sub(sheet.dadivaRevesArma03, 1, 1), "%d") ~= nil then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma03, 1, 1))
                                                else
                                                      dadivaCombate = 0
                                                      showMessage("Informe corretamente o valor da dádiva ou revés!")
                                                end
                                          end

                                          if sheet.atributoArma03 == "Atributo" then
                                                showMessage("Escolha um Atributo!")
                                          elseif sheet.atributoArma03 == "Força" then
                                                escolherTeste = "forca"
                                                combate = true
                                                arma = sheet.nomeArma03
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma03 == "Agilidade" then
                                                escolherTeste = "agilidade"
                                                combate = true
                                                arma = sheet.nomeArma03
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma03 == "Intelecto" then
                                                escolherTeste = "intelecto"
                                                combate = true
                                                arma = sheet.nomeArma03
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma03 == "Vontade" then
                                                escolherTeste = "vontade"
                                                combate = true
                                                arma = sheet.nomeArma03
                                                self.popDadivaReves:show()
                                          end
                                    else
                                          showMessage("Informe o nome da arma!")
                                    end
                              </event>
                        </image>
                        <!-- Dado de Dano 03-->
                        <rectangle left="730" top="345" width="1" height="50" color="#D5D5D5"/>
                        <image left="741" top="357" width="28" height="28" src="/img/d6.png" 
                              hitTest="true" cursor="handPoint" hint="Dano">
                              <event name="onClick">
                              arma = sheet.nomeArma03
                              
                              if sheet.nomeArma03 ~= nil and sheet.nomeArma03 ~= "--"  then
                                    if sheet.danoArma03 ~= nil then

                                          if string.match(string.sub(sheet.danoArma03, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma03, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma03, 3, 3), "%d") ~= nil and #sheet.danoArma03 == 3 then
                                                dano = tonumber(string.sub(sheet.danoArma03, 1, 1)..string.sub(sheet.danoArma03, 2, 2)..string.sub(sheet.danoArma03, 3, 3))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma03, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma03, 2, 2), "%d") ~= nil and #sheet.danoArma03 == 2 then
                                                dano = tonumber(string.sub(sheet.danoArma03, 1, 1)..string.sub(sheet.danoArma03, 2, 2))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma03, 1, 1), "%d") ~= nil and #sheet.danoArma03 == 1 then
                                                dano = tonumber(string.sub(sheet.danoArma03, 1, 1))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma03, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma03, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma03, 3, 3), "%d") == nil and #sheet.danoArma03 == 4 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma03, 1, 1)..string.sub(sheet.danoArma03, 2, 2))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          elseif string.match(string.sub(sheet.danoArma03, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma03, 2, 2), "%d") == nil and #sheet.danoArma03 == 3 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma03, 1, 1))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          else
                                                showMessage("Informe corretamente o valor do dano! \nEx: 3d6 \nMax: 99d6")
                                                dano = 0
                                                danoAutomatico = true
                                          end
                                    end

                                    dadosDeDano(dano, danoAutomatico)
                                    danoAutomatico = false
                              end
                              </event>
                        </image>
                        <!-- Nome Arma 03 -->
                        <rectangle left="65" top="428" width="712" height="1" color="#49244F"/>
                        <edit left="68" top="393" width="360" fontSize="18" horzTextAlign="leading" 
                              fontColor="#49244F" transparent="true" field="nomeArma03">
                              <event name="onUserChange">
                                    if sheet.nomeArma03 ~= nil then
                                          sheet.dadivaRevesArma03 = "Dádiva / Revés"
                                    else
                                          sheet.nomeArma03 = "--"
                                          sheet.dadivaRevesArma03 = "--"
                                    end
                                    
                                    if #sheet.nomeArma03 &gt; 39 then
                                          local delCaracteres = 38 - #sheet.nomeArma03
                                          sheet.nomeArma03 = string.sub(sheet.nomeArma03, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Atributo Arma 03 -->
                        <rectangle left="445" top="396" width="100" height="30" color="#49244F"/>
                        <comboBox left="445" top="399" items="{'Atributo', 'Força', 'Agilidade', 'Intelecto', 'Vontade'}" 
                              field="atributoArma03" fontColor="#D5D5D5" transparent="true" value="Atributo"/>
                        <!-- Mãos Arma 03 -->
                        <rectangle left="546" top="396" width="115" height="30" color="#49244F"/>
                        <comboBox left="546" top="399" items="{'Mãos', 'Mão Principal', 'Duas mãos', 'Mão Inábil', 'Gestos / Palavras', 'Símbolo Sagrado', 'Outro'}" 
                              field="maosArma03" fontColor="#D5D5D5" transparent="true" value="Mãos" 
                              width="115"/>
                        <!-- Dádiva / Revés Arma 03 -->
                        <rectangle left="662" top="396" width="118" height="30" color="#49244F"/>
                        <edit left="662" top="395" width="118" horzTextAlign="center" field="dadivaRevesArma03"
                              transparent="true" text="Dádiva / Revés">
                              <event name="onUserChange">
                                    if sheet.dadivaRevesArma03 == nil then
                                          sheet.dadivaRevesArma03 = "Dádiva / Revés"
                                    end

                                    if sheet.dadivaRevesArma03 ~= "Dádiva / Revés" then
                                          if #sheet.dadivaRevesArma03 &gt; 4 then
                                                local delCaracteres = 3 - #sheet.dadivaRevesArma03
                                                sheet.dadivaRevesArma03 = string.sub(sheet.dadivaRevesArma03, 1, delCaracteres)
                                          end
                                    end
                              </event>
                        </edit>
                        <!-- Propriedades Arma 03 -->
                        <rectangle left="60" top="427" width="130" height="35" color="#49244F"/>
                        <label left="70" top="434" width="280" fontSize="18" text="Propriedades:" 
                              fontColor="#D5D5D5"/>
                        <edit left="197" top="428" width="460" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="propriedadesArma03">
                              <event name="onUserChange">
                                    if sheet.propriedadesArma03 == nil then
                                          sheet.propriedadesArma03 = "--"
                                    end
                                    
                                    if #sheet.propriedadesArma03 &gt; 52 then
                                          local delCaracteres = 51 - #sheet.propriedadesArma03
                                          sheet.propriedadesArma03 = string.sub(sheet.propriedadesArma03, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Dano Arma 03 -->
                        <rectangle left="662" top="429" width="118" height="30" color="#49244F"/>
                        <label left="680" top="435" width="280" fontSize="18" text="Dano:" 
                              fontColor="#D5D5D5"/>
                        <edit left="730" top="429" width="40" horzTextAlign="center" field="danoArma03"
                              transparent="true">
                              <event name="onChange">
                                    if sheet.danoArma03 == nil then
                                          sheet.danoArma03 = "--"
                                    end
                                    
                                    if #sheet.danoArma03 &gt; 4 then
                                          local delCaracteres = 3 - #sheet.danoArma03
                                          sheet.danoArma03 = string.sub(sheet.danoArma03, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!-- Arma 04 -->
                        <rectangle left="60" top="470" width="720" height="118" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="470" width="720" height="50" color="#49244F"/>
                        <comboBox left="65" top="478" width="615" fontSize="20" height="30"
                              items="{'Arma', 'Talento', 'Magia', 'Feitiço'}" fontColor="#D5D5D5"
                              fontStyle="bold" transparent="true" field="escolherAtaque04" value="Arma"/>
                        <!-- Dado de Ataque 04-->
                        <rectangle left="685" top="470" width="1" height="50" color="#D5D5D5"/>
                        <image left="694" top="478" width="27" height="33" src="/img/d20.png" 
                              hitTest="true" cursor="handPoint" hint="Ataque">
                              <event name="onClick">
                                    arma = sheet.nomeArma04
                              
                                    if sheet.nomeArma04 ~= nil and sheet.nomeArma04 ~= "--"  then
                                          if sheet.dadivaRevesArma04 ~= "Dádiva / Revés" and sheet.dadivaRevesArma04 ~= "--" then
                                                if string.sub(sheet.dadivaRevesArma04, 1, 1) == "-" then
                                                      revesCombate = tonumber(string.sub(sheet.dadivaRevesArma04, 2, 2)) * -1
                                                elseif string.sub(sheet.dadivaRevesArma04, 1, 1) == "+" then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma04, 2, 2))
                                                elseif string.match(string.sub(sheet.dadivaRevesArma04, 1, 1), "%d") ~= nil then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma04, 1, 1))
                                                else
                                                      dadivaCombate = 0
                                                      showMessage("Informe corretamente o valor da dádiva ou revés!")
                                                end
                                          end

                                          if sheet.atributoArma04 == "Atributo" then
                                                showMessage("Escolha um Atributo!")
                                          elseif sheet.atributoArma04 == "Força" then
                                                escolherTeste = "forca"
                                                combate = true
                                                arma = sheet.nomeArma04
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma04 == "Agilidade" then
                                                escolherTeste = "agilidade"
                                                combate = true
                                                arma = sheet.nomeArma04
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma04 == "Intelecto" then
                                                escolherTeste = "intelecto"
                                                combate = true
                                                arma = sheet.nomeArma04
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma04 == "Vontade" then
                                                escolherTeste = "vontade"
                                                combate = true
                                                arma = sheet.nomeArma04
                                                self.popDadivaReves:show()
                                          end
                                    else
                                          showMessage("Informe o nome da arma!")
                                    end
                              </event>
                        </image>
                        <!-- Dado de Dano 04-->
                        <rectangle left="730" top="470" width="1" height="50" color="#D5D5D5"/>
                        <image left="741" top="482" width="28" height="28" src="/img/d6.png" 
                              hitTest="true" cursor="handPoint" hint="Dano">
                              <event name="onClick">
                              arma = sheet.nomeArma04
                              
                              if sheet.nomeArma04 ~= nil and sheet.nomeArma04 ~= "--"  then
                                    if sheet.danoArma04 ~= nil then

                                          if string.match(string.sub(sheet.danoArma04, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma04, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma04, 3, 3), "%d") ~= nil and #sheet.danoArma04 == 3 then
                                                dano = tonumber(string.sub(sheet.danoArma04, 1, 1)..string.sub(sheet.danoArma04, 2, 2)..string.sub(sheet.danoArma04, 3, 3))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma04, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma04, 2, 2), "%d") ~= nil and #sheet.danoArma04 == 2 then
                                                dano = tonumber(string.sub(sheet.danoArma04, 1, 1)..string.sub(sheet.danoArma04, 2, 2))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma04, 1, 1), "%d") ~= nil and #sheet.danoArma04 == 1 then
                                                dano = tonumber(string.sub(sheet.danoArma04, 1, 1))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma04, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma04, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma04, 3, 3), "%d") == nil and #sheet.danoArma04 == 4 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma04, 1, 1)..string.sub(sheet.danoArma04, 2, 2))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          elseif string.match(string.sub(sheet.danoArma04, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma04, 2, 2), "%d") == nil and #sheet.danoArma04 == 3 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma04, 1, 1))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          else
                                                showMessage("Informe corretamente o valor do dano! \nEx: 3d6 \nMax: 99d6")
                                                dano = 0
                                                danoAutomatico = true
                                          end
                                    end

                                    dadosDeDano(dano, danoAutomatico)
                                    danoAutomatico = false
                              end
                              </event>
                        </image>
                        <!-- Nome Arma 04 -->
                        <rectangle left="65" top="552" width="712" height="1" color="#49244F"/>
                        <edit left="68" top="518" width="360" fontSize="18" horzTextAlign="leading" 
                              fontColor="#49244F" transparent="true" field="nomeArma04">
                              <event name="onUserChange">
                                    if sheet.nomeArma04 ~= nil then
                                          sheet.dadivaRevesArma04 = "Dádiva / Revés"
                                    else
                                          sheet.nomeArma04 = "--"
                                          sheet.dadivaRevesArma04 = "--"
                                    end
                                    
                                    if #sheet.nomeArma04 &gt; 39 then
                                          local delCaracteres = 38 - #sheet.nomeArma04
                                          sheet.nomeArma04 = string.sub(sheet.nomeArma04, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Atributo Arma 04 -->
                        <rectangle left="445" top="521" width="100" height="30" color="#49244F"/>
                        <comboBox left="445" top="524" items="{'Atributo', 'Força', 'Agilidade', 'Intelecto', 'Vontade'}" 
                              field="atributoArma04" fontColor="#D5D5D5" transparent="true" value="Atributo"/>
                        <!-- Mãos Arma 04 -->
                        <rectangle left="546" top="521" width="115" height="30" color="#49244F"/>
                        <comboBox left="546" top="524" items="{'Mãos', 'Mão Principal', 'Duas mãos', 'Mão Inábil', 'Gestos / Palavras', 'Símbolo Sagrado', 'Outro'}" 
                              field="maosArma04" fontColor="#D5D5D5" transparent="true" value="Mãos" 
                              width="115"/>
                        <!-- Dádiva / Revés Arma 04 -->
                        <rectangle left="662" top="521" width="118" height="30" color="#49244F"/>
                        <edit left="662" top="520" width="118" horzTextAlign="center" field="dadivaRevesArma04"
                              transparent="true" text="Dádiva / Revés">
                              <event name="onUserChange">
                                    if sheet.dadivaRevesArma04 == nil then
                                          sheet.dadivaRevesArma04 = "Dádiva / Revés"
                                    end

                                    if sheet.dadivaRevesArma04 ~= "Dádiva / Revés" then
                                          if #sheet.dadivaRevesArma04 &gt; 4 then
                                                local delCaracteres = 3 - #sheet.dadivaRevesArma04
                                                sheet.dadivaRevesArma04 = string.sub(sheet.dadivaRevesArma04, 1, delCaracteres)
                                          end
                                    end
                              </event>
                        </edit>
                        <!-- Propriedades Arma 04 -->
                        <rectangle left="60" top="552" width="130" height="35" color="#49244F"/>
                        <label left="70" top="559" width="280" fontSize="18" text="Propriedades:" 
                              fontColor="#D5D5D5"/>
                        <edit left="197" top="553" width="460" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="propriedadesArma04">
                              <event name="onUserChange">
                                    if sheet.propriedadesArma04 == nil then
                                          sheet.propriedadesArma04 = "--"
                                    end
                                    
                                    if #sheet.propriedadesArma04 &gt; 52 then
                                          local delCaracteres = 51 - #sheet.propriedadesArma04
                                          sheet.propriedadesArma04 = string.sub(sheet.propriedadesArma04, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Dano Arma 04 -->
                        <rectangle left="662" top="554" width="118" height="30" color="#49244F"/>
                        <label left="680" top="560" width="280" fontSize="18" text="Dano:" 
                              fontColor="#D5D5D5"/>
                        <edit left="730" top="554" width="40" horzTextAlign="center" field="danoArma04"
                              transparent="true">
                              <event name="onChange">
                                    if sheet.danoArma04 == nil then
                                          sheet.danoArma04 = "--"
                                    end
                                    
                                    if #sheet.danoArma04 &gt; 4 then
                                          local delCaracteres = 3 - #sheet.danoArma04
                                          sheet.danoArma04 = string.sub(sheet.danoArma04, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!-- Arma 05-->
                        <rectangle left="60" top="595" width="720" height="118" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="595" width="720" height="50" color="#49244F"/>
                        <comboBox left="65" top="603" width="615" fontSize="20" height="30"
                              items="{'Arma', 'Talento', 'Magia', 'Feitiço'}" fontColor="#D5D5D5"
                              fontStyle="bold" transparent="true" field="escolherAtaque05" value="Arma"/>
                        <!-- Dado de Ataque 05-->
                        <rectangle left="685" top="595" width="1" height="50" color="#D5D5D5"/>
                        <image left="694" top="603" width="27" height="33" src="/img/d20.png" 
                              hitTest="true" cursor="handPoint" hint="Ataque">
                              <event name="onClick">
                                    arma = sheet.nomeArma05
                              
                                    if sheet.nomeArma05 ~= nil and sheet.nomeArma05 ~= "--"  then
                                          if sheet.dadivaRevesArma05 ~= "Dádiva / Revés" and sheet.dadivaRevesArma05 ~= "--" then
                                                if string.sub(sheet.dadivaRevesArma05, 1, 1) == "-" then
                                                      revesCombate = tonumber(string.sub(sheet.dadivaRevesArma05, 2, 2)) * -1
                                                elseif string.sub(sheet.dadivaRevesArma05, 1, 1) == "+" then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma05, 2, 2))
                                                elseif string.match(string.sub(sheet.dadivaRevesArma05, 1, 1), "%d") ~= nil then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma05, 1, 1))
                                                else
                                                      dadivaCombate = 0
                                                      showMessage("Informe corretamente o valor da dádiva ou revés!")
                                                end
                                          end

                                          if sheet.atributoArma05 == "Atributo" then
                                                showMessage("Escolha um Atributo!")
                                          elseif sheet.atributoArma05 == "Força" then
                                                escolherTeste = "forca"
                                                combate = true
                                                arma = sheet.nomeArma05
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma05 == "Agilidade" then
                                                escolherTeste = "agilidade"
                                                combate = true
                                                arma = sheet.nomeArma05
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma05 == "Intelecto" then
                                                escolherTeste = "intelecto"
                                                combate = true
                                                arma = sheet.nomeArma05
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma05 == "Vontade" then
                                                escolherTeste = "vontade"
                                                combate = true
                                                arma = sheet.nomeArma05
                                                self.popDadivaReves:show()
                                          end
                                    else
                                          showMessage("Informe o nome da arma!")
                                    end
                              </event>
                        </image>
                        <!-- Dado de Dano 05-->
                        <rectangle left="730" top="595" width="1" height="50" color="#D5D5D5"/>
                        <image left="741" top="607" width="28" height="28" src="/img/d6.png" 
                              hitTest="true" cursor="handPoint" hint="Dano">
                              <event name="onClick">
                              arma = sheet.nomeArma05
                              
                              if sheet.nomeArma05 ~= nil and sheet.nomeArma05 ~= "--"  then
                                    if sheet.danoArma05 ~= nil then

                                          if string.match(string.sub(sheet.danoArma05, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma05, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma05, 3, 3), "%d") ~= nil and #sheet.danoArma05 == 3 then
                                                dano = tonumber(string.sub(sheet.danoArma05, 1, 1)..string.sub(sheet.danoArma05, 2, 2)..string.sub(sheet.danoArma05, 3, 3))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma05, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma05, 2, 2), "%d") ~= nil and #sheet.danoArma05 == 2 then
                                                dano = tonumber(string.sub(sheet.danoArma05, 1, 1)..string.sub(sheet.danoArma05, 2, 2))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma05, 1, 1), "%d") ~= nil and #sheet.danoArma05 == 1 then
                                                dano = tonumber(string.sub(sheet.danoArma05, 1, 1))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma05, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma05, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma05, 3, 3), "%d") == nil and #sheet.danoArma05 == 4 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma05, 1, 1)..string.sub(sheet.danoArma05, 2, 2))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          elseif string.match(string.sub(sheet.danoArma05, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma05, 2, 2), "%d") == nil and #sheet.danoArma05 == 3 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma05, 1, 1))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          else
                                                showMessage("Informe corretamente o valor do dano! \nEx: 3d6 \nMax: 99d6")
                                                dano = 0
                                                danoAutomatico = true
                                          end
                                    end

                                    dadosDeDano(dano, danoAutomatico)
                                    danoAutomatico = false
                              end
                              </event>
                        </image>
                        <!-- Nome Arma 05 -->
                        <rectangle left="65" top="677" width="712" height="1" color="#49244F"/>
                        <edit left="68" top="643" width="360" fontSize="18" horzTextAlign="leading" 
                              fontColor="#49244F" transparent="true" field="nomeArma05">
                              <event name="onUserChange">
                                    if sheet.nomeArma05 ~= nil then
                                          sheet.dadivaRevesArma05 = "Dádiva / Revés"
                                    else
                                          sheet.nomeArma05 = "--"
                                          sheet.dadivaRevesArma05 = "--"
                                    end
                                    
                                    if #sheet.nomeArma05 &gt; 39 then
                                          local delCaracteres = 38 - #sheet.nomeArma05
                                          sheet.nomeArma05 = string.sub(sheet.nomeArma05, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Atributo Arma 05 -->
                        <rectangle left="445" top="646" width="100" height="30" color="#49244F"/>
                        <comboBox left="445" top="649" items="{'Atributo', 'Força', 'Agilidade', 'Intelecto', 'Vontade'}" 
                              field="atributoArma05" fontColor="#D5D5D5" transparent="true" value="Atributo"/>
                        <!-- Mãos Arma 05 -->
                        <rectangle left="546" top="646" width="115" height="30" color="#49244F"/>
                        <comboBox left="546" top="649" items="{'Mãos', 'Mão Principal', 'Duas mãos', 'Mão Inábil', 'Gestos / Palavras', 'Símbolo Sagrado', 'Outro'}" 
                              field="maosArma05" fontColor="#D5D5D5" transparent="true" value="Mãos" 
                              width="115"/>
                        <!-- Dádiva / Revés Arma 05 -->
                        <rectangle left="662" top="646" width="118" height="30" color="#49244F"/>
                        <edit left="662" top="645" width="118" horzTextAlign="center" field="dadivaRevesArma05"
                              transparent="true" text="Dádiva / Revés">
                              <event name="onUserChange">
                                    if sheet.dadivaRevesArma05 == nil then
                                          sheet.dadivaRevesArma05 = "Dádiva / Revés"
                                    end

                                    if sheet.dadivaRevesArma05 ~= "Dádiva / Revés" then
                                          if #sheet.dadivaRevesArma05 &gt; 4 then
                                                local delCaracteres = 3 - #sheet.dadivaRevesArma05
                                                sheet.dadivaRevesArma05 = string.sub(sheet.dadivaRevesArma05, 1, delCaracteres)
                                          end
                                    end
                              </event>
                        </edit>
                        <!-- Propriedades Arma 05 -->
                        <rectangle left="60" top="677" width="130" height="35" color="#49244F"/>
                        <label left="70" top="684" width="280" fontSize="18" text="Propriedades:" 
                              fontColor="#D5D5D5"/>
                        <edit left="197" top="678" width="460" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="propriedadesArma05">
                              <event name="onUserChange">
                                    if sheet.propriedadesArma05 == nil then
                                          sheet.propriedadesArma05 = "--"
                                    end
                                    
                                    if #sheet.propriedadesArma05 &gt; 52 then
                                          local delCaracteres = 51 - #sheet.propriedadesArma05
                                          sheet.propriedadesArma05 = string.sub(sheet.propriedadesArma05, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Dano Arma 05 -->
                        <rectangle left="662" top="679" width="118" height="30" color="#49244F"/>
                        <label left="680" top="685" width="280" fontSize="18" text="Dano:" 
                              fontColor="#D5D5D5"/>
                        <edit left="730" top="679" width="40" horzTextAlign="center" field="danoArma05"
                              transparent="true">
                              <event name="onChange">
                                    if sheet.danoArma05 == nil then
                                          sheet.danoArma05 = "--"
                                    end
                                    
                                    if #sheet.danoArma05 &gt; 4 then
                                          local delCaracteres = 3 - #sheet.danoArma05
                                          sheet.danoArma05 = string.sub(sheet.danoArma05, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!-- Arma 06-->
                        <rectangle left="60" top="720" width="720" height="118" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="720" width="720" height="50" color="#49244F"/>
                        <comboBox left="65" top="728" width="615" fontSize="20" height="30"
                              items="{'Arma', 'Talento', 'Magia', 'Feitiço'}" fontColor="#D5D5D5"
                              fontStyle="bold" transparent="true" field="escolherAtaque06" value="Arma"/>
                        <!-- Dado de Ataque 06-->
                        <rectangle left="685" top="720" width="1" height="50" color="#D5D5D5"/>
                        <image left="694" top="728" width="27" height="33" src="/img/d20.png" 
                              hitTest="true" cursor="handPoint" hint="Ataque">
                              <event name="onClick">
                                    arma = sheet.nomeArma06
                              
                                    if sheet.nomeArma06 ~= nil and sheet.nomeArma06 ~= "--"  then
                                          if sheet.dadivaRevesArma06 ~= "Dádiva / Revés" and sheet.dadivaRevesArma06 ~= "--" then
                                                if string.sub(sheet.dadivaRevesArma06, 1, 1) == "-" then
                                                      revesCombate = tonumber(string.sub(sheet.dadivaRevesArma06, 2, 2)) * -1
                                                elseif string.sub(sheet.dadivaRevesArma06, 1, 1) == "+" then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma06, 2, 2))
                                                elseif string.match(string.sub(sheet.dadivaRevesArma06, 1, 1), "%d") ~= nil then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma06, 1, 1))
                                                else
                                                      dadivaCombate = 0
                                                      showMessage("Informe corretamente o valor da dádiva ou revés!")
                                                end
                                          end

                                          if sheet.atributoArma06 == "Atributo" then
                                                showMessage("Escolha um Atributo!")
                                          elseif sheet.atributoArma06 == "Força" then
                                                escolherTeste = "forca"
                                                combate = true
                                                arma = sheet.nomeArma06
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma06 == "Agilidade" then
                                                escolherTeste = "agilidade"
                                                combate = true
                                                arma = sheet.nomeArma06
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma06 == "Intelecto" then
                                                escolherTeste = "intelecto"
                                                combate = true
                                                arma = sheet.nomeArma06
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma06 == "Vontade" then
                                                escolherTeste = "vontade"
                                                combate = true
                                                arma = sheet.nomeArma06
                                                self.popDadivaReves:show()
                                          end
                                    else
                                          showMessage("Informe o nome da arma!")
                                    end
                              </event>
                        </image>
                        <!-- Dado de Dano 06-->
                        <rectangle left="730" top="720" width="1" height="50" color="#D5D5D5"/>
                        <image left="741" top="732" width="28" height="28" src="/img/d6.png" 
                              hitTest="true" cursor="handPoint" hint="Dano">
                              <event name="onClick">
                              arma = sheet.nomeArma06
                              
                              if sheet.nomeArma06 ~= nil and sheet.nomeArma06 ~= "--"  then
                                    if sheet.danoArma06 ~= nil then

                                          if string.match(string.sub(sheet.danoArma06, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma06, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma06, 3, 3), "%d") ~= nil and #sheet.danoArma06 == 3 then
                                                dano = tonumber(string.sub(sheet.danoArma06, 1, 1)..string.sub(sheet.danoArma06, 2, 2)..string.sub(sheet.danoArma06, 3, 3))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma06, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma06, 2, 2), "%d") ~= nil and #sheet.danoArma06 == 2 then
                                                dano = tonumber(string.sub(sheet.danoArma06, 1, 1)..string.sub(sheet.danoArma06, 2, 2))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma06, 1, 1), "%d") ~= nil and #sheet.danoArma06 == 1 then
                                                dano = tonumber(string.sub(sheet.danoArma06, 1, 1))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma06, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma06, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma06, 3, 3), "%d") == nil and #sheet.danoArma06 == 4 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma06, 1, 1)..string.sub(sheet.danoArma06, 2, 2))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          elseif string.match(string.sub(sheet.danoArma06, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma06, 2, 2), "%d") == nil and #sheet.danoArma06 == 3 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma06, 1, 1))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          else
                                                showMessage("Informe corretamente o valor do dano! \nEx: 3d6 \nMax: 99d6")
                                                dano = 0
                                                danoAutomatico = true
                                          end
                                    end

                                    dadosDeDano(dano, danoAutomatico)
                                    danoAutomatico = false
                              end
                              </event>
                        </image>
                        <!-- Nome Arma 06 -->
                        <rectangle left="65" top="802" width="712" height="1" color="#49244F"/>
                        <edit left="68" top="768" width="360" fontSize="18" horzTextAlign="leading" 
                              fontColor="#49244F" transparent="true" field="nomeArma06">
                              <event name="onUserChange">
                                    if sheet.nomeArma06 ~= nil then
                                          sheet.dadivaRevesArma06 = "Dádiva / Revés"
                                    else
                                          sheet.nomeArma06 = "--"
                                          sheet.dadivaRevesArma06 = "--"
                                    end
                                    
                                    if #sheet.nomeArma06 &gt; 39 then
                                          local delCaracteres = 38 - #sheet.nomeArma06
                                          sheet.nomeArma06 = string.sub(sheet.nomeArma06, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Atributo Arma 06 -->
                        <rectangle left="445" top="771" width="100" height="30" color="#49244F"/>
                        <comboBox left="445" top="774" items="{'Atributo', 'Força', 'Agilidade', 'Intelecto', 'Vontade'}" 
                              field="atributoArma06" fontColor="#D5D5D5" transparent="true" value="Atributo"/>
                        <!-- Mãos Arma 06 -->
                        <rectangle left="546" top="771" width="115" height="30" color="#49244F"/>
                        <comboBox left="546" top="774" items="{'Mãos', 'Mão Principal', 'Duas mãos', 'Mão Inábil', 'Gestos / Palavras', 'Símbolo Sagrado', 'Outro'}" 
                              field="maosArma06" fontColor="#D5D5D5" transparent="true" value="Mãos" 
                              width="115"/>
                        <!-- Dádiva / Revés Arma 06 -->
                        <rectangle left="662" top="771" width="118" height="30" color="#49244F"/>
                        <edit left="662" top="770" width="118" horzTextAlign="center" field="dadivaRevesArma06"
                              transparent="true" text="Dádiva / Revés">
                              <event name="onUserChange">
                                    if sheet.dadivaRevesArma06 == nil then
                                          sheet.dadivaRevesArma06 = "Dádiva / Revés"
                                    end

                                    if sheet.dadivaRevesArma06 ~= "Dádiva / Revés" then
                                          if #sheet.dadivaRevesArma06 &gt; 4 then
                                                local delCaracteres = 3 - #sheet.dadivaRevesArma06
                                                sheet.dadivaRevesArma06 = string.sub(sheet.dadivaRevesArma06, 1, delCaracteres)
                                          end
                                    end
                              </event>
                        </edit>
                        <!-- Propriedades Arma 06 -->
                        <rectangle left="60" top="802" width="130" height="35" color="#49244F"/>
                        <label left="70" top="809" width="280" fontSize="18" text="Propriedades:" 
                              fontColor="#D5D5D5"/>
                        <edit left="197" top="803" width="460" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="propriedadesArma06">
                              <event name="onUserChange">
                                    if sheet.propriedadesArma06 == nil then
                                          sheet.propriedadesArma06 = "--"
                                    end
                                    
                                    if #sheet.propriedadesArma06 &gt; 52 then
                                          local delCaracteres = 51 - #sheet.propriedadesArma06
                                          sheet.propriedadesArma06 = string.sub(sheet.propriedadesArma06, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Dano Arma 06 -->
                        <rectangle left="662" top="804" width="118" height="30" color="#49244F"/>
                        <label left="680" top="810" width="280" fontSize="18" text="Dano:" 
                              fontColor="#D5D5D5"/>
                        <edit left="730" top="804" width="40" horzTextAlign="center" field="danoArma06"
                              transparent="true">
                              <event name="onChange">
                                    if sheet.danoArma06 == nil then
                                          sheet.danoArma06 = "--"
                                    end
                                    
                                    if #sheet.danoArma06 &gt; 4 then
                                          local delCaracteres = 3 - #sheet.danoArma06
                                          sheet.danoArma06 = string.sub(sheet.danoArma06, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!-- Arma 07-->
                        <rectangle left="60" top="845" width="720" height="118" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="845" width="720" height="50" color="#49244F"/>
                        <comboBox left="65" top="853" width="615" fontSize="20" height="30"
                              items="{'Arma', 'Talento', 'Magia', 'Feitiço'}" fontColor="#D5D5D5"
                              fontStyle="bold" transparent="true" field="escolherAtaque07" value="Arma"/>
                        <!-- Dado de Ataque 07-->
                        <rectangle left="685" top="845" width="1" height="50" color="#D5D5D5"/>
                        <image left="694" top="853" width="27" height="33" src="/img/d20.png" 
                              hitTest="true" cursor="handPoint" hint="Ataque">
                              <event name="onClick">
                                    arma = sheet.nomeArma07
                              
                                    if sheet.nomeArma07 ~= nil and sheet.nomeArma07 ~= "--"  then
                                          if sheet.dadivaRevesArma07 ~= "Dádiva / Revés" and sheet.dadivaRevesArma07 ~= "--" then
                                                if string.sub(sheet.dadivaRevesArma07, 1, 1) == "-" then
                                                      revesCombate = tonumber(string.sub(sheet.dadivaRevesArma07, 2, 2)) * -1
                                                elseif string.sub(sheet.dadivaRevesArma07, 1, 1) == "+" then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma07, 2, 2))
                                                elseif string.match(string.sub(sheet.dadivaRevesArma07, 1, 1), "%d") ~= nil then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma07, 1, 1))
                                                else
                                                      dadivaCombate = 0
                                                      showMessage("Informe corretamente o valor da dádiva ou revés!")
                                                end
                                          end

                                          if sheet.atributoArma07 == "Atributo" then
                                                showMessage("Escolha um Atributo!")
                                          elseif sheet.atributoArma07 == "Força" then
                                                escolherTeste = "forca"
                                                combate = true
                                                arma = sheet.nomeArma07
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma07 == "Agilidade" then
                                                escolherTeste = "agilidade"
                                                combate = true
                                                arma = sheet.nomeArma07
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma07 == "Intelecto" then
                                                escolherTeste = "intelecto"
                                                combate = true
                                                arma = sheet.nomeArma07
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma07 == "Vontade" then
                                                escolherTeste = "vontade"
                                                combate = true
                                                arma = sheet.nomeArma07
                                                self.popDadivaReves:show()
                                          end
                                    else
                                          showMessage("Informe o nome da arma!")
                                    end
                              </event>
                        </image>
                        <!-- Dado de Dano 07-->
                        <rectangle left="730" top="845" width="1" height="50" color="#D5D5D5"/>
                        <image left="741" top="857" width="28" height="28" src="/img/d6.png" 
                              hitTest="true" cursor="handPoint" hint="Dano">
                              <event name="onClick">
                              arma = sheet.nomeArma07
                              
                              if sheet.nomeArma07 ~= nil and sheet.nomeArma07 ~= "--"  then
                                    if sheet.danoArma07 ~= nil then

                                          if string.match(string.sub(sheet.danoArma07, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma07, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma07, 3, 3), "%d") ~= nil and #sheet.danoArma07 == 3 then
                                                dano = tonumber(string.sub(sheet.danoArma07, 1, 1)..string.sub(sheet.danoArma07, 2, 2)..string.sub(sheet.danoArma07, 3, 3))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma07, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma07, 2, 2), "%d") ~= nil and #sheet.danoArma07 == 2 then
                                                dano = tonumber(string.sub(sheet.danoArma07, 1, 1)..string.sub(sheet.danoArma07, 2, 2))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma07, 1, 1), "%d") ~= nil and #sheet.danoArma07 == 1 then
                                                dano = tonumber(string.sub(sheet.danoArma07, 1, 1))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma07, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma07, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma07, 3, 3), "%d") == nil and #sheet.danoArma07 == 4 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma07, 1, 1)..string.sub(sheet.danoArma07, 2, 2))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          elseif string.match(string.sub(sheet.danoArma07, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma07, 2, 2), "%d") == nil and #sheet.danoArma07 == 3 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma07, 1, 1))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          else
                                                showMessage("Informe corretamente o valor do dano! \nEx: 3d6 \nMax: 99d6")
                                                dano = 0
                                                danoAutomatico = true
                                          end
                                    end

                                    dadosDeDano(dano, danoAutomatico)
                                    danoAutomatico = false
                              end
                              </event>
                        </image>
                        <!-- Nome Arma 07 -->
                        <rectangle left="65" top="927" width="712" height="1" color="#49244F"/>
                        <edit left="68" top="893" width="360" fontSize="18" horzTextAlign="leading" 
                              fontColor="#49244F" transparent="true" field="nomeArma07">
                              <event name="onUserChange">
                                    if sheet.nomeArma07 ~= nil then
                                          sheet.dadivaRevesArma07 = "Dádiva / Revés"
                                    else
                                          sheet.nomeArma07 = "--"
                                          sheet.dadivaRevesArma07 = "--"
                                    end
                                    
                                    if #sheet.nomeArma07 &gt; 39 then
                                          local delCaracteres = 38 - #sheet.nomeArma07
                                          sheet.nomeArma07 = string.sub(sheet.nomeArma07, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Atributo Arma 07 -->
                        <rectangle left="445" top="896" width="100" height="30" color="#49244F"/>
                        <comboBox left="445" top="899" items="{'Atributo', 'Força', 'Agilidade', 'Intelecto', 'Vontade'}" 
                              field="atributoArma07" fontColor="#D5D5D5" transparent="true" value="Atributo"/>
                        <!-- Mãos Arma 07 -->
                        <rectangle left="546" top="896" width="115" height="30" color="#49244F"/>
                        <comboBox left="546" top="899" items="{'Mãos', 'Mão Principal', 'Duas mãos', 'Mão Inábil', 'Gestos / Palavras', 'Símbolo Sagrado', 'Outro'}" 
                              field="maosArma07" fontColor="#D5D5D5" transparent="true" value="Mãos" 
                              width="115"/>
                        <!-- Dádiva / Revés Arma 07 -->
                        <rectangle left="662" top="896" width="118" height="30" color="#49244F"/>
                        <edit left="662" top="895" width="118" horzTextAlign="center" field="dadivaRevesArma07"
                              transparent="true" text="Dádiva / Revés">
                              <event name="onUserChange">
                                    if sheet.dadivaRevesArma07 == nil then
                                          sheet.dadivaRevesArma07 = "Dádiva / Revés"
                                    end

                                    if sheet.dadivaRevesArma07 ~= "Dádiva / Revés" then
                                          if #sheet.dadivaRevesArma07 &gt; 4 then
                                                local delCaracteres = 3 - #sheet.dadivaRevesArma07
                                                sheet.dadivaRevesArma07 = string.sub(sheet.dadivaRevesArma07, 1, delCaracteres)
                                          end
                                    end
                              </event>
                        </edit>
                        <!-- Propriedades Arma 07 -->
                        <rectangle left="60" top="927" width="130" height="35" color="#49244F"/>
                        <label left="70" top="934" width="280" fontSize="18" text="Propriedades:" 
                              fontColor="#D5D5D5"/>
                        <edit left="197" top="928" width="460" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="propriedadesArma07">
                              <event name="onUserChange">
                                    if sheet.propriedadesArma07 == nil then
                                          sheet.propriedadesArma07 = "--"
                                    end
                                    
                                    if #sheet.propriedadesArma07 &gt; 52 then
                                          local delCaracteres = 51 - #sheet.propriedadesArma07
                                          sheet.propriedadesArma07 = string.sub(sheet.propriedadesArma07, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Dano Arma 07 -->
                        <rectangle left="662" top="929" width="118" height="30" color="#49244F"/>
                        <label left="680" top="935" width="280" fontSize="18" text="Dano:" 
                              fontColor="#D5D5D5"/>
                        <edit left="730" top="929" width="40" horzTextAlign="center" field="danoArma07"
                              transparent="true">
                              <event name="onChange">
                                    if sheet.danoArma07 == nil then
                                          sheet.danoArma07 = "--"
                                    end
                                    
                                    if #sheet.danoArma07 &gt; 4 then
                                          local delCaracteres = 3 - #sheet.danoArma07
                                          sheet.danoArma07 = string.sub(sheet.danoArma07, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!-- Arma 08-->
                        <rectangle left="60" top="970" width="720" height="118" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="970" width="720" height="50" color="#49244F"/>
                        <comboBox left="65" top="978" width="615" fontSize="20" height="30"
                              items="{'Arma', 'Talento', 'Magia', 'Feitiço'}" fontColor="#D5D5D5"
                              fontStyle="bold" transparent="true" field="escolherAtaque08" value="Arma"/>
                        <!-- Dado de Ataque 08-->
                        <rectangle left="685" top="970" width="1" height="50" color="#D5D5D5"/>
                        <image left="694" top="978" width="27" height="33" src="/img/d20.png" 
                              hitTest="true" cursor="handPoint" hint="Ataque">
                              <event name="onClick">
                                    arma = sheet.nomeArma08
                              
                                    if sheet.nomeArma08 ~= nil and sheet.nomeArma08 ~= "--"  then
                                          if sheet.dadivaRevesArma08 ~= "Dádiva / Revés" and sheet.dadivaRevesArma08 ~= "--" then
                                                if string.sub(sheet.dadivaRevesArma08, 1, 1) == "-" then
                                                      revesCombate = tonumber(string.sub(sheet.dadivaRevesArma08, 2, 2)) * -1
                                                elseif string.sub(sheet.dadivaRevesArma08, 1, 1) == "+" then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma08, 2, 2))
                                                elseif string.match(string.sub(sheet.dadivaRevesArma08, 1, 1), "%d") ~= nil then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma08, 1, 1))
                                                else
                                                      dadivaCombate = 0
                                                      showMessage("Informe corretamente o valor da dádiva ou revés!")
                                                end
                                          end

                                          if sheet.atributoArma08 == "Atributo" then
                                                showMessage("Escolha um Atributo!")
                                          elseif sheet.atributoArma08 == "Força" then
                                                escolherTeste = "forca"
                                                combate = true
                                                arma = sheet.nomeArma08
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma08 == "Agilidade" then
                                                escolherTeste = "agilidade"
                                                combate = true
                                                arma = sheet.nomeArma08
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma08 == "Intelecto" then
                                                escolherTeste = "intelecto"
                                                combate = true
                                                arma = sheet.nomeArma08
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma08 == "Vontade" then
                                                escolherTeste = "vontade"
                                                combate = true
                                                arma = sheet.nomeArma08
                                                self.popDadivaReves:show()
                                          end
                                    else
                                          showMessage("Informe o nome da arma!")
                                    end
                              </event>
                        </image>
                        <!-- Dado de Dano 08-->
                        <rectangle left="730" top="970" width="1" height="50" color="#D5D5D5"/>
                        <image left="741" top="982" width="28" height="28" src="/img/d6.png" 
                              hitTest="true" cursor="handPoint" hint="Dano">
                              <event name="onClick">
                              arma = sheet.nomeArma08
                              
                              if sheet.nomeArma08 ~= nil and sheet.nomeArma08 ~= "--"  then
                                    if sheet.danoArma08 ~= nil then

                                          if string.match(string.sub(sheet.danoArma08, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma08, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma08, 3, 3), "%d") ~= nil and #sheet.danoArma08 == 3 then
                                                dano = tonumber(string.sub(sheet.danoArma08, 1, 1)..string.sub(sheet.danoArma08, 2, 2)..string.sub(sheet.danoArma08, 3, 3))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma08, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma08, 2, 2), "%d") ~= nil and #sheet.danoArma08 == 2 then
                                                dano = tonumber(string.sub(sheet.danoArma08, 1, 1)..string.sub(sheet.danoArma08, 2, 2))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma08, 1, 1), "%d") ~= nil and #sheet.danoArma08 == 1 then
                                                dano = tonumber(string.sub(sheet.danoArma08, 1, 1))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma08, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma08, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma08, 3, 3), "%d") == nil and #sheet.danoArma08 == 4 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma08, 1, 1)..string.sub(sheet.danoArma08, 2, 2))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          elseif string.match(string.sub(sheet.danoArma08, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma08, 2, 2), "%d") == nil and #sheet.danoArma08 == 3 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma08, 1, 1))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          else
                                                showMessage("Informe corretamente o valor do dano! \nEx: 3d6 \nMax: 99d6")
                                                dano = 0
                                                danoAutomatico = true
                                          end
                                    end

                                    dadosDeDano(dano, danoAutomatico)
                                    danoAutomatico = false
                              end
                              </event>
                        </image>
                        <!-- Nome Arma 08 -->
                        <rectangle left="65" top="1052" width="712" height="1" color="#49244F"/>
                        <edit left="68" top="1018" width="360" fontSize="18" horzTextAlign="leading" 
                              fontColor="#49244F" transparent="true" field="nomeArma08">
                              <event name="onUserChange">
                                    if sheet.nomeArma08 ~= nil then
                                          sheet.dadivaRevesArma08 = "Dádiva / Revés"
                                    else
                                          sheet.nomeArma08 = "--"
                                          sheet.dadivaRevesArma08 = "--"
                                    end
                                    
                                    if #sheet.nomeArma08 &gt; 39 then
                                          local delCaracteres = 38 - #sheet.nomeArma08
                                          sheet.nomeArma08 = string.sub(sheet.nomeArma08, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Atributo Arma 08 -->
                        <rectangle left="445" top="1021" width="100" height="30" color="#49244F"/>
                        <comboBox left="445" top="1024" items="{'Atributo', 'Força', 'Agilidade', 'Intelecto', 'Vontade'}" 
                              field="atributoArma08" fontColor="#D5D5D5" transparent="true" value="Atributo"/>
                        <!-- Mãos Arma 08 -->
                        <rectangle left="546" top="1021" width="115" height="30" color="#49244F"/>
                        <comboBox left="546" top="1024" items="{'Mãos', 'Mão Principal', 'Duas mãos', 'Mão Inábil', 'Gestos / Palavras', 'Símbolo Sagrado', 'Outro'}" 
                              field="maosArma08" fontColor="#D5D5D5" transparent="true" value="Mãos" 
                              width="115"/>
                        <!-- Dádiva / Revés Arma 08 -->
                        <rectangle left="662" top="1021" width="118" height="30" color="#49244F"/>
                        <edit left="662" top="1020" width="118" horzTextAlign="center" field="dadivaRevesArma08"
                              transparent="true" text="Dádiva / Revés">
                              <event name="onUserChange">
                                    if sheet.dadivaRevesArma08 == nil then
                                          sheet.dadivaRevesArma08 = "Dádiva / Revés"
                                    end

                                    if sheet.dadivaRevesArma08 ~= "Dádiva / Revés" then
                                          if #sheet.dadivaRevesArma08 &gt; 4 then
                                                local delCaracteres = 3 - #sheet.dadivaRevesArma08
                                                sheet.dadivaRevesArma08 = string.sub(sheet.dadivaRevesArma08, 1, delCaracteres)
                                          end
                                    end
                              </event>
                        </edit>
                        <!-- Propriedades Arma 08 -->
                        <rectangle left="60" top="1052" width="130" height="35" color="#49244F"/>
                        <label left="70" top="1059" width="280" fontSize="18" text="Propriedades:" 
                              fontColor="#D5D5D5"/>
                        <edit left="197" top="928" width="460" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="propriedadesArma08">
                              <event name="onUserChange">
                                    if sheet.propriedadesArma08 == nil then
                                          sheet.propriedadesArma08 = "--"
                                    end
                                    
                                    if #sheet.propriedadesArma08 &gt; 52 then
                                          local delCaracteres = 51 - #sheet.propriedadesArma08
                                          sheet.propriedadesArma08 = string.sub(sheet.propriedadesArma08, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Dano Arma 08 -->
                        <rectangle left="662" top="1054" width="118" height="30" color="#49244F"/>
                        <label left="680" top="1060" width="280" fontSize="18" text="Dano:" 
                              fontColor="#D5D5D5"/>
                        <edit left="730" top="929" width="40" horzTextAlign="center" field="danoArma08"
                              transparent="true">
                              <event name="onChange">
                                    if sheet.danoArma08 == nil then
                                          sheet.danoArma08 = "--"
                                    end
                                    
                                    if #sheet.danoArma08 &gt; 4 then
                                          local delCaracteres = 3 - #sheet.danoArma08
                                          sheet.danoArma08 = string.sub(sheet.danoArma08, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!-- Arma 09-->
                        <rectangle left="60" top="1095" width="720" height="118" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="1095" width="720" height="50" color="#49244F"/>
                        <comboBox left="65" top="1103" width="615" fontSize="20" height="30"
                              items="{'Arma', 'Talento', 'Magia', 'Feitiço'}" fontColor="#D5D5D5"
                              fontStyle="bold" transparent="true" field="escolherAtaque09" value="Arma"/>
                        <!-- Dado de Ataque 09-->
                        <rectangle left="685" top="1095" width="1" height="50" color="#D5D5D5"/>
                        <image left="694" top="1103" width="27" height="33" src="/img/d20.png" 
                              hitTest="true" cursor="handPoint" hint="Ataque">
                              <event name="onClick">
                                    arma = sheet.nomeArma09
                              
                                    if sheet.nomeArma09 ~= nil and sheet.nomeArma09 ~= "--"  then
                                          if sheet.dadivaRevesArma09 ~= "Dádiva / Revés" and sheet.dadivaRevesArma09 ~= "--" then
                                                if string.sub(sheet.dadivaRevesArma09, 1, 1) == "-" then
                                                      revesCombate = tonumber(string.sub(sheet.dadivaRevesArma09, 2, 2)) * -1
                                                elseif string.sub(sheet.dadivaRevesArma09, 1, 1) == "+" then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma09, 2, 2))
                                                elseif string.match(string.sub(sheet.dadivaRevesArma09, 1, 1), "%d") ~= nil then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma09, 1, 1))
                                                else
                                                      dadivaCombate = 0
                                                      showMessage("Informe corretamente o valor da dádiva ou revés!")
                                                end
                                          end

                                          if sheet.atributoArma09 == "Atributo" then
                                                showMessage("Escolha um Atributo!")
                                          elseif sheet.atributoArma09 == "Força" then
                                                escolherTeste = "forca"
                                                combate = true
                                                arma = sheet.nomeArma09
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma09 == "Agilidade" then
                                                escolherTeste = "agilidade"
                                                combate = true
                                                arma = sheet.nomeArma09
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma09 == "Intelecto" then
                                                escolherTeste = "intelecto"
                                                combate = true
                                                arma = sheet.nomeArma09
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma09 == "Vontade" then
                                                escolherTeste = "vontade"
                                                combate = true
                                                arma = sheet.nomeArma09
                                                self.popDadivaReves:show()
                                          end
                                    else
                                          showMessage("Informe o nome da arma!")
                                    end
                              </event>
                        </image>
                        <!-- Dado de Dano 09-->
                        <rectangle left="730" top="1095" width="1" height="50" color="#D5D5D5"/>
                        <image left="741" top="1107" width="28" height="28" src="/img/d6.png" 
                              hitTest="true" cursor="handPoint" hint="Dano">
                              <event name="onClick">
                              arma = sheet.nomeArma09
                              
                              if sheet.nomeArma09 ~= nil and sheet.nomeArma09 ~= "--"  then
                                    if sheet.danoArma09 ~= nil then

                                          if string.match(string.sub(sheet.danoArma09, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma09, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma09, 3, 3), "%d") ~= nil and #sheet.danoArma09 == 3 then
                                                dano = tonumber(string.sub(sheet.danoArma09, 1, 1)..string.sub(sheet.danoArma09, 2, 2)..string.sub(sheet.danoArma09, 3, 3))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma09, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma09, 2, 2), "%d") ~= nil and #sheet.danoArma09 == 2 then
                                                dano = tonumber(string.sub(sheet.danoArma09, 1, 1)..string.sub(sheet.danoArma09, 2, 2))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma09, 1, 1), "%d") ~= nil and #sheet.danoArma09 == 1 then
                                                dano = tonumber(string.sub(sheet.danoArma09, 1, 1))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma09, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma09, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma09, 3, 3), "%d") == nil and #sheet.danoArma09 == 4 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma09, 1, 1)..string.sub(sheet.danoArma09, 2, 2))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          elseif string.match(string.sub(sheet.danoArma09, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma09, 2, 2), "%d") == nil and #sheet.danoArma09 == 3 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma09, 1, 1))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          else
                                                showMessage("Informe corretamente o valor do dano! \nEx: 3d6 \nMax: 99d6")
                                                dano = 0
                                                danoAutomatico = true
                                          end
                                    end

                                    dadosDeDano(dano, danoAutomatico)
                                    danoAutomatico = false
                              end
                              </event>
                        </image>
                        <!-- Nome Arma 09 -->
                        <rectangle left="65" top="1177" width="712" height="1" color="#49244F"/>
                        <edit left="68" top="1143" width="360" fontSize="18" horzTextAlign="leading" 
                              fontColor="#49244F" transparent="true" field="nomeArma09">
                              <event name="onUserChange">
                                    if sheet.nomeArma09 ~= nil then
                                          sheet.dadivaRevesArma09 = "Dádiva / Revés"
                                    else
                                          sheet.nomeArma09 = "--"
                                          sheet.dadivaRevesArma09 = "--"
                                    end
                                    
                                    if #sheet.nomeArma09 &gt; 39 then
                                          local delCaracteres = 38 - #sheet.nomeArma09
                                          sheet.nomeArma09 = string.sub(sheet.nomeArma09, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Atributo Arma 09 -->
                        <rectangle left="445" top="1146" width="100" height="30" color="#49244F"/>
                        <comboBox left="445" top="1151" items="{'Atributo', 'Força', 'Agilidade', 'Intelecto', 'Vontade'}" 
                              field="atributoArma09" fontColor="#D5D5D5" transparent="true" value="Atributo"/>
                        <!-- Mãos Arma 09 -->
                        <rectangle left="546" top="1146" width="115" height="30" color="#49244F"/>
                        <comboBox left="546" top="1149" items="{'Mãos', 'Mão Principal', 'Duas mãos', 'Mão Inábil', 'Gestos / Palavras', 'Símbolo Sagrado', 'Outro'}" 
                              field="maosArma09" fontColor="#D5D5D5" transparent="true" value="Mãos" 
                              width="115"/>
                        <!-- Dádiva / Revés Arma 09 -->
                        <rectangle left="662" top="1146" width="118" height="30" color="#49244F"/>
                        <edit left="662" top="1145" width="118" horzTextAlign="center" field="dadivaRevesArma09"
                              transparent="true" text="Dádiva / Revés">
                              <event name="onUserChange">
                                    if sheet.dadivaRevesArma09 == nil then
                                          sheet.dadivaRevesArma09 = "Dádiva / Revés"
                                    end

                                    if sheet.dadivaRevesArma09 ~= "Dádiva / Revés" then
                                          if #sheet.dadivaRevesArma09 &gt; 4 then
                                                local delCaracteres = 3 - #sheet.dadivaRevesArma09
                                                sheet.dadivaRevesArma09 = string.sub(sheet.dadivaRevesArma09, 1, delCaracteres)
                                          end
                                    end
                              </event>
                        </edit>
                        <!-- Propriedades Arma 09 -->
                        <rectangle left="60" top="1177" width="130" height="35" color="#49244F"/>
                        <label left="70" top="1184" width="280" fontSize="18" text="Propriedades:" 
                              fontColor="#D5D5D5"/>
                        <edit left="197" top="1053" width="460" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="propriedadesArma09">
                              <event name="onUserChange">
                                    if sheet.propriedadesArma09 == nil then
                                          sheet.propriedadesArma09 = "--"
                                    end
                                    
                                    if #sheet.propriedadesArma09 &gt; 52 then
                                          local delCaracteres = 51 - #sheet.propriedadesArma09
                                          sheet.propriedadesArma09 = string.sub(sheet.propriedadesArma09, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Dano Arma 09 -->
                        <rectangle left="662" top="1179" width="118" height="30" color="#49244F"/>
                        <label left="680" top="1185" width="280" fontSize="18" text="Dano:" 
                              fontColor="#D5D5D5"/>
                        <edit left="730" top="1054" width="40" horzTextAlign="center" field="danoArma09"
                              transparent="true">
                              <event name="onChange">
                                    if sheet.danoArma09 == nil then
                                          sheet.danoArma09 = "--"
                                    end
                                    
                                    if #sheet.danoArma09 &gt; 4 then
                                          local delCaracteres = 3 - #sheet.danoArma09
                                          sheet.danoArma09 = string.sub(sheet.danoArma09, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!-- Arma 10-->
                        <rectangle left="60" top="1220" width="720" height="118" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="1220" width="720" height="50" color="#49244F"/>
                        <comboBox left="65" top="1228" width="615" fontSize="20" height="30"
                              items="{'Arma', 'Talento', 'Magia', 'Feitiço'}" fontColor="#D5D5D5"
                              fontStyle="bold" transparent="true" field="escolherAtaque10" value="Arma"/>
                        <!-- Dado de Ataque 10-->
                        <rectangle left="685" top="1220" width="1" height="50" color="#D5D5D5"/>
                        <image left="694" top="1228" width="27" height="33" src="/img/d20.png" 
                              hitTest="true" cursor="handPoint" hint="Ataque">
                              <event name="onClick">
                                    arma = sheet.nomeArma10
                              
                                    if sheet.nomeArma10 ~= nil and sheet.nomeArma10 ~= "--"  then
                                          if sheet.dadivaRevesArma10 ~= "Dádiva / Revés" and sheet.dadivaRevesArma10 ~= "--" then
                                                if string.sub(sheet.dadivaRevesArma10, 1, 1) == "-" then
                                                      revesCombate = tonumber(string.sub(sheet.dadivaRevesArma10, 2, 2)) * -1
                                                elseif string.sub(sheet.dadivaRevesArma10, 1, 1) == "+" then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma10, 2, 2))
                                                elseif string.match(string.sub(sheet.dadivaRevesArma10, 1, 1), "%d") ~= nil then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma10, 1, 1))
                                                else
                                                      dadivaCombate = 0
                                                      showMessage("Informe corretamente o valor da dádiva ou revés!")
                                                end
                                          end

                                          if sheet.atributoArma10 == "Atributo" then
                                                showMessage("Escolha um Atributo!")
                                          elseif sheet.atributoArma10 == "Força" then
                                                escolherTeste = "forca"
                                                combate = true
                                                arma = sheet.nomeArma10
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma10 == "Agilidade" then
                                                escolherTeste = "agilidade"
                                                combate = true
                                                arma = sheet.nomeArma10
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma10 == "Intelecto" then
                                                escolherTeste = "intelecto"
                                                combate = true
                                                arma = sheet.nomeArma10
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma10 == "Vontade" then
                                                escolherTeste = "vontade"
                                                combate = true
                                                arma = sheet.nomeArma10
                                                self.popDadivaReves:show()
                                          end
                                    else
                                          showMessage("Informe o nome da arma!")
                                    end
                              </event>
                        </image>
                        <!-- Dado de Dano 10-->
                        <rectangle left="730" top="1220" width="1" height="50" color="#D5D5D5"/>
                        <image left="741" top="1232" width="28" height="28" src="/img/d6.png" 
                              hitTest="true" cursor="handPoint" hint="Dano">
                              <event name="onClick">
                              arma = sheet.nomeArma10
                              
                              if sheet.nomeArma10 ~= nil and sheet.nomeArma10 ~= "--"  then
                                    if sheet.danoArma10 ~= nil then

                                          if string.match(string.sub(sheet.danoArma10, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma10, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma10, 3, 3), "%d") ~= nil and #sheet.danoArma10 == 3 then
                                                dano = tonumber(string.sub(sheet.danoArma10, 1, 1)..string.sub(sheet.danoArma10, 2, 2)..string.sub(sheet.danoArma10, 3, 3))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma10, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma10, 2, 2), "%d") ~= nil and #sheet.danoArma10 == 2 then
                                                dano = tonumber(string.sub(sheet.danoArma10, 1, 1)..string.sub(sheet.danoArma10, 2, 2))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma10, 1, 1), "%d") ~= nil and #sheet.danoArma10 == 1 then
                                                dano = tonumber(string.sub(sheet.danoArma10, 1, 1))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma10, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma10, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma10, 3, 3), "%d") == nil and #sheet.danoArma10 == 4 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma10, 1, 1)..string.sub(sheet.danoArma10, 2, 2))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          elseif string.match(string.sub(sheet.danoArma10, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma10, 2, 2), "%d") == nil and #sheet.danoArma10 == 3 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma10, 1, 1))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          else
                                                showMessage("Informe corretamente o valor do dano! \nEx: 3d6 \nMax: 99d6")
                                                dano = 0
                                                danoAutomatico = true
                                          end
                                    end

                                    dadosDeDano(dano, danoAutomatico)
                                    danoAutomatico = false
                              end
                              </event>
                        </image>
                        <!-- Nome Arma 10 -->
                        <rectangle left="65" top="1302" width="712" height="1" color="#49244F"/>
                        <edit left="68" top="1268" width="360" fontSize="18" horzTextAlign="leading" 
                              fontColor="#49244F" transparent="true" field="nomeArma10">
                              <event name="onUserChange">
                                    if sheet.nomeArma10 ~= nil then
                                          sheet.dadivaRevesArma10 = "Dádiva / Revés"
                                    else
                                          sheet.nomeArma10 = "--"
                                          sheet.dadivaRevesArma10 = "--"
                                    end
                                    
                                    if #sheet.nomeArma10 &gt; 39 then
                                          local delCaracteres = 38 - #sheet.nomeArma10
                                          sheet.nomeArma10 = string.sub(sheet.nomeArma10, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Atributo Arma 10 -->
                        <rectangle left="445" top="1271" width="100" height="30" color="#49244F"/>
                        <comboBox left="445" top="1276" items="{'Atributo', 'Força', 'Agilidade', 'Intelecto', 'Vontade'}" 
                              field="atributoArma10" fontColor="#D5D5D5" transparent="true" value="Atributo"/>
                        <!-- Mãos Arma 10 -->
                        <rectangle left="546" top="1271" width="115" height="30" color="#49244F"/>
                        <comboBox left="546" top="1274" items="{'Mãos', 'Mão Principal', 'Duas mãos', 'Mão Inábil', 'Gestos / Palavras', 'Símbolo Sagrado', 'Outro'}" 
                              field="maosArma10" fontColor="#D5D5D5" transparent="true" value="Mãos" 
                              width="115"/>
                        <!-- Dádiva / Revés Arma 10 -->
                        <rectangle left="662" top="1271" width="118" height="30" color="#49244F"/>
                        <edit left="662" top="1270" width="118" horzTextAlign="center" field="dadivaRevesArma10"
                              transparent="true" text="Dádiva / Revés">
                              <event name="onUserChange">
                                    if sheet.dadivaRevesArma10 == nil then
                                          sheet.dadivaRevesArma10 = "Dádiva / Revés"
                                    end

                                    if sheet.dadivaRevesArma10 ~= "Dádiva / Revés" then
                                          if #sheet.dadivaRevesArma10 &gt; 4 then
                                                local delCaracteres = 3 - #sheet.dadivaRevesArma10
                                                sheet.dadivaRevesArma10 = string.sub(sheet.dadivaRevesArma10, 1, delCaracteres)
                                          end
                                    end
                              </event>
                        </edit>
                        <!-- Propriedades Arma 10 -->
                        <rectangle left="60" top="1302" width="130" height="35" color="#49244F"/>
                        <label left="70" top="1309" width="280" fontSize="18" text="Propriedades:" 
                              fontColor="#D5D5D5"/>
                        <edit left="197" top="1178" width="460" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="propriedadesArma10">
                              <event name="onUserChange">
                                    if sheet.propriedadesArma10 == nil then
                                          sheet.propriedadesArma10 = "--"
                                    end
                                    
                                    if #sheet.propriedadesArma10 &gt; 52 then
                                          local delCaracteres = 51 - #sheet.propriedadesArma10
                                          sheet.propriedadesArma10 = string.sub(sheet.propriedadesArma10, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Dano Arma 10 -->
                        <rectangle left="662" top="1304" width="118" height="30" color="#49244F"/>
                        <label left="680" top="1310" width="280" fontSize="18" text="Dano:" 
                              fontColor="#D5D5D5"/>
                        <edit left="730" top="1179" width="40" horzTextAlign="center" field="danoArma10"
                              transparent="true">
                              <event name="onChange">
                                    if sheet.danoArma10 == nil then
                                          sheet.danoArma10 = "--"
                                    end
                                    
                                    if #sheet.danoArma10 &gt; 4 then
                                          local delCaracteres = 3 - #sheet.danoArma10
                                          sheet.danoArma10 = string.sub(sheet.danoArma10, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!-- Arma 11-->
                        <rectangle left="60" top="1345" width="720" height="118" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="1345" width="720" height="50" color="#49244F"/>
                        <comboBox left="65" top="1353" width="615" fontSize="20" height="30"
                              items="{'Arma', 'Talento', 'Magia', 'Feitiço'}" fontColor="#D5D5D5"
                              fontStyle="bold" transparent="true" field="escolherAtaque11" value="Arma"/>
                        <!-- Dado de Ataque 11-->
                        <rectangle left="685" top="1345" width="1" height="50" color="#D5D5D5"/>
                        <image left="694" top="1353" width="27" height="33" src="/img/d20.png" 
                              hitTest="true" cursor="handPoint" hint="Ataque">
                              <event name="onClick">
                                    arma = sheet.nomeArma11
                              
                                    if sheet.nomeArma11 ~= nil and sheet.nomeArma11 ~= "--"  then
                                          if sheet.dadivaRevesArma11 ~= "Dádiva / Revés" and sheet.dadivaRevesArma11 ~= "--" then
                                                if string.sub(sheet.dadivaRevesArma11, 1, 1) == "-" then
                                                      revesCombate = tonumber(string.sub(sheet.dadivaRevesArma11, 2, 2)) * -1
                                                elseif string.sub(sheet.dadivaRevesArma11, 1, 1) == "+" then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma11, 2, 2))
                                                elseif string.match(string.sub(sheet.dadivaRevesArma11, 1, 1), "%d") ~= nil then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma11, 1, 1))
                                                else
                                                      dadivaCombate = 0
                                                      showMessage("Informe corretamente o valor da dádiva ou revés!")
                                                end
                                          end

                                          if sheet.atributoArma11 == "Atributo" then
                                                showMessage("Escolha um Atributo!")
                                          elseif sheet.atributoArma11 == "Força" then
                                                escolherTeste = "forca"
                                                combate = true
                                                arma = sheet.nomeArma11
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma11 == "Agilidade" then
                                                escolherTeste = "agilidade"
                                                combate = true
                                                arma = sheet.nomeArma11
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma11 == "Intelecto" then
                                                escolherTeste = "intelecto"
                                                combate = true
                                                arma = sheet.nomeArma11
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma11 == "Vontade" then
                                                escolherTeste = "vontade"
                                                combate = true
                                                arma = sheet.nomeArma11
                                                self.popDadivaReves:show()
                                          end
                                    else
                                          showMessage("Informe o nome da arma!")
                                    end
                              </event>
                        </image>
                        <!-- Dado de Dano 11-->
                        <rectangle left="730" top="1345" width="1" height="50" color="#D5D5D5"/>
                        <image left="741" top="1357" width="28" height="28" src="/img/d6.png" 
                              hitTest="true" cursor="handPoint" hint="Dano">
                              <event name="onClick">
                              arma = sheet.nomeArma11
                              
                              if sheet.nomeArma11 ~= nil and sheet.nomeArma11 ~= "--"  then
                                    if sheet.danoArma11 ~= nil then

                                          if string.match(string.sub(sheet.danoArma11, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma11, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma11, 3, 3), "%d") ~= nil and #sheet.danoArma11 == 3 then
                                                dano = tonumber(string.sub(sheet.danoArma11, 1, 1)..string.sub(sheet.danoArma11, 2, 2)..string.sub(sheet.danoArma11, 3, 3))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma11, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma11, 2, 2), "%d") ~= nil and #sheet.danoArma11 == 2 then
                                                dano = tonumber(string.sub(sheet.danoArma11, 1, 1)..string.sub(sheet.danoArma11, 2, 2))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma11, 1, 1), "%d") ~= nil and #sheet.danoArma11 == 1 then
                                                dano = tonumber(string.sub(sheet.danoArma11, 1, 1))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma11, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma11, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma11, 3, 3), "%d") == nil and #sheet.danoArma11 == 4 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma11, 1, 1)..string.sub(sheet.danoArma11, 2, 2))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          elseif string.match(string.sub(sheet.danoArma11, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma11, 2, 2), "%d") == nil and #sheet.danoArma11 == 3 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma11, 1, 1))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          else
                                                showMessage("Informe corretamente o valor do dano! \nEx: 3d6 \nMax: 99d6")
                                                dano = 0
                                                danoAutomatico = true
                                          end
                                    end

                                    dadosDeDano(dano, danoAutomatico)
                                    danoAutomatico = false
                              end
                              </event>
                        </image>
                        <!-- Nome Arma 11 -->
                        <rectangle left="65" top="1427" width="712" height="1" color="#49244F"/>
                        <edit left="68" top="1393" width="360" fontSize="18" horzTextAlign="leading" 
                              fontColor="#49244F" transparent="true" field="nomeArma11">
                              <event name="onUserChange">
                                    if sheet.nomeArma11 ~= nil then
                                          sheet.dadivaRevesArma11 = "Dádiva / Revés"
                                    else
                                          sheet.nomeArma11 = "--"
                                          sheet.dadivaRevesArma11 = "--"
                                    end
                                    
                                    if #sheet.nomeArma11 &gt; 39 then
                                          local delCaracteres = 38 - #sheet.nomeArma11
                                          sheet.nomeArma11 = string.sub(sheet.nomeArma11, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Atributo Arma 11 -->
                        <rectangle left="445" top="1396" width="100" height="30" color="#49244F"/>
                        <comboBox left="445" top="1401" items="{'Atributo', 'Força', 'Agilidade', 'Intelecto', 'Vontade'}" 
                              field="atributoArma11" fontColor="#D5D5D5" transparent="true" value="Atributo"/>
                        <!-- Mãos Arma 11 -->
                        <rectangle left="546" top="1396" width="115" height="30" color="#49244F"/>
                        <comboBox left="546" top="1399" items="{'Mãos', 'Mão Principal', 'Duas mãos', 'Mão Inábil', 'Gestos / Palavras', 'Símbolo Sagrado', 'Outro'}" 
                              field="maosArma11" fontColor="#D5D5D5" transparent="true" value="Mãos" 
                              width="115"/>
                        <!-- Dádiva / Revés Arma 11 -->
                        <rectangle left="662" top="1396" width="118" height="30" color="#49244F"/>
                        <edit left="662" top="1395" width="118" horzTextAlign="center" field="dadivaRevesArma11"
                              transparent="true" text="Dádiva / Revés">
                              <event name="onUserChange">
                                    if sheet.dadivaRevesArma11 == nil then
                                          sheet.dadivaRevesArma11 = "Dádiva / Revés"
                                    end

                                    if sheet.dadivaRevesArma11 ~= "Dádiva / Revés" then
                                          if #sheet.dadivaRevesArma11 &gt; 4 then
                                                local delCaracteres = 3 - #sheet.dadivaRevesArma11
                                                sheet.dadivaRevesArma11 = string.sub(sheet.dadivaRevesArma11, 1, delCaracteres)
                                          end
                                    end
                              </event>
                        </edit>
                        <!-- Propriedades Arma 11 -->
                        <rectangle left="60" top="1427" width="130" height="35" color="#49244F"/>
                        <label left="70" top="1434" width="280" fontSize="18" text="Propriedades:" 
                              fontColor="#D5D5D5"/>
                        <edit left="197" top="1303" width="460" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="propriedadesArma11">
                              <event name="onUserChange">
                                    if sheet.propriedadesArma11 == nil then
                                          sheet.propriedadesArma11 = "--"
                                    end
                                    
                                    if #sheet.propriedadesArma11 &gt; 52 then
                                          local delCaracteres = 51 - #sheet.propriedadesArma11
                                          sheet.propriedadesArma11 = string.sub(sheet.propriedadesArma11, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Dano Arma 11 -->
                        <rectangle left="662" top="1429" width="118" height="30" color="#49244F"/>
                        <label left="680" top="1435" width="280" fontSize="18" text="Dano:" 
                              fontColor="#D5D5D5"/>
                        <edit left="730" top="1304" width="40" horzTextAlign="center" field="danoArma11"
                              transparent="true">
                              <event name="onChange">
                                    if sheet.danoArma11 == nil then
                                          sheet.danoArma11 = "--"
                                    end
                                    
                                    if #sheet.danoArma11 &gt; 4 then
                                          local delCaracteres = 3 - #sheet.danoArma11
                                          sheet.danoArma11 = string.sub(sheet.danoArma11, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!-- Arma 12-->
                        <rectangle left="60" top="1470" width="720" height="118" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="1470" width="720" height="50" color="#49244F"/>
                        <comboBox left="65" top="1478" width="615" fontSize="20" height="30"
                              items="{'Arma', 'Talento', 'Magia', 'Feitiço'}" fontColor="#D5D5D5"
                              fontStyle="bold" transparent="true" field="escolherAtaque12" value="Arma"/>
                        <!-- Dado de Ataque 12-->
                        <rectangle left="685" top="1470" width="1" height="50" color="#D5D5D5"/>
                        <image left="694" top="1478" width="27" height="33" src="/img/d20.png" 
                              hitTest="true" cursor="handPoint" hint="Ataque">
                              <event name="onClick">
                                    arma = sheet.nomeArma12
                              
                                    if sheet.nomeArma12 ~= nil and sheet.nomeArma12 ~= "--"  then
                                          if sheet.dadivaRevesArma12 ~= "Dádiva / Revés" and sheet.dadivaRevesArma12 ~= "--" then
                                                if string.sub(sheet.dadivaRevesArma12, 1, 1) == "-" then
                                                      revesCombate = tonumber(string.sub(sheet.dadivaRevesArma12, 2, 2)) * -1
                                                elseif string.sub(sheet.dadivaRevesArma12, 1, 1) == "+" then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma12, 2, 2))
                                                elseif string.match(string.sub(sheet.dadivaRevesArma12, 1, 1), "%d") ~= nil then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma12, 1, 1))
                                                else
                                                      dadivaCombate = 0
                                                      showMessage("Informe corretamente o valor da dádiva ou revés!")
                                                end
                                          end

                                          if sheet.atributoArma12 == "Atributo" then
                                                showMessage("Escolha um Atributo!")
                                          elseif sheet.atributoArma12 == "Força" then
                                                escolherTeste = "forca"
                                                combate = true
                                                arma = sheet.nomeArma12
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma12 == "Agilidade" then
                                                escolherTeste = "agilidade"
                                                combate = true
                                                arma = sheet.nomeArma12
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma12 == "Intelecto" then
                                                escolherTeste = "intelecto"
                                                combate = true
                                                arma = sheet.nomeArma12
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma12 == "Vontade" then
                                                escolherTeste = "vontade"
                                                combate = true
                                                arma = sheet.nomeArma12
                                                self.popDadivaReves:show()
                                          end
                                    else
                                          showMessage("Informe o nome da arma!")
                                    end
                              </event>
                        </image>
                        <!-- Dado de Dano 12-->
                        <rectangle left="730" top="1470" width="1" height="50" color="#D5D5D5"/>
                        <image left="741" top="1482" width="28" height="28" src="/img/d6.png" 
                              hitTest="true" cursor="handPoint" hint="Dano">
                              <event name="onClick">
                              arma = sheet.nomeArma12
                              
                              if sheet.nomeArma12 ~= nil and sheet.nomeArma12 ~= "--"  then
                                    if sheet.danoArma12 ~= nil then

                                          if string.match(string.sub(sheet.danoArma12, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma12, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma12, 3, 3), "%d") ~= nil and #sheet.danoArma12 == 3 then
                                                dano = tonumber(string.sub(sheet.danoArma12, 1, 1)..string.sub(sheet.danoArma12, 2, 2)..string.sub(sheet.danoArma12, 3, 3))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma12, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma12, 2, 2), "%d") ~= nil and #sheet.danoArma12 == 2 then
                                                dano = tonumber(string.sub(sheet.danoArma12, 1, 1)..string.sub(sheet.danoArma12, 2, 2))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma12, 1, 1), "%d") ~= nil and #sheet.danoArma12 == 1 then
                                                dano = tonumber(string.sub(sheet.danoArma12, 1, 1))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma12, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma12, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma12, 3, 3), "%d") == nil and #sheet.danoArma12 == 4 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma12, 1, 1)..string.sub(sheet.danoArma12, 2, 2))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          elseif string.match(string.sub(sheet.danoArma12, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma12, 2, 2), "%d") == nil and #sheet.danoArma12 == 3 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma12, 1, 1))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          else
                                                showMessage("Informe corretamente o valor do dano! \nEx: 3d6 \nMax: 99d6")
                                                dano = 0
                                                danoAutomatico = true
                                          end
                                    end

                                    dadosDeDano(dano, danoAutomatico)
                                    danoAutomatico = false
                              end
                              </event>
                        </image>
                        <!-- Nome Arma 12 -->
                        <rectangle left="65" top="1552" width="712" height="1" color="#49244F"/>
                        <edit left="68" top="1518" width="360" fontSize="18" horzTextAlign="leading" 
                              fontColor="#49244F" transparent="true" field="nomeArma12">
                              <event name="onUserChange">
                                    if sheet.nomeArma12 ~= nil then
                                          sheet.dadivaRevesArma12 = "Dádiva / Revés"
                                    else
                                          sheet.nomeArma12 = "--"
                                          sheet.dadivaRevesArma12 = "--"
                                    end
                                    
                                    if #sheet.nomeArma12 &gt; 39 then
                                          local delCaracteres = 38 - #sheet.nomeArma12
                                          sheet.nomeArma12 = string.sub(sheet.nomeArma12, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Atributo Arma 12 -->
                        <rectangle left="445" top="1521" width="100" height="30" color="#49244F"/>
                        <comboBox left="445" top="1526" items="{'Atributo', 'Força', 'Agilidade', 'Intelecto', 'Vontade'}" 
                              field="atributoArma12" fontColor="#D5D5D5" transparent="true" value="Atributo"/>
                        <!-- Mãos Arma 12 -->
                        <rectangle left="546" top="1521" width="115" height="30" color="#49244F"/>
                        <comboBox left="546" top="1524" items="{'Mãos', 'Mão Principal', 'Duas mãos', 'Mão Inábil', 'Gestos / Palavras', 'Símbolo Sagrado', 'Outro'}" 
                              field="maosArma12" fontColor="#D5D5D5" transparent="true" value="Mãos" 
                              width="115"/>
                        <!-- Dádiva / Revés Arma 12 -->
                        <rectangle left="662" top="1521" width="118" height="30" color="#49244F"/>
                        <edit left="662" top="1520" width="118" horzTextAlign="center" field="dadivaRevesArma12"
                              transparent="true" text="Dádiva / Revés">
                              <event name="onUserChange">
                                    if sheet.dadivaRevesArma12 == nil then
                                          sheet.dadivaRevesArma12 = "Dádiva / Revés"
                                    end

                                    if sheet.dadivaRevesArma12 ~= "Dádiva / Revés" then
                                          if #sheet.dadivaRevesArma12 &gt; 4 then
                                                local delCaracteres = 3 - #sheet.dadivaRevesArma12
                                                sheet.dadivaRevesArma12 = string.sub(sheet.dadivaRevesArma12, 1, delCaracteres)
                                          end
                                    end
                              </event>
                        </edit>
                        <!-- Propriedades Arma 12 -->
                        <rectangle left="60" top="1552" width="130" height="35" color="#49244F"/>
                        <label left="70" top="1559" width="280" fontSize="18" text="Propriedades:" 
                              fontColor="#D5D5D5"/>
                        <edit left="197" top="1428" width="460" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="propriedadesArma12">
                              <event name="onUserChange">
                                    if sheet.propriedadesArma12 == nil then
                                          sheet.propriedadesArma12 = "--"
                                    end
                                    
                                    if #sheet.propriedadesArma12 &gt; 52 then
                                          local delCaracteres = 51 - #sheet.propriedadesArma12
                                          sheet.propriedadesArma12 = string.sub(sheet.propriedadesArma12, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Dano Arma 12 -->
                        <rectangle left="662" top="1554" width="118" height="30" color="#49244F"/>
                        <label left="680" top="1560" width="280" fontSize="18" text="Dano:" 
                              fontColor="#D5D5D5"/>
                        <edit left="730" top="1429" width="40" horzTextAlign="center" field="danoArma12"
                              transparent="true">
                              <event name="onChange">
                                    if sheet.danoArma12 == nil then
                                          sheet.danoArma12 = "--"
                                    end
                                    
                                    if #sheet.danoArma12 &gt; 4 then
                                          local delCaracteres = 3 - #sheet.danoArma12
                                          sheet.danoArma12 = string.sub(sheet.danoArma12, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!-- Arma 13-->
                        <rectangle left="60" top="1595" width="720" height="118" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="1595" width="720" height="50" color="#49244F"/>
                        <comboBox left="65" top="1603" width="615" fontSize="20" height="30"
                              items="{'Arma', 'Talento', 'Magia', 'Feitiço'}" fontColor="#D5D5D5"
                              fontStyle="bold" transparent="true" field="escolherAtaque13" value="Arma"/>
                        <!-- Dado de Ataque 13-->
                        <rectangle left="685" top="1595" width="1" height="50" color="#D5D5D5"/>
                        <image left="694" top="1603" width="27" height="33" src="/img/d20.png" 
                              hitTest="true" cursor="handPoint" hint="Ataque">
                              <event name="onClick">
                                    arma = sheet.nomeArma13
                              
                                    if sheet.nomeArma13 ~= nil and sheet.nomeArma13 ~= "--"  then
                                          if sheet.dadivaRevesArma13 ~= "Dádiva / Revés" and sheet.dadivaRevesArma13 ~= "--" then
                                                if string.sub(sheet.dadivaRevesArma13, 1, 1) == "-" then
                                                      revesCombate = tonumber(string.sub(sheet.dadivaRevesArma13, 2, 2)) * -1
                                                elseif string.sub(sheet.dadivaRevesArma13, 1, 1) == "+" then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma13, 2, 2))
                                                elseif string.match(string.sub(sheet.dadivaRevesArma13, 1, 1), "%d") ~= nil then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma13, 1, 1))
                                                else
                                                      dadivaCombate = 0
                                                      showMessage("Informe corretamente o valor da dádiva ou revés!")
                                                end
                                          end

                                          if sheet.atributoArma13 == "Atributo" then
                                                showMessage("Escolha um Atributo!")
                                          elseif sheet.atributoArma13 == "Força" then
                                                escolherTeste = "forca"
                                                combate = true
                                                arma = sheet.nomeArma13
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma13 == "Agilidade" then
                                                escolherTeste = "agilidade"
                                                combate = true
                                                arma = sheet.nomeArma13
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma13 == "Intelecto" then
                                                escolherTeste = "intelecto"
                                                combate = true
                                                arma = sheet.nomeArma13
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma13 == "Vontade" then
                                                escolherTeste = "vontade"
                                                combate = true
                                                arma = sheet.nomeArma13
                                                self.popDadivaReves:show()
                                          end
                                    else
                                          showMessage("Informe o nome da arma!")
                                    end
                              </event>
                        </image>
                        <!-- Dado de Dano 13-->
                        <rectangle left="730" top="1595" width="1" height="50" color="#D5D5D5"/>
                        <image left="741" top="1607" width="28" height="28" src="/img/d6.png" 
                              hitTest="true" cursor="handPoint" hint="Dano">
                              <event name="onClick">
                              arma = sheet.nomeArma13
                              
                              if sheet.nomeArma13 ~= nil and sheet.nomeArma13 ~= "--"  then
                                    if sheet.danoArma13 ~= nil then

                                          if string.match(string.sub(sheet.danoArma13, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma13, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma13, 3, 3), "%d") ~= nil and #sheet.danoArma13 == 3 then
                                                dano = tonumber(string.sub(sheet.danoArma13, 1, 1)..string.sub(sheet.danoArma13, 2, 2)..string.sub(sheet.danoArma13, 3, 3))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma13, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma13, 2, 2), "%d") ~= nil and #sheet.danoArma13 == 2 then
                                                dano = tonumber(string.sub(sheet.danoArma13, 1, 1)..string.sub(sheet.danoArma13, 2, 2))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma13, 1, 1), "%d") ~= nil and #sheet.danoArma13 == 1 then
                                                dano = tonumber(string.sub(sheet.danoArma13, 1, 1))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma13, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma13, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma13, 3, 3), "%d") == nil and #sheet.danoArma13 == 4 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma13, 1, 1)..string.sub(sheet.danoArma13, 2, 2))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          elseif string.match(string.sub(sheet.danoArma13, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma13, 2, 2), "%d") == nil and #sheet.danoArma13 == 3 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma13, 1, 1))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          else
                                                showMessage("Informe corretamente o valor do dano! \nEx: 3d6 \nMax: 99d6")
                                                dano = 0
                                                danoAutomatico = true
                                          end
                                    end

                                    dadosDeDano(dano, danoAutomatico)
                                    danoAutomatico = false
                              end
                              </event>
                        </image>
                        <!-- Nome Arma 13 -->
                        <rectangle left="65" top="1677" width="712" height="1" color="#49244F"/>
                        <edit left="68" top="1643" width="360" fontSize="18" horzTextAlign="leading" 
                              fontColor="#49244F" transparent="true" field="nomeArma13">
                              <event name="onUserChange">
                                    if sheet.nomeArma13 ~= nil then
                                          sheet.dadivaRevesArma13 = "Dádiva / Revés"
                                    else
                                          sheet.nomeArma13 = "--"
                                          sheet.dadivaRevesArma13 = "--"
                                    end
                                    
                                    if #sheet.nomeArma13 &gt; 39 then
                                          local delCaracteres = 38 - #sheet.nomeArma13
                                          sheet.nomeArma13 = string.sub(sheet.nomeArma13, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Atributo Arma 13 -->
                        <rectangle left="445" top="1646" width="100" height="30" color="#49244F"/>
                        <comboBox left="445" top="1651" items="{'Atributo', 'Força', 'Agilidade', 'Intelecto', 'Vontade'}" 
                              field="atributoArma13" fontColor="#D5D5D5" transparent="true" value="Atributo"/>
                        <!-- Mãos Arma 13 -->
                        <rectangle left="546" top="1646" width="115" height="30" color="#49244F"/>
                        <comboBox left="546" top="1649" items="{'Mãos', 'Mão Principal', 'Duas mãos', 'Mão Inábil', 'Gestos / Palavras', 'Símbolo Sagrado', 'Outro'}" 
                              field="maosArma13" fontColor="#D5D5D5" transparent="true" value="Mãos" 
                              width="115"/>
                        <!-- Dádiva / Revés Arma 13 -->
                        <rectangle left="662" top="1646" width="118" height="30" color="#49244F"/>
                        <edit left="662" top="1645" width="118" horzTextAlign="center" field="dadivaRevesArma13"
                              transparent="true" text="Dádiva / Revés">
                              <event name="onUserChange">
                                    if sheet.dadivaRevesArma13 == nil then
                                          sheet.dadivaRevesArma13 = "Dádiva / Revés"
                                    end

                                    if sheet.dadivaRevesArma13 ~= "Dádiva / Revés" then
                                          if #sheet.dadivaRevesArma13 &gt; 4 then
                                                local delCaracteres = 3 - #sheet.dadivaRevesArma13
                                                sheet.dadivaRevesArma13 = string.sub(sheet.dadivaRevesArma13, 1, delCaracteres)
                                          end
                                    end
                              </event>
                        </edit>
                        <!-- Propriedades Arma 13 -->
                        <rectangle left="60" top="1677" width="130" height="35" color="#49244F"/>
                        <label left="70" top="1684" width="280" fontSize="18" text="Propriedades:" 
                              fontColor="#D5D5D5"/>
                        <edit left="197" top="1553" width="460" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="propriedadesArma13">
                              <event name="onUserChange">
                                    if sheet.propriedadesArma13 == nil then
                                          sheet.propriedadesArma13 = "--"
                                    end
                                    
                                    if #sheet.propriedadesArma13 &gt; 52 then
                                          local delCaracteres = 51 - #sheet.propriedadesArma13
                                          sheet.propriedadesArma13 = string.sub(sheet.propriedadesArma13, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Dano Arma 13 -->
                        <rectangle left="662" top="1679" width="118" height="30" color="#49244F"/>
                        <label left="680" top="1685" width="280" fontSize="18" text="Dano:" 
                              fontColor="#D5D5D5"/>
                        <edit left="730" top="1554" width="40" horzTextAlign="center" field="danoArma13"
                              transparent="true">
                              <event name="onChange">
                                    if sheet.danoArma13 == nil then
                                          sheet.danoArma13 = "--"
                                    end
                                    
                                    if #sheet.danoArma13 &gt; 4 then
                                          local delCaracteres = 3 - #sheet.danoArma13
                                          sheet.danoArma13 = string.sub(sheet.danoArma13, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!-- Arma 14-->
                        <rectangle left="60" top="1720" width="720" height="118" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="1720" width="720" height="50" color="#49244F"/>
                        <comboBox left="65" top="1728" width="615" fontSize="20" height="30"
                              items="{'Arma', 'Talento', 'Magia', 'Feitiço'}" fontColor="#D5D5D5"
                              fontStyle="bold" transparent="true" field="escolherAtaque14" value="Arma"/>
                        <!-- Dado de Ataque 14-->
                        <rectangle left="685" top="1720" width="1" height="50" color="#D5D5D5"/>
                        <image left="694" top="1728" width="27" height="33" src="/img/d20.png" 
                              hitTest="true" cursor="handPoint" hint="Ataque">
                              <event name="onClick">
                                    arma = sheet.nomeArma14
                              
                                    if sheet.nomeArma14 ~= nil and sheet.nomeArma14 ~= "--"  then
                                          if sheet.dadivaRevesArma14 ~= "Dádiva / Revés" and sheet.dadivaRevesArma14 ~= "--" then
                                                if string.sub(sheet.dadivaRevesArma14, 1, 1) == "-" then
                                                      revesCombate = tonumber(string.sub(sheet.dadivaRevesArma14, 2, 2)) * -1
                                                elseif string.sub(sheet.dadivaRevesArma14, 1, 1) == "+" then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma14, 2, 2))
                                                elseif string.match(string.sub(sheet.dadivaRevesArma14, 1, 1), "%d") ~= nil then
                                                      dadivaCombate = tonumber(string.sub(sheet.dadivaRevesArma14, 1, 1))
                                                else
                                                      dadivaCombate = 0
                                                      showMessage("Informe corretamente o valor da dádiva ou revés!")
                                                end
                                          end

                                          if sheet.atributoArma14 == "Atributo" then
                                                showMessage("Escolha um Atributo!")
                                          elseif sheet.atributoArma14 == "Força" then
                                                escolherTeste = "forca"
                                                combate = true
                                                arma = sheet.nomeArma14
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma14 == "Agilidade" then
                                                escolherTeste = "agilidade"
                                                combate = true
                                                arma = sheet.nomeArma14
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma14 == "Intelecto" then
                                                escolherTeste = "intelecto"
                                                combate = true
                                                arma = sheet.nomeArma14
                                                self.popDadivaReves:show()
                                          elseif sheet.atributoArma14 == "Vontade" then
                                                escolherTeste = "vontade"
                                                combate = true
                                                arma = sheet.nomeArma14
                                                self.popDadivaReves:show()
                                          end
                                    else
                                          showMessage("Informe o nome da arma!")
                                    end
                              </event>
                        </image>
                        <!-- Dado de Dano 14-->
                        <rectangle left="730" top="1720" width="1" height="50" color="#D5D5D5"/>
                        <image left="741" top="1732" width="28" height="28" src="/img/d6.png" 
                              hitTest="true" cursor="handPoint" hint="Dano">
                              <event name="onClick">
                              arma = sheet.nomeArma14
                              
                              if sheet.nomeArma14 ~= nil and sheet.nomeArma14 ~= "--"  then
                                    if sheet.danoArma14 ~= nil then

                                          if string.match(string.sub(sheet.danoArma14, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma14, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma14, 3, 3), "%d") ~= nil and #sheet.danoArma14 == 3 then
                                                dano = tonumber(string.sub(sheet.danoArma14, 1, 1)..string.sub(sheet.danoArma14, 2, 2)..string.sub(sheet.danoArma14, 3, 3))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma14, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma14, 2, 2), "%d") ~= nil and #sheet.danoArma14 == 2 then
                                                dano = tonumber(string.sub(sheet.danoArma14, 1, 1)..string.sub(sheet.danoArma14, 2, 2))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma14, 1, 1), "%d") ~= nil and #sheet.danoArma14 == 1 then
                                                dano = tonumber(string.sub(sheet.danoArma14, 1, 1))
                                                danoAutomatico = true
                                          elseif string.match(string.sub(sheet.danoArma14, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma14, 2, 2), "%d") ~= nil and string.match(string.sub(sheet.danoArma14, 3, 3), "%d") == nil and #sheet.danoArma14 == 4 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma14, 1, 1)..string.sub(sheet.danoArma14, 2, 2))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          elseif string.match(string.sub(sheet.danoArma14, 1, 1), "%d") ~= nil and string.match(string.sub(sheet.danoArma14, 2, 2), "%d") == nil and #sheet.danoArma14 == 3 then
                                                numeroDados = tonumber(string.sub(sheet.danoArma14, 1, 1))
                                                if numeroDados &lt; 100 then
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                else
                                                      numeroDados = 0
                                                      dano = numeroDados
                                                      danoAutomatico = false
                                                end
                                          else
                                                showMessage("Informe corretamente o valor do dano! \nEx: 3d6 \nMax: 99d6")
                                                dano = 0
                                                danoAutomatico = true
                                          end
                                    end

                                    dadosDeDano(dano, danoAutomatico)
                                    danoAutomatico = false
                              end
                              </event>
                        </image>
                        <!-- Nome Arma 14 -->
                        <rectangle left="65" top="1802" width="712" height="1" color="#49244F"/>
                        <edit left="68" top="1768" width="360" fontSize="18" horzTextAlign="leading" 
                              fontColor="#49244F" transparent="true" field="nomeArma14">
                              <event name="onUserChange">
                                    if sheet.nomeArma14 ~= nil then
                                          sheet.dadivaRevesArma14 = "Dádiva / Revés"
                                    else
                                          sheet.nomeArma14 = "--"
                                          sheet.dadivaRevesArma14 = "--"
                                    end
                                    
                                    if #sheet.nomeArma14 &gt; 39 then
                                          local delCaracteres = 38 - #sheet.nomeArma14
                                          sheet.nomeArma14 = string.sub(sheet.nomeArma14, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Atributo Arma 14 -->
                        <rectangle left="445" top="1771" width="100" height="30" color="#49244F"/>
                        <comboBox left="445" top="1776" items="{'Atributo', 'Força', 'Agilidade', 'Intelecto', 'Vontade'}" 
                              field="atributoArma14" fontColor="#D5D5D5" transparent="true" value="Atributo"/>
                        <!-- Mãos Arma 14 -->
                        <rectangle left="546" top="1771" width="115" height="30" color="#49244F"/>
                        <comboBox left="546" top="1774" items="{'Mãos', 'Mão Principal', 'Duas mãos', 'Mão Inábil', 'Gestos / Palavras', 'Símbolo Sagrado', 'Outro'}" 
                              field="maosArma14" fontColor="#D5D5D5" transparent="true" value="Mãos" 
                              width="115"/>
                        <!-- Dádiva / Revés Arma 14 -->
                        <rectangle left="662" top="1771" width="118" height="30" color="#49244F"/>
                        <edit left="662" top="1770" width="118" horzTextAlign="center" field="dadivaRevesArma14"
                              transparent="true" text="Dádiva / Revés">
                              <event name="onUserChange">
                                    if sheet.dadivaRevesArma14 == nil then
                                          sheet.dadivaRevesArma14 = "Dádiva / Revés"
                                    end

                                    if sheet.dadivaRevesArma14 ~= "Dádiva / Revés" then
                                          if #sheet.dadivaRevesArma14 &gt; 4 then
                                                local delCaracteres = 3 - #sheet.dadivaRevesArma14
                                                sheet.dadivaRevesArma14 = string.sub(sheet.dadivaRevesArma14, 1, delCaracteres)
                                          end
                                    end
                              </event>
                        </edit>
                        <!-- Propriedades Arma 14 -->
                        <rectangle left="60" top="1802" width="130" height="35" color="#49244F"/>
                        <label left="70" top="1809" width="280" fontSize="18" text="Propriedades:" 
                              fontColor="#D5D5D5"/>
                        <edit left="197" top="1678" width="460" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="propriedadesArma14">
                              <event name="onUserChange">
                                    if sheet.propriedadesArma14 == nil then
                                          sheet.propriedadesArma14 = "--"
                                    end
                                    
                                    if #sheet.propriedadesArma14 &gt; 52 then
                                          local delCaracteres = 51 - #sheet.propriedadesArma14
                                          sheet.propriedadesArma14 = string.sub(sheet.propriedadesArma14, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Dano Arma 14 -->
                        <rectangle left="662" top="1804" width="118" height="30" color="#49244F"/>
                        <label left="680" top="1810" width="280" fontSize="18" text="Dano:" 
                              fontColor="#D5D5D5"/>
                        <edit left="730" top="1679" width="40" horzTextAlign="center" field="danoArma14"
                              transparent="true">
                              <event name="onChange">
                                    if sheet.danoArma14 == nil then
                                          sheet.danoArma14 = "--"
                                    end
                                    
                                    if #sheet.danoArma14 &gt; 4 then
                                          local delCaracteres = 3 - #sheet.danoArma14
                                          sheet.danoArma14 = string.sub(sheet.danoArma14, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                  </rectangle>
            </layout>
            </scrollBox>

            <layout left="0" top="10" width="815" height="825">
                  <rectangle left="0" top="725" width="799" height="105" color="#D5D5D5"/>
                        <!-- Armadura e Escudo -->
                        <rectangle left="65" top="730" width="712" height="1" color="#49244F"/>
                        <rectangle left="65" top="735" width="712" height="1" color="#49244F"/>
                        <rectangle left="60" top="745" width="720" height="68" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="745" width="720" height="34" color="#49244F"/>
                        <label left="70" top="752" width="280" fontSize="20" text="Armadura e Escudo" 
                              fontColor="#D5D5D5" fontStyle="bold"/>
                        <edit left="68" top="779" width="705" fontSize="18" horzTextAlign="leading" 
                              fontColor="#49244F" transparent="true" field="armaduraEscudo">
                              <event name="onUserChange">
                                    if sheet.armaduraEscudo == nil then
                                          sheet.armaduraEscudo = "--"
                                    end

                                    if #sheet.armaduraEscudo &gt; 82 then
                                          local delCaracteres = 81 - #sheet.armaduraEscudo
                                          sheet.armaduraEscudo = string.sub(sheet.armaduraEscudo, 1, delCaracteres)
                                    end
                                    
                              </event>
                        </edit>   
                        
                  <!-- Objetos gráficos da ficha -->
                  <rectangle left="0" top="0" width="799" height="5" color="#D5D5D5">
                  </rectangle>
                  <image left="0" top="0" width="799" height="825" src="/img/borda.png"/>
            </layout>
            
      <image left="69" top="875" width="676" height="194" src="/img/logo.png"/>      
      </tab>


<!-- ============================================================================================= -->
<!-- Aba Talentos -->
      <tab title="Benefícios e Talentos"> 
            <scrollBox left="0" top="10" width="815" height="725">
            <layout left="0" top="10" width="799" height="3830">
            
                  <rectangle left="0" top="0" width="799" height="3830" color="#D5D5D5">
                        
                        
                        <!-- Traços de Ancestralidade e Talentos -->
                        <label left="170" top="60" width="480" fontSize="24" horzTextAlign="center" 
                              text="BENEFÍCIOS E TALENTOS" fontColor="#49244F" fontStyle="bold"/>
                        
                        <!-- Talento 01 -->
                        <rectangle left="60" top="95" width="720" height="231" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="95" width="720" height="50" color="#49244F"/>
                        <edit left="68" top="103" width="715" fontSize="20" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="true" 
                              field="Talento01">
                              <event name="onChange">
                                    if sheet.Talento01 == nil then
                                          sheet.Talento01 = "Talento"
                                    end
                                    
                                    if #sheet.Talento01 &gt; 65 then
                                          local delCaracteres = 64 - #sheet.Talento01
                                          sheet.Talento01 = string.sub(sheet.Talento01, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Talento 01 -->
                        <textEditor left="68" top="143" width="710" fontSize="18" height="183" 
                              fontColor="#49244F" transparent="true" field="descricaoTalento01"/>
                        <rectangle left="60" top="337" width="720" height="1" color="#49244F"/>
                        <rectangle left="60" top="332" width="720" height="1" color="#49244F"/>

                        <!-- Talento 02 -->
                        <rectangle left="60" top="345" width="720" height="231" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="345" width="720" height="50" color="#49244F"/>
                        <edit left="65" top="353" width="715" fontSize="20" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="true" 
                              field="Talento02">
                              <event name="onChange">
                                    if sheet.Talento02 == nil then
                                          sheet.Talento02 = "Talento"
                                    end
                                    
                                    if #sheet.Talento02 &gt; 65 then
                                          local delCaracteres = 64 - #sheet.Talento02
                                          sheet.Talento02 = string.sub(sheet.Talento02, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Talento 02 -->
                        <textEditor left="68" top="393" width="710" fontSize="18" height="183" 
                              fontColor="#49244F" transparent="true" field="descricaoTalento02"/>
                        <rectangle left="60" top="582" width="720" height="1" color="#49244F"/>
                        <rectangle left="60" top="587" width="720" height="1" color="#49244F"/>

                        <!-- Talento 03 -->
                        <rectangle left="60" top="595" width="720" height="231" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="595" width="720" height="50" color="#49244F"/>
                        <edit left="65" top="603" width="715" fontSize="20" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="true" 
                              field="Talento03">
                              <event name="onChange">
                                    if sheet.Talento03 == nil then
                                          sheet.Talento03 = "Talento"
                                    end
                                    
                                    if #sheet.Talento03 &gt; 65 then
                                          local delCaracteres = 64 - #sheet.Talento03
                                          sheet.Talento03 = string.sub(sheet.Talento03, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Talento 03 -->
                        <textEditor left="68" top="643" width="710" fontSize="18" height="183" 
                              fontColor="#49244F" transparent="true" field="descricaoTalento03"/>
                        <rectangle left="60" top="832" width="720" height="1" color="#49244F"/>
                        <rectangle left="60" top="837" width="720" height="1" color="#49244F"/>

                        <!-- Talento 04 -->
                        <rectangle left="60" top="845" width="720" height="231" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="845" width="720" height="50" color="#49244F"/>
                        <edit left="65" top="853" width="715" fontSize="20" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="true" 
                              field="Talento04">
                              <event name="onChange">
                                    if sheet.Talento04 == nil then
                                          sheet.Talento04 = "Talento"
                                    end
                                    
                                    if #sheet.Talento04 &gt; 65 then
                                          local delCaracteres = 64 - #sheet.Talento04
                                          sheet.Talento04 = string.sub(sheet.Talento04, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Talento 04 -->
                        <textEditor left="68" top="893" width="710" fontSize="18" height="183" 
                              fontColor="#49244F" transparent="true" field="descricaoTalento04"/>
                        <rectangle left="60" top="1082" width="720" height="1" color="#49244F"/>
                        <rectangle left="60" top="1087" width="720" height="1" color="#49244F"/>

                        <!-- Talento 05 -->
                        <rectangle left="60" top="1095" width="720" height="231" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="1095" width="720" height="50" color="#49244F"/>
                        <edit left="65" top="1103" width="715" fontSize="20" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="true" 
                              field="Talento05">
                              <event name="onChange">
                                    if sheet.Talento05 == nil then
                                          sheet.Talento05 = "Talento"
                                    end
                                    
                                    if #sheet.Talento05 &gt; 65 then
                                          local delCaracteres = 64 - #sheet.Talento05
                                          sheet.Talento05 = string.sub(sheet.Talento05, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Talento 05 -->
                        <textEditor left="68" top="1143" width="710" fontSize="18" height="183" 
                              fontColor="#49244F" transparent="true" field="descricaoTalento05"/>
                        <rectangle left="60" top="1332" width="720" height="1" color="#49244F"/>
                        <rectangle left="60" top="1337" width="720" height="1" color="#49244F"/>

                        <!-- Talento 06 -->
                        <rectangle left="60" top="1345" width="720" height="231" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="1345" width="720" height="50" color="#49244F"/>
                        <edit left="65" top="1353" width="715" fontSize="20" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="true" 
                              field="Talento06">
                              <event name="onChange">
                                    if sheet.Talento06 == nil then
                                          sheet.Talento06 = "Talento"
                                    end
                                    
                                    if #sheet.Talento06 &gt; 65 then
                                          local delCaracteres = 64 - #sheet.Talento06
                                          sheet.Talento06 = string.sub(sheet.Talento06, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Talento 06 -->
                        <textEditor left="68" top="1393" width="710" fontSize="18" height="183" 
                              fontColor="#49244F" transparent="true" field="descricaoTalento06"/>
                        <rectangle left="60" top="1582" width="720" height="1" color="#49244F"/>
                        <rectangle left="60" top="1587" width="720" height="1" color="#49244F"/>

                        <!-- Talento 07 -->
                        <rectangle left="60" top="1595" width="720" height="231" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="1595" width="720" height="50" color="#49244F"/>
                        <edit left="65" top="1603" width="715" fontSize="20" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="true" 
                              field="Talento07">
                              <event name="onChange">
                                    if sheet.Talento07 == nil then
                                          sheet.Talento07 = "Talento"
                                    end
                                    
                                    if #sheet.Talento07 &gt; 65 then
                                          local delCaracteres = 64 - #sheet.Talento07
                                          sheet.Talento07 = string.sub(sheet.Talento07, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Talento 07 -->
                        <textEditor left="68" top="1643" width="710" fontSize="18" height="183" 
                              fontColor="#49244F" transparent="true" field="descricaoTalento07"/>
                        <rectangle left="60" top="1832" width="720" height="1" color="#49244F"/>
                        <rectangle left="60" top="1837" width="720" height="1" color="#49244F"/>

                        <!-- Talento 08 -->
                        <rectangle left="60" top="1845" width="720" height="231" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="1845" width="720" height="50" color="#49244F"/>
                        <edit left="65" top="1853" width="715" fontSize="20" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="true" 
                              field="Talento08">
                              <event name="onChange">
                                    if sheet.Talento08 == nil then
                                          sheet.Talento08 = "Talento"
                                    end
                                    
                                    if #sheet.Talento08 &gt; 65 then
                                          local delCaracteres = 64 - #sheet.Talento08
                                          sheet.Talento08 = string.sub(sheet.Talento08, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Talento 08 -->
                        <textEditor left="68" top="1893" width="710" fontSize="18" height="183" 
                              fontColor="#49244F" transparent="true" field="descricaoTalento08"/>
                        <rectangle left="60" top="2082" width="720" height="1" color="#49244F"/>
                        <rectangle left="60" top="2087" width="720" height="1" color="#49244F"/>

                        <!-- Talento 09 -->
                        <rectangle left="60" top="2095" width="720" height="231" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="2095" width="720" height="50" color="#49244F"/>
                        <edit left="65" top="2103" width="715" fontSize="20" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="true" 
                              field="Talento09">
                              <event name="onChange">
                                    if sheet.Talento09 == nil then
                                          sheet.Talento09 = "Talento"
                                    end
                                    
                                    if #sheet.Talento09 &gt; 65 then
                                          local delCaracteres = 64 - #sheet.Talento09
                                          sheet.Talento09 = string.sub(sheet.Talento09, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Talento 09 -->
                        <textEditor left="68" top="2143" width="710" fontSize="18" height="183" 
                              fontColor="#49244F" transparent="true" field="descricaoTalento09"/>
                        <rectangle left="60" top="2332" width="720" height="1" color="#49244F"/>
                        <rectangle left="60" top="2337" width="720" height="1" color="#49244F"/>

                        <!-- Talento 10 -->
                        <rectangle left="60" top="2345" width="720" height="231" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="2345" width="720" height="50" color="#49244F"/>
                        <edit left="65" top="2353" width="715" fontSize="20" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="true" 
                              field="Talento10">
                              <event name="onChange">
                                    if sheet.Talento10 == nil then
                                          sheet.Talento10 = "Talento"
                                    end
                                    
                                    if #sheet.Talento10 &gt; 65 then
                                          local delCaracteres = 64 - #sheet.Talento10
                                          sheet.Talento10 = string.sub(sheet.Talento10, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Talento 10 -->
                        <textEditor left="68" top="2393" width="710" fontSize="18" height="183" 
                              fontColor="#49244F" transparent="true" field="descricaoTalento10"/>
                        <rectangle left="60" top="2582" width="720" height="1" color="#49244F"/>
                        <rectangle left="60" top="2587" width="720" height="1" color="#49244F"/>
                        
                        <!-- Talento 11 -->
                        <rectangle left="60" top="2595" width="720" height="231" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="2595" width="720" height="50" color="#49244F"/>
                        <edit left="65" top="2603" width="715" fontSize="20" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="true" 
                              field="Talento11">
                              <event name="onChange">
                                    if sheet.Talento11 == nil then
                                          sheet.Talento11 = "Talento"
                                    end
                                    
                                    if #sheet.Talento11 &gt; 65 then
                                          local delCaracteres = 64 - #sheet.Talento11
                                          sheet.Talento11 = string.sub(sheet.Talento11, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Talento 11 -->
                        <textEditor left="68" top="2643" width="710" fontSize="18" height="183" 
                              fontColor="#49244F" transparent="true" field="descricaoTalento11"/>
                        <rectangle left="60" top="2832" width="720" height="1" color="#49244F"/>
                        <rectangle left="60" top="2837" width="720" height="1" color="#49244F"/>

                        <!-- Talento 12 -->
                        <rectangle left="60" top="2845" width="720" height="231" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="2845" width="720" height="50" color="#49244F"/>
                        <edit left="65" top="2853" width="715" fontSize="20" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="true" 
                              field="Talento12">
                              <event name="onChange">
                                    if sheet.Talento12 == nil then
                                          sheet.Talento12 = "Talento"
                                    end
                                    
                                    if #sheet.Talento12 &gt; 65 then
                                          local delCaracteres = 64 - #sheet.Talento12
                                          sheet.Talento12 = string.sub(sheet.Talento12, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Talento 12 -->
                        <textEditor left="68" top="2893" width="710" fontSize="18" height="183" 
                              fontColor="#49244F" transparent="true" field="descricaoTalento12"/>
                        <rectangle left="60" top="3082" width="720" height="1" color="#49244F"/>
                        <rectangle left="60" top="3087" width="720" height="1" color="#49244F"/>

                        <!-- Talento 13 -->
                        <rectangle left="60" top="3095" width="720" height="231" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="3095" width="720" height="50" color="#49244F"/>
                        <edit left="65" top="3103" width="715" fontSize="20" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="true" 
                              field="Talento13">
                              <event name="onChange">
                                    if sheet.Talento13 == nil then
                                          sheet.Talento13 = "Talento"
                                    end
                                    
                                    if #sheet.Talento13 &gt; 65 then
                                          local delCaracteres = 64 - #sheet.Talento13
                                          sheet.Talento13 = string.sub(sheet.Talento13, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Talento 13 -->
                        <textEditor left="68" top="3143" width="710" fontSize="18" height="183" 
                              fontColor="#49244F" transparent="true" field="descricaoTalento13"/>
                        <rectangle left="60" top="3332" width="720" height="1" color="#49244F"/>
                        <rectangle left="60" top="3337" width="720" height="1" color="#49244F"/>

                        <!-- Talento 14 -->
                        <rectangle left="60" top="3345" width="720" height="231" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="3345" width="720" height="50" color="#49244F"/>
                        <edit left="65" top="3353" width="715" fontSize="20" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="true" 
                              field="Talento14">
                              <event name="onChange">
                                    if sheet.Talento14 == nil then
                                          sheet.Talento14 = "Talento"
                                    end
                                    
                                    if #sheet.Talento14 &gt; 65 then
                                          local delCaracteres = 64 - #sheet.Talento14
                                          sheet.Talento14 = string.sub(sheet.Talento14, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Talento 14 -->
                        <textEditor left="68" top="3393" width="710" fontSize="18" height="183" 
                              fontColor="#49244F" transparent="true" field="descricaoTalento14"/>
                        <rectangle left="60" top="3582" width="720" height="1" color="#49244F"/>
                        <rectangle left="60" top="3587" width="720" height="1" color="#49244F"/>

                        <!-- Talento 15 -->
                        <rectangle left="60" top="3595" width="720" height="231" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="3595" width="720" height="50" color="#49244F"/>
                        <edit left="65" top="3603" width="715" fontSize="20" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="true" 
                              field="Talento15">
                              <event name="onChange">
                                    if sheet.Talento15 == nil then
                                          sheet.Talento15 = "Talento"
                                    end
                                    
                                    if #sheet.Talento15 &gt; 65 then
                                          local delCaracteres = 64 - #sheet.Talento15
                                          sheet.Talento15 = string.sub(sheet.Talento15, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Talento 15 -->
                        <textEditor left="68" top="3643" width="710" fontSize="18" height="183" 
                              fontColor="#49244F" transparent="true" field="descricaoTalento15"/>

                  </rectangle>
            </layout>
            </scrollBox>

            <layout left="0" top="10" width="815" height="825">
                  <rectangle left="0" top="725" width="799" height="105" color="#D5D5D5"/>
                        <!-- Rodapé -->
                        <rectangle left="65" top="730" width="712" height="1" color="#49244F"/>
                        <rectangle left="65" top="735" width="712" height="1" color="#49244F"/>
                        <image left="260" top="745" width="324" height="72" src="/img/libelula.png"/>   
                        
                  <!-- Objetos gráficos da ficha -->
                  <rectangle left="0" top="0" width="799" height="5" color="#D5D5D5">
                  </rectangle>
                  <image left="0" top="0" width="799" height="825" src="/img/borda.png"/>
            </layout>
            
      <image left="69" top="875" width="676" height="194" src="/img/logo.png"/>      
      </tab>


<!-- ============================================================================================= -->
<!-- Aba Inventário -->
      <tab title="Inventário"> 
            <layout left="0" top="10" width="799" height="825">
            
                  <rectangle left="0" top="0" width="799" height="825" color="#D5D5D5">
                        
                        <!-- Equipamentos e Acessórios -->
                        <label left="180" top="60" width="480" fontSize="24" horzTextAlign="center" 
                              text="EQUIPAMENTOS E ACESSÓRIOS" fontColor="#49244F" fontStyle="bold"/>
                        <rectangle left="60" top="95" width="720" height="631" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="95" width="720" height="50" color="#49244F"/>
                        <label left="70" top="110" width="100" fontSize="20" text="Itens"
                              fontColor="#D5D5D5" fontStyle="bold"/>
                        <!-- Itens -->
                        <textEditor left="68" top="143" width="710" fontSize="18" height="581" 
                              fontColor="black" transparent="true" field="Itens"/>
                        <!-- Linhas -->
                        <rectangle left="70" top="168" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="191" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="214" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="237" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="262" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="285" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="310" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="334" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="359" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="382" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="407" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="432" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="457" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="481" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="505" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="529" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="553" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="576" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="599" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="622" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="646" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="670" width="700" height="1" color="#49244F"/>
                        <rectangle left="70" top="694" width="700" height="1" color="#49244F"/>

                        <!-- Dinheiro -->
                        <rectangle left="65" top="730" width="712" height="1" color="#49244F"/>
                        <rectangle left="65" top="735" width="712" height="1" color="#49244F"/>
                        <!-- Peça de Cobre -->
                        <image left="305" top="745" width="43" height="40" src="/img/pc.png"/>
                        <label left="275" top="795" text="PC _______" fontColor="#49244F"
                              fontSize="18" fontStyle="bold"/>
                        <edit left="297" top="785" fontColor="#49244F" field="pCobre" horzTextAlign="center"
                              fontSize="18" transparent="true" width="60">
                              <event name="onChange">
                                    if sheet.pCobre == nil then
                                          sheet.pCobre = "0"
                                    else
                                          if #sheet.pCobre &gt; 5 then
                                          local delCaracteres = 4 - #sheet.pCobre
                                                sheet.pCobre = string.sub(sheet.pCobre, 1, delCaracteres) 
                                          end
                                    end
                              </event>
                        </edit>
                        <!-- Peça de Prata -->
                        <image left="405" top="745" width="43" height="40" src="/img/pp.png"/>
                        <label left="375" top="795" text="PP _______" fontColor="#49244F"
                              fontSize="18" fontStyle="bold"/>
                        <edit left="397" top="785" fontColor="#49244F" field="pPrata" horzTextAlign="center"
                              fontSize="18" transparent="true" width="60">
                              <event name="onChange">
                                    if sheet.pPrata == nil then
                                          sheet.pPrata = "0"
                                    else
                                          if #sheet.pPrata &gt; 5 then
                                          local delCaracteres = 4 - #sheet.pPrata
                                                sheet.pPrata = string.sub(sheet.pPrata, 1, delCaracteres) 
                                          end
                                    end
                              </event>
                        </edit>
                        <!-- Peça de Ouro -->
                        <image left="505" top="745" width="43" height="40" src="/img/po.png"/>
                        <label left="475" top="795" text="PO _______" fontColor="#49244F"
                              fontSize="18" fontStyle="bold"/>
                        <edit left="497" top="785" fontColor="#49244F" field="pOuro" horzTextAlign="center"
                              fontSize="18" transparent="true" width="60">
                              <event name="onChange">
                                    if sheet.pOuro == nil then
                                          sheet.pOuro = "0"
                                    else
                                          if #sheet.pOuro &gt; 5 then
                                          local delCaracteres = 4 - #sheet.pOuro
                                                sheet.pOuro = string.sub(sheet.pOuro, 1, delCaracteres) 
                                          end
                                    end
                              </event>
                        </edit>   
                        
                  <!-- Objetos gráficos da ficha -->
                  </rectangle>
                  <image left="0" top="0" width="799" height="825" src="/img/borda.png"/>
            </layout>
            
      <image left="69" top="875" width="676" height="194" src="/img/logo.png"/>      
      </tab>


<!-- ============================================================================================= -->
<!-- Aba Magia -->
      <tab title="Feitiços"> 
            <scrollBox left="0" top="10" width="815" height="725">
            <layout left="0" top="10" width="799" height="1790">
            
                  <rectangle left="0" top="0" width="799" height="1790" color="#D5D5D5">
                        
                        
                        <!-- Magia -->
                        <label left="270" top="60" width="280" fontSize="24" horzTextAlign="center" 
                              text="FEITIÇOS" fontColor="#49244F" fontStyle="bold"/>
                        
                        <!--Nome Magia 01 -->
                        <rectangle left="60" top="95" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="95" width="350" height="50" color="#49244F"/>
                        <edit left="65" top="103" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia01">
                              <event name="onChange">
                                    if sheet.Magia01 == nil then
                                          sheet.Magia01 = "--"
                                    end
                                    
                                    if #sheet.Magia01 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia01
                                          sheet.Magia01 = string.sub(sheet.Magia01, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 01 -->
                        <rectangle left="60" top="176" width="350" height="1" color="#49244F"/>
                        <label left="70" top="149" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="143" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia01">
                              <event name="onChange">
                                    if sheet.tradicaoMagia01 == nil then
                                          sheet.tradicaoMagia01 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia01 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia01
                                          sheet.tradicaoMagia01 = string.sub(sheet.tradicaoMagia01, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 01 -->
                        <rectangle left="60" top="211" width="350" height="1" color="#49244F"/>
                        <label left="70" top="184" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="115" top="178" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia01">
                              <event name="onChange">
                                    if sheet.alvoMagia01 == nil then
                                          sheet.alvoMagia01 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia01 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia01
                                          sheet.alvoMagia01 = string.sub(sheet.alvoMagia01, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 01 -->
                        <rectangle left="60" top="246" width="350" height="3" color="#49244F"/>
                        <label left="70" top="219" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="213" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia01">
                              <event name="onChange">
                                    if sheet.duracaoMagia01 == nil then
                                          sheet.duracaoMagia01 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia01 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia01
                                          sheet.duracaoMagia01 = string.sub(sheet.duracaoMagia01, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 01 -->
                        <rectangle left="60" top="246" width="350" height="125" color="#49244F"/>
                        <textEditor left="65" top="251" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia01" fontSize="18"/>
                        <!-- Lançar Magia 01 -->
                        <rectangle left="60" top="371" width="350" height="3" color="#49244F"/>
                        <rectangle left="64" top="378" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia01 ~= nil and sheet.qtdMagia01 ~= "--"  then
                                          if sheet.Magia01 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia01 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia01 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia01 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia01 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia01) &gt; 0 then
                                                lancarMagia(sheet.Magia01, sheet.tradicaoMagia01, sheet.alvoMagia01, sheet.duracaoMagia01, sheet.descricaoMagia01)
                                                sheet.qtdMagia01 = tostring(tonumber(sheet.qtdMagia01) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="70" top="382" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="324" top="378" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="318" top="375" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia01" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia01 == nil then
                                          sheet.qtdMagia01 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia01 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia01
                                          sheet.qtdMagia01 = string.sub(sheet.qtdMagia01, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="360" top="382" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="374" top="376" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="368" top="375" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia01" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia01 == nil then
                                          sheet.maxMagia01 = "--"
                                    end
                                    
                                    if #sheet.maxMagia01 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia01
                                          sheet.maxMagia01 = string.sub(sheet.maxMagia01, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!--Nome Magia 02 -->
                        <rectangle left="434" top="95" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="434" top="95" width="350" height="50" color="#49244F"/>
                        <edit left="439" top="103" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia02">
                              <event name="onChange">
                                    if sheet.Magia02 == nil then
                                          sheet.Magia02 = "--"
                                    end
                                    
                                    if #sheet.Magia02 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia02
                                          sheet.Magia02 = string.sub(sheet.Magia02, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 02 -->
                        <rectangle left="434" top="176" width="350" height="1" color="#49244F"/>
                        <label left="444" top="149" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="143" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia02">
                              <event name="onChange">
                                    if sheet.tradicaoMagia02 == nil then
                                          sheet.tradicaoMagia02 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia02 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia02
                                          sheet.tradicaoMagia02 = string.sub(sheet.tradicaoMagia02, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 02 -->
                        <rectangle left="434" top="211" width="350" height="1" color="#49244F"/>
                        <label left="444" top="184" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="489" top="178" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia02">
                              <event name="onChange">
                                    if sheet.alvoMagia02 == nil then
                                          sheet.alvoMagia02 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia02 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia02
                                          sheet.alvoMagia02 = string.sub(sheet.alvoMagia02, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 02 -->
                        <rectangle left="434" top="246" width="350" height="3" color="#49244F"/>
                        <label left="444" top="219" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="213" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia02">
                              <event name="onChange">
                                    if sheet.duracaoMagia02 == nil then
                                          sheet.duracaoMagia02 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia02 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia02
                                          sheet.duracaoMagia02 = string.sub(sheet.duracaoMagia02, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 02 -->
                        <rectangle left="434" top="246" width="350" height="125" color="#49244F"/>
                        <textEditor left="439" top="251" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia02" fontSize="18"/>
                        <!-- Lançar Magia 02 -->
                        <rectangle left="434" top="371" width="350" height="3" color="#49244F"/>
                        <rectangle left="438" top="378" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia02 ~= nil and sheet.qtdMagia02 ~= "--"  then
                                          if sheet.Magia02 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia02 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia02 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia02 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia02 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia02) &gt; 0 then
                                                lancarMagia(sheet.Magia02, sheet.tradicaoMagia02, sheet.alvoMagia02, sheet.duracaoMagia02, sheet.descricaoMagia02)
                                                sheet.qtdMagia02 = tostring(tonumber(sheet.qtdMagia02) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="444" top="382" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="698" top="378" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="692" top="375" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia02" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia02 == nil then
                                          sheet.qtdMagia02 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia02 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia02
                                          sheet.qtdMagia02 = string.sub(sheet.qtdMagia02, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="734" top="382" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="748" top="376" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="743" top="375" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia02" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia02 == nil then
                                          sheet.maxMagia02 = "--"
                                    end
                                    
                                    if #sheet.maxMagia02 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia02
                                          sheet.maxMagia02 = string.sub(sheet.maxMagia02, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!--Nome Magia 03 -->
                        <rectangle left="60" top="435" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="435" width="350" height="50" color="#49244F"/>
                        <edit left="65" top="443" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia03">
                              <event name="onChange">
                                    if sheet.Magia03 == nil then
                                          sheet.Magia03 = "--"
                                    end
                                    
                                    if #sheet.Magia03 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia03
                                          sheet.Magia03 = string.sub(sheet.Magia03, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 03 -->
                        <rectangle left="60" top="516" width="350" height="1" color="#49244F"/>
                        <label left="70" top="489" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="483" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia03">
                              <event name="onChange">
                                    if sheet.tradicaoMagia03 == nil then
                                          sheet.tradicaoMagia03 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia03 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia03
                                          sheet.tradicaoMagia03 = string.sub(sheet.tradicaoMagia03, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 03 -->
                        <rectangle left="60" top="551" width="350" height="1" color="#49244F"/>
                        <label left="70" top="524" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="115" top="518" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia03">
                              <event name="onChange">
                                    if sheet.alvoMagia03 == nil then
                                          sheet.alvoMagia03 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia03 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia03
                                          sheet.alvoMagia03 = string.sub(sheet.alvoMagia03, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 03 -->
                        <rectangle left="60" top="586" width="350" height="3" color="#49244F"/>
                        <label left="70" top="559" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="553" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia03">
                              <event name="onChange">
                                    if sheet.duracaoMagia03 == nil then
                                          sheet.duracaoMagia03 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia03 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia03
                                          sheet.duracaoMagia03 = string.sub(sheet.duracaoMagia03, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 03 -->
                        <rectangle left="60" top="586" width="350" height="125" color="#49244F"/>
                        <textEditor left="65" top="591" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia03" fontSize="18"/>
                        <!-- Lançar Magia 03 -->
                        <rectangle left="60" top="711" width="350" height="3" color="#49244F"/>
                        <rectangle left="64" top="718" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia03 ~= nil and sheet.qtdMagia03 ~= "--"  then
                                          if sheet.Magia03 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia03 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia03 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia03 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia03 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia03) &gt; 0 then
                                                lancarMagia(sheet.Magia03, sheet.tradicaoMagia03, sheet.alvoMagia03, sheet.duracaoMagia03, sheet.descricaoMagia03)
                                                sheet.qtdMagia03 = tostring(tonumber(sheet.qtdMagia03) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="70" top="722" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="324" top="718" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="318" top="715" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia03" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia03 == nil then
                                          sheet.qtdMagia03 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia03 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia03
                                          sheet.qtdMagia03 = string.sub(sheet.qtdMagia03, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="360" top="722" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="374" top="716" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="368" top="715" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia03" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia03 == nil then
                                          sheet.maxMagia03 = "--"
                                    end
                                    
                                    if #sheet.maxMagia03 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia03
                                          sheet.maxMagia03 = string.sub(sheet.maxMagia03, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!--Nome Magia 04 -->
                        <rectangle left="434" top="435" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="434" top="435" width="350" height="50" color="#49244F"/>
                        <edit left="439" top="443" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia04">
                              <event name="onChange">
                                    if sheet.Magia04 == nil then
                                          sheet.Magia04 = "--"
                                    end
                                    
                                    if #sheet.Magia04 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia04
                                          sheet.Magia04 = string.sub(sheet.Magia04, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 04 -->
                        <rectangle left="434" top="516" width="350" height="1" color="#49244F"/>
                        <label left="444" top="489" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="483" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia04">
                              <event name="onChange">
                                    if sheet.tradicaoMagia04 == nil then
                                          sheet.tradicaoMagia04 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia04 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia04
                                          sheet.tradicaoMagia04 = string.sub(sheet.tradicaoMagia04, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 04 -->
                        <rectangle left="434" top="551" width="350" height="1" color="#49244F"/>
                        <label left="444" top="524" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="489" top="518" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia04">
                              <event name="onChange">
                                    if sheet.alvoMagia04 == nil then
                                          sheet.alvoMagia04 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia04 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia04
                                          sheet.alvoMagia04 = string.sub(sheet.alvoMagia04, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 04 -->
                        <rectangle left="434" top="586" width="350" height="3" color="#49244F"/>
                        <label left="444" top="559" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="553" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia04">
                              <event name="onChange">
                                    if sheet.duracaoMagia04 == nil then
                                          sheet.duracaoMagia04 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia04 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia04
                                          sheet.duracaoMagia04 = string.sub(sheet.duracaoMagia04, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 04 -->
                        <rectangle left="434" top="586" width="350" height="125" color="#49244F"/>
                        <textEditor left="439" top="591" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia04" fontSize="18"/>
                        <!-- Lançar Magia 04 -->
                        <rectangle left="434" top="711" width="350" height="3" color="#49244F"/>
                        <rectangle left="438" top="718" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia04 ~= nil and sheet.qtdMagia04 ~= "--"  then
                                          if sheet.Magia04 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia04 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia04 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia04 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia04 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia04) &gt; 0 then
                                                lancarMagia(sheet.Magia04, sheet.tradicaoMagia04, sheet.alvoMagia04, sheet.duracaoMagia04, sheet.descricaoMagia04)
                                                sheet.qtdMagia04 = tostring(tonumber(sheet.qtdMagia04) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="444" top="722" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="698" top="718" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="692" top="715" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia04" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia04 == nil then
                                          sheet.qtdMagia04 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia04 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia04
                                          sheet.qtdMagia04 = string.sub(sheet.qtdMagia04, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="734" top="722" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="748" top="716" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="743" top="715" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia04" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia04 == nil then
                                          sheet.maxMagia04 = "--"
                                    end
                                    
                                    if #sheet.maxMagia04 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia04
                                          sheet.maxMagia04 = string.sub(sheet.maxMagia04, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!--Nome Magia 05 -->
                        <rectangle left="60" top="775" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="775" width="350" height="50" color="#49244F"/>
                        <edit left="65" top="783" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia05">
                              <event name="onChange">
                                    if sheet.Magia05 == nil then
                                          sheet.Magia05 = "--"
                                    end
                                    
                                    if #sheet.Magia05 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia05
                                          sheet.Magia05 = string.sub(sheet.Magia05, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 05 -->
                        <rectangle left="60" top="856" width="350" height="1" color="#49244F"/>
                        <label left="70" top="829" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="823" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia05">
                              <event name="onChange">
                                    if sheet.tradicaoMagia05 == nil then
                                          sheet.tradicaoMagia05 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia05 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia05
                                          sheet.tradicaoMagia05 = string.sub(sheet.tradicaoMagia05, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 05 -->
                        <rectangle left="60" top="891" width="350" height="1" color="#49244F"/>
                        <label left="70" top="864" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="115" top="858" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia05">
                              <event name="onChange">
                                    if sheet.alvoMagia05 == nil then
                                          sheet.alvoMagia05 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia05 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia05
                                          sheet.alvoMagia05 = string.sub(sheet.alvoMagia05, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 05 -->
                        <rectangle left="60" top="926" width="350" height="3" color="#49244F"/>
                        <label left="70" top="899" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="893" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia05">
                              <event name="onChange">
                                    if sheet.duracaoMagia05 == nil then
                                          sheet.duracaoMagia05 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia05 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia05
                                          sheet.duracaoMagia05 = string.sub(sheet.duracaoMagia05, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 05 -->
                        <rectangle left="60" top="926" width="350" height="125" color="#49244F"/>
                        <textEditor left="65" top="931" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia05" fontSize="18"/>
                        <!-- Lançar Magia 05 -->
                        <rectangle left="60" top="1051" width="350" height="3" color="#49244F"/>
                        <rectangle left="64" top="1058" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia05 ~= nil and sheet.qtdMagia05 ~= "--"  then
                                          if sheet.Magia05 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia05 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia05 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia05 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia05 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia05) &gt; 0 then
                                                lancarMagia(sheet.Magia05, sheet.tradicaoMagia05, sheet.alvoMagia05, sheet.duracaoMagia05, sheet.descricaoMagia05)
                                                sheet.qtdMagia05 = tostring(tonumber(sheet.qtdMagia05) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="70" top="1062" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="324" top="1058" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="318" top="1055" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia05" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia05 == nil then
                                          sheet.qtdMagia05 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia05 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia05
                                          sheet.qtdMagia05 = string.sub(sheet.qtdMagia05, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="360" top="1062" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="374" top="1056" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="368" top="1055" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia05" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia05 == nil then
                                          sheet.maxMagia05 = "--"
                                    end
                                    
                                    if #sheet.maxMagia05 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia05
                                          sheet.maxMagia05 = string.sub(sheet.maxMagia05, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!--Nome Magia 06 -->
                        <rectangle left="434" top="775" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="434" top="775" width="350" height="50" color="#49244F"/>
                        <edit left="439" top="783" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia06">
                              <event name="onChange">
                                    if sheet.Magia06 == nil then
                                          sheet.Magia06 = "--"
                                    end
                                    
                                    if #sheet.Magia06 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia06
                                          sheet.Magia06 = string.sub(sheet.Magia06, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 06 -->
                        <rectangle left="434" top="856" width="350" height="1" color="#49244F"/>
                        <label left="444" top="829" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="823" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia06">
                              <event name="onChange">
                                    if sheet.tradicaoMagia06 == nil then
                                          sheet.tradicaoMagia06 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia06 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia06
                                          sheet.tradicaoMagia06 = string.sub(sheet.tradicaoMagia06, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 06 -->
                        <rectangle left="434" top="891" width="350" height="1" color="#49244F"/>
                        <label left="444" top="864" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="489" top="858" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia06">
                              <event name="onChange">
                                    if sheet.alvoMagia06 == nil then
                                          sheet.alvoMagia06 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia06 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia06
                                          sheet.alvoMagia06 = string.sub(sheet.alvoMagia06, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 06 -->
                        <rectangle left="434" top="926" width="350" height="3" color="#49244F"/>
                        <label left="444" top="899" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="893" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia06">
                              <event name="onChange">
                                    if sheet.duracaoMagia06 == nil then
                                          sheet.duracaoMagia06 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia06 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia06
                                          sheet.duracaoMagia06 = string.sub(sheet.duracaoMagia06, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 06 -->
                        <rectangle left="434" top="926" width="350" height="125" color="#49244F"/>
                        <textEditor left="439" top="931" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia06" fontSize="18"/>
                        <!-- Lançar Magia 06 -->
                        <rectangle left="434" top="1051" width="350" height="3" color="#49244F"/>
                        <rectangle left="438" top="1058" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia06 ~= nil and sheet.qtdMagia06 ~= "--"  then
                                          if sheet.Magia06 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia06 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia06 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia06 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia06 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia06) &gt; 0 then
                                                lancarMagia(sheet.Magia06, sheet.tradicaoMagia06, sheet.alvoMagia06, sheet.duracaoMagia06, sheet.descricaoMagia06)
                                                sheet.qtdMagia06 = tostring(tonumber(sheet.qtdMagia06) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="444" top="1062" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="698" top="1058" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="692" top="1055" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia06" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia06 == nil then
                                          sheet.qtdMagia06 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia06 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia06
                                          sheet.qtdMagia06 = string.sub(sheet.qtdMagia06, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="734" top="1062" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="748" top="1056" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="743" top="1055" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia06" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia06 == nil then
                                          sheet.maxMagia06 = "--"
                                    end
                                    
                                    if #sheet.maxMagia06 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia06
                                          sheet.maxMagia06 = string.sub(sheet.maxMagia06, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!--Nome Magia 07 -->
                        <rectangle left="60" top="1115" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="1115" width="350" height="50" color="#49244F"/>
                        <edit left="65" top="1123" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia07">
                              <event name="onChange">
                                    if sheet.Magia07 == nil then
                                          sheet.Magia07 = "--"
                                    end
                                    
                                    if #sheet.Magia07 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia07
                                          sheet.Magia07 = string.sub(sheet.Magia07, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 07 -->
                        <rectangle left="60" top="1196" width="350" height="1" color="#49244F"/>
                        <label left="70" top="1169" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="1163" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia07">
                              <event name="onChange">
                                    if sheet.tradicaoMagia07 == nil then
                                          sheet.tradicaoMagia07 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia07 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia07
                                          sheet.tradicaoMagia07 = string.sub(sheet.tradicaoMagia07, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 07 -->
                        <rectangle left="60" top="1231" width="350" height="1" color="#49244F"/>
                        <label left="70" top="1204" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="115" top="1198" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia07">
                              <event name="onChange">
                                    if sheet.alvoMagia07 == nil then
                                          sheet.alvoMagia07 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia07 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia07
                                          sheet.alvoMagia07 = string.sub(sheet.alvoMagia07, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 07 -->
                        <rectangle left="60" top="1266" width="350" height="3" color="#49244F"/>
                        <label left="70" top="1239" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="1233" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia07">
                              <event name="onChange">
                                    if sheet.duracaoMagia07 == nil then
                                          sheet.duracaoMagia07 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia07 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia07
                                          sheet.duracaoMagia07 = string.sub(sheet.duracaoMagia07, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 07 -->
                        <rectangle left="60" top="1266" width="350" height="125" color="#49244F"/>
                        <textEditor left="65" top="1271" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia07" fontSize="18"/>
                        <!-- Lançar Magia 07 -->
                        <rectangle left="60" top="1391" width="350" height="3" color="#49244F"/>
                        <rectangle left="64" top="1398" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia07 ~= nil and sheet.qtdMagia07 ~= "--"  then
                                          if sheet.Magia07 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia07 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia07 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia07 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia07 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia07) &gt; 0 then
                                                lancarMagia(sheet.Magia07, sheet.tradicaoMagia07, sheet.alvoMagia07, sheet.duracaoMagia07, sheet.descricaoMagia07)
                                                sheet.qtdMagia07 = tostring(tonumber(sheet.qtdMagia07) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="70" top="1402" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="324" top="1398" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="318" top="1395" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia07" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia07 == nil then
                                          sheet.qtdMagia07 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia07 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia07
                                          sheet.qtdMagia07 = string.sub(sheet.qtdMagia07, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="360" top="1402" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="374" top="1396" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="368" top="1395" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia07" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia07 == nil then
                                          sheet.maxMagia07 = "--"
                                    end
                                    
                                    if #sheet.maxMagia07 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia07
                                          sheet.maxMagia07 = string.sub(sheet.maxMagia07, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!--Nome Magia 08 -->
                        <rectangle left="434" top="1115" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="434" top="1115" width="350" height="50" color="#49244F"/>
                        <edit left="439" top="1123" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia08">
                              <event name="onChange">
                                    if sheet.Magia08 == nil then
                                          sheet.Magia08 = "--"
                                    end
                                    
                                    if #sheet.Magia08 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia08
                                          sheet.Magia08 = string.sub(sheet.Magia08, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 08 -->
                        <rectangle left="434" top="1196" width="350" height="1" color="#49244F"/>
                        <label left="444" top="1169" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="1163" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia08">
                              <event name="onChange">
                                    if sheet.tradicaoMagia08 == nil then
                                          sheet.tradicaoMagia08 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia08 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia08
                                          sheet.tradicaoMagia08 = string.sub(sheet.tradicaoMagia08, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 08 -->
                        <rectangle left="434" top="1231" width="350" height="1" color="#49244F"/>
                        <label left="444" top="1204" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="489" top="1198" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia08">
                              <event name="onChange">
                                    if sheet.alvoMagia08 == nil then
                                          sheet.alvoMagia08 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia08 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia08
                                          sheet.alvoMagia08 = string.sub(sheet.alvoMagia08, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 08 -->
                        <rectangle left="434" top="1266" width="350" height="3" color="#49244F"/>
                        <label left="444" top="1239" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="1233" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia08">
                              <event name="onChange">
                                    if sheet.duracaoMagia08 == nil then
                                          sheet.duracaoMagia08 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia08 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia08
                                          sheet.duracaoMagia08 = string.sub(sheet.duracaoMagia08, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 08 -->
                        <rectangle left="434" top="1266" width="350" height="125" color="#49244F"/>
                        <textEditor left="439" top="1271" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia08" fontSize="18"/>
                        <!-- Lançar Magia 08 -->
                        <rectangle left="434" top="1391" width="350" height="3" color="#49244F"/>
                        <rectangle left="438" top="1398" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia08 ~= nil and sheet.qtdMagia08 ~= "--"  then
                                          if sheet.Magia08 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia08 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia08 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia08 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia08 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia08) &gt; 0 then
                                                lancarMagia(sheet.Magia08, sheet.tradicaoMagia08, sheet.alvoMagia08, sheet.duracaoMagia08, sheet.descricaoMagia08)
                                                sheet.qtdMagia08 = tostring(tonumber(sheet.qtdMagia08) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="444" top="1402" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="698" top="1398" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="692" top="1395" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia08" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia08 == nil then
                                          sheet.qtdMagia08 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia08 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia08
                                          sheet.qtdMagia08 = string.sub(sheet.qtdMagia08, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="734" top="1402" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="748" top="1396" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="743" top="1395" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia08" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia08 == nil then
                                          sheet.maxMagia08 = "--"
                                    end
                                    
                                    if #sheet.maxMagia08 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia08
                                          sheet.maxMagia08 = string.sub(sheet.maxMagia08, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!--Nome Magia 09 -->
                        <rectangle left="60" top="1455" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="1455" width="350" height="50" color="#49244F"/>
                        <edit left="65" top="1463" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia09">
                              <event name="onChange">
                                    if sheet.Magia09 == nil then
                                          sheet.Magia09 = "--"
                                    end
                                    
                                    if #sheet.Magia09 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia09
                                          sheet.Magia09 = string.sub(sheet.Magia09, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 09 -->
                        <rectangle left="60" top="1536" width="350" height="1" color="#49244F"/>
                        <label left="70" top="1509" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="1503" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia09">
                              <event name="onChange">
                                    if sheet.tradicaoMagia09 == nil then
                                          sheet.tradicaoMagia09 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia09 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia09
                                          sheet.tradicaoMagia09 = string.sub(sheet.tradicaoMagia09, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 09 -->
                        <rectangle left="60" top="1571" width="350" height="1" color="#49244F"/>
                        <label left="70" top="1544" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="115" top="1538" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia09">
                              <event name="onChange">
                                    if sheet.alvoMagia09 == nil then
                                          sheet.alvoMagia09 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia09 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia09
                                          sheet.alvoMagia09 = string.sub(sheet.alvoMagia09, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 09 -->
                        <rectangle left="60" top="1606" width="350" height="3" color="#49244F"/>
                        <label left="70" top="1579" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="1573" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia09">
                              <event name="onChange">
                                    if sheet.duracaoMagia09 == nil then
                                          sheet.duracaoMagia09 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia09 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia09
                                          sheet.duracaoMagia09 = string.sub(sheet.duracaoMagia09, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 09 -->
                        <rectangle left="60" top="1606" width="350" height="125" color="#49244F"/>
                        <textEditor left="65" top="1611" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia09" fontSize="18"/>
                        <!-- Lançar Magia 09 -->
                        <rectangle left="60" top="1731" width="350" height="3" color="#49244F"/>
                        <rectangle left="64" top="1738" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia09 ~= nil and sheet.qtdMagia09 ~= "--"  then
                                          if sheet.Magia09 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia09 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia09 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia09 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia09 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia09) &gt; 0 then
                                                lancarMagia(sheet.Magia09, sheet.tradicaoMagia09, sheet.alvoMagia09, sheet.duracaoMagia09, sheet.descricaoMagia09)
                                                sheet.qtdMagia09 = tostring(tonumber(sheet.qtdMagia09) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="70" top="1742" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="324" top="1738" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="318" top="1735" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia09" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia09 == nil then
                                          sheet.qtdMagia09 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia09 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia09
                                          sheet.qtdMagia09 = string.sub(sheet.qtdMagia09, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="360" top="1742" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="374" top="1736" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="368" top="1735" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia09" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia09 == nil then
                                          sheet.maxMagia09 = "--"
                                    end
                                    
                                    if #sheet.maxMagia09 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia09
                                          sheet.maxMagia09 = string.sub(sheet.maxMagia09, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!--Nome Magia 10 -->
                        <rectangle left="434" top="1455" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="434" top="1455" width="350" height="50" color="#49244F"/>
                        <edit left="439" top="1463" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia10">
                              <event name="onChange">
                                    if sheet.Magia10 == nil then
                                          sheet.Magia10 = "--"
                                    end
                                    
                                    if #sheet.Magia10 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia10
                                          sheet.Magia10 = string.sub(sheet.Magia10, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 10 -->
                        <rectangle left="434" top="1536" width="350" height="1" color="#49244F"/>
                        <label left="444" top="1509" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="1503" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia10">
                              <event name="onChange">
                                    if sheet.tradicaoMagia10 == nil then
                                          sheet.tradicaoMagia10 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia10 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia10
                                          sheet.tradicaoMagia10 = string.sub(sheet.tradicaoMagia10, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 10 -->
                        <rectangle left="434" top="1571" width="350" height="1" color="#49244F"/>
                        <label left="444" top="1544" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="489" top="1538" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia10">
                              <event name="onChange">
                                    if sheet.alvoMagia10 == nil then
                                          sheet.alvoMagia10 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia10 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia10
                                          sheet.alvoMagia10 = string.sub(sheet.alvoMagia10, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 10 -->
                        <rectangle left="434" top="1606" width="350" height="3" color="#49244F"/>
                        <label left="444" top="1579" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="1573" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia10">
                              <event name="onChange">
                                    if sheet.duracaoMagia10 == nil then
                                          sheet.duracaoMagia10 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia10 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia10
                                          sheet.duracaoMagia10 = string.sub(sheet.duracaoMagia10, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 10 -->
                        <rectangle left="434" top="1606" width="350" height="125" color="#49244F"/>
                        <textEditor left="439" top="1611" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia10" fontSize="18"/>
                        <!-- Lançar Magia 10 -->
                        <rectangle left="434" top="1731" width="350" height="3" color="#49244F"/>
                        <rectangle left="438" top="1738" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia10 ~= nil and sheet.qtdMagia10 ~= "--"  then
                                          if sheet.Magia10 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia10 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia10 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia10 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia10 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia10) &gt; 0 then
                                                lancarMagia(sheet.Magia10, sheet.tradicaoMagia10, sheet.alvoMagia10, sheet.duracaoMagia10, sheet.descricaoMagia10)
                                                sheet.qtdMagia10 = tostring(tonumber(sheet.qtdMagia10) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="444" top="1742" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="698" top="1738" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="692" top="1735" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia10" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia10 == nil then
                                          sheet.qtdMagia10 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia10 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia10
                                          sheet.qtdMagia10 = string.sub(sheet.qtdMagia10, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="734" top="1742" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="748" top="1736" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="743" top="1735" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia10" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia10 == nil then
                                          sheet.maxMagia10 = "--"
                                    end
                                    
                                    if #sheet.maxMagia10 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia10
                                          sheet.maxMagia10 = string.sub(sheet.maxMagia10, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        
                        
                  </rectangle>
            </layout>
            </scrollBox>

            <layout left="0" top="10" width="815" height="825">
                  <rectangle left="0" top="725" width="799" height="105" color="#D5D5D5"/>
                        <!-- Livros Mágicos -->
                        <rectangle left="65" top="730" width="712" height="1" color="#49244F"/>
                        <rectangle left="65" top="735" width="712" height="1" color="#49244F"/>
                        <image left="270" top="750" width="288" height="56" src="/img/livrosMagicos.png"/>   
                        
                  <!-- Objetos gráficos da ficha -->
                  <rectangle left="0" top="0" width="799" height="5" color="#D5D5D5">
                  </rectangle>
                  <image left="0" top="0" width="799" height="825" src="/img/borda.png"/>
            </layout>
            
      <image left="69" top="875" width="676" height="194" src="/img/logo.png"/>      
      </tab>


<!-- ============================================================================================= -->
<!-- Aba Magia -->
      <tab title="Feitiços"> 
            <scrollBox left="0" top="10" width="815" height="725">
            <layout left="0" top="10" width="799" height="1790">
            
                  <rectangle left="0" top="0" width="799" height="1790" color="#D5D5D5">
                        
                        
                        <!-- Magia -->
                        <label left="270" top="60" width="280" fontSize="24" horzTextAlign="center" 
                              text="FEITIÇOS" fontColor="#49244F" fontStyle="bold"/>
                        
                        <!--Nome Magia 11 -->
                        <rectangle left="60" top="95" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="95" width="350" height="50" color="#49244F"/>
                        <edit left="65" top="103" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia11">
                              <event name="onChange">
                                    if sheet.Magia11 == nil then
                                          sheet.Magia11 = "--"
                                    end
                                    
                                    if #sheet.Magia11 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia11
                                          sheet.Magia11 = string.sub(sheet.Magia11, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 11 -->
                        <rectangle left="60" top="176" width="350" height="1" color="#49244F"/>
                        <label left="70" top="149" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="143" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia11">
                              <event name="onChange">
                                    if sheet.tradicaoMagia11 == nil then
                                          sheet.tradicaoMagia11 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia11 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia11
                                          sheet.tradicaoMagia11 = string.sub(sheet.tradicaoMagia11, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 11 -->
                        <rectangle left="60" top="211" width="350" height="1" color="#49244F"/>
                        <label left="70" top="184" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="115" top="178" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia11">
                              <event name="onChange">
                                    if sheet.alvoMagia11 == nil then
                                          sheet.alvoMagia11 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia11 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia11
                                          sheet.alvoMagia11 = string.sub(sheet.alvoMagia11, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 11 -->
                        <rectangle left="60" top="246" width="350" height="3" color="#49244F"/>
                        <label left="70" top="219" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="213" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia11">
                              <event name="onChange">
                                    if sheet.duracaoMagia11 == nil then
                                          sheet.duracaoMagia11 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia11 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia11
                                          sheet.duracaoMagia11 = string.sub(sheet.duracaoMagia11, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 11 -->
                        <rectangle left="60" top="246" width="350" height="125" color="#49244F"/>
                        <textEditor left="65" top="251" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia11" fontSize="18"/>
                        <!-- Lançar Magia 11 -->
                        <rectangle left="60" top="371" width="350" height="3" color="#49244F"/>
                        <rectangle left="64" top="378" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia11 ~= nil and sheet.qtdMagia11 ~= "--"  then
                                          if sheet.Magia11 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia11 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia11 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia11 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia11 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia11) &gt; 0 then
                                                lancarMagia(sheet.Magia11, sheet.tradicaoMagia11, sheet.alvoMagia11, sheet.duracaoMagia11, sheet.descricaoMagia11)
                                                sheet.qtdMagia11 = tostring(tonumber(sheet.qtdMagia11) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="70" top="382" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="324" top="378" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="318" top="375" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia11" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia11 == nil then
                                          sheet.qtdMagia11 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia11 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia11
                                          sheet.qtdMagia11 = string.sub(sheet.qtdMagia11, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="360" top="382" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="374" top="376" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="368" top="375" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia11" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia11 == nil then
                                          sheet.maxMagia11 = "--"
                                    end
                                    
                                    if #sheet.maxMagia11 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia11
                                          sheet.maxMagia11 = string.sub(sheet.maxMagia11, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!--Nome Magia 12 -->
                        <rectangle left="434" top="95" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="434" top="95" width="350" height="50" color="#49244F"/>
                        <edit left="439" top="103" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia12">
                              <event name="onChange">
                                    if sheet.Magia12 == nil then
                                          sheet.Magia12 = "--"
                                    end
                                    
                                    if #sheet.Magia12 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia12
                                          sheet.Magia12 = string.sub(sheet.Magia12, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 12 -->
                        <rectangle left="434" top="176" width="350" height="1" color="#49244F"/>
                        <label left="444" top="149" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="143" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia12">
                              <event name="onChange">
                                    if sheet.tradicaoMagia12 == nil then
                                          sheet.tradicaoMagia12 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia12 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia12
                                          sheet.tradicaoMagia12 = string.sub(sheet.tradicaoMagia12, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 12 -->
                        <rectangle left="434" top="211" width="350" height="1" color="#49244F"/>
                        <label left="444" top="184" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="489" top="178" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia12">
                              <event name="onChange">
                                    if sheet.alvoMagia12 == nil then
                                          sheet.alvoMagia12 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia12 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia12
                                          sheet.alvoMagia12 = string.sub(sheet.alvoMagia12, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 12 -->
                        <rectangle left="434" top="246" width="350" height="3" color="#49244F"/>
                        <label left="444" top="219" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="213" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia12">
                              <event name="onChange">
                                    if sheet.duracaoMagia12 == nil then
                                          sheet.duracaoMagia12 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia12 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia12
                                          sheet.duracaoMagia12 = string.sub(sheet.duracaoMagia12, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 12 -->
                        <rectangle left="434" top="246" width="350" height="125" color="#49244F"/>
                        <textEditor left="439" top="251" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia12" fontSize="18"/>
                        <!-- Lançar Magia 12 -->
                        <rectangle left="434" top="371" width="350" height="3" color="#49244F"/>
                        <rectangle left="438" top="378" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia12 ~= nil and sheet.qtdMagia12 ~= "--"  then
                                          if sheet.Magia12 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia12 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia12 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia12 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia12 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia12) &gt; 0 then
                                                lancarMagia(sheet.Magia12, sheet.tradicaoMagia12, sheet.alvoMagia12, sheet.duracaoMagia12, sheet.descricaoMagia12)
                                                sheet.qtdMagia12 = tostring(tonumber(sheet.qtdMagia12) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="444" top="382" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="698" top="378" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="692" top="375" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia12" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia12 == nil then
                                          sheet.qtdMagia12 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia12 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia12
                                          sheet.qtdMagia12 = string.sub(sheet.qtdMagia12, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="734" top="382" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="748" top="376" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="743" top="375" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia12" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia12 == nil then
                                          sheet.maxMagia12 = "--"
                                    end
                                    
                                    if #sheet.maxMagia12 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia12
                                          sheet.maxMagia12 = string.sub(sheet.maxMagia12, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!--Nome Magia 13 -->
                        <rectangle left="60" top="435" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="435" width="350" height="50" color="#49244F"/>
                        <edit left="65" top="443" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia13">
                              <event name="onChange">
                                    if sheet.Magia13 == nil then
                                          sheet.Magia13 = "--"
                                    end
                                    
                                    if #sheet.Magia13 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia13
                                          sheet.Magia13 = string.sub(sheet.Magia13, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 13 -->
                        <rectangle left="60" top="516" width="350" height="1" color="#49244F"/>
                        <label left="70" top="489" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="483" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia13">
                              <event name="onChange">
                                    if sheet.tradicaoMagia13 == nil then
                                          sheet.tradicaoMagia13 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia13 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia13
                                          sheet.tradicaoMagia13 = string.sub(sheet.tradicaoMagia13, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 13 -->
                        <rectangle left="60" top="551" width="350" height="1" color="#49244F"/>
                        <label left="70" top="524" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="115" top="518" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia13">
                              <event name="onChange">
                                    if sheet.alvoMagia13 == nil then
                                          sheet.alvoMagia13 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia13 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia13
                                          sheet.alvoMagia13 = string.sub(sheet.alvoMagia13, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 13 -->
                        <rectangle left="60" top="586" width="350" height="3" color="#49244F"/>
                        <label left="70" top="559" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="553" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia13">
                              <event name="onChange">
                                    if sheet.duracaoMagia13 == nil then
                                          sheet.duracaoMagia13 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia13 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia13
                                          sheet.duracaoMagia13 = string.sub(sheet.duracaoMagia13, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 13 -->
                        <rectangle left="60" top="586" width="350" height="125" color="#49244F"/>
                        <textEditor left="65" top="591" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia13" fontSize="18"/>
                        <!-- Lançar Magia 13 -->
                        <rectangle left="60" top="711" width="350" height="3" color="#49244F"/>
                        <rectangle left="64" top="718" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia13 ~= nil and sheet.qtdMagia13 ~= "--"  then
                                          if sheet.Magia13 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia13 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia13 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia13 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia13 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia13) &gt; 0 then
                                                lancarMagia(sheet.Magia13, sheet.tradicaoMagia13, sheet.alvoMagia13, sheet.duracaoMagia13, sheet.descricaoMagia13)
                                                sheet.qtdMagia13 = tostring(tonumber(sheet.qtdMagia13) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="70" top="722" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="324" top="718" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="318" top="715" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia13" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia13 == nil then
                                          sheet.qtdMagia13 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia13 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia13
                                          sheet.qtdMagia13 = string.sub(sheet.qtdMagia13, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="360" top="722" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="374" top="716" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="368" top="715" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia13" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia13 == nil then
                                          sheet.maxMagia13 = "--"
                                    end
                                    
                                    if #sheet.maxMagia13 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia13
                                          sheet.maxMagia13 = string.sub(sheet.maxMagia13, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!--Nome Magia 14 -->
                        <rectangle left="434" top="435" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="434" top="435" width="350" height="50" color="#49244F"/>
                        <edit left="439" top="443" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia14">
                              <event name="onChange">
                                    if sheet.Magia14 == nil then
                                          sheet.Magia14 = "--"
                                    end
                                    
                                    if #sheet.Magia14 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia14
                                          sheet.Magia14 = string.sub(sheet.Magia14, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 14 -->
                        <rectangle left="434" top="516" width="350" height="1" color="#49244F"/>
                        <label left="444" top="489" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="483" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia14">
                              <event name="onChange">
                                    if sheet.tradicaoMagia14 == nil then
                                          sheet.tradicaoMagia14 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia14 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia14
                                          sheet.tradicaoMagia14 = string.sub(sheet.tradicaoMagia14, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 14 -->
                        <rectangle left="434" top="551" width="350" height="1" color="#49244F"/>
                        <label left="444" top="524" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="489" top="518" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia14">
                              <event name="onChange">
                                    if sheet.alvoMagia14 == nil then
                                          sheet.alvoMagia14 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia14 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia14
                                          sheet.alvoMagia14 = string.sub(sheet.alvoMagia14, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 14 -->
                        <rectangle left="434" top="586" width="350" height="3" color="#49244F"/>
                        <label left="444" top="559" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="553" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia14">
                              <event name="onChange">
                                    if sheet.duracaoMagia14 == nil then
                                          sheet.duracaoMagia14 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia14 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia14
                                          sheet.duracaoMagia14 = string.sub(sheet.duracaoMagia14, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 14 -->
                        <rectangle left="434" top="586" width="350" height="125" color="#49244F"/>
                        <textEditor left="439" top="591" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia14" fontSize="18"/>
                        <!-- Lançar Magia 14 -->
                        <rectangle left="434" top="711" width="350" height="3" color="#49244F"/>
                        <rectangle left="438" top="718" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia14 ~= nil and sheet.qtdMagia14 ~= "--"  then
                                          if sheet.Magia14 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia14 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia14 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia14 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia14 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia14) &gt; 0 then
                                                lancarMagia(sheet.Magia14, sheet.tradicaoMagia14, sheet.alvoMagia14, sheet.duracaoMagia14, sheet.descricaoMagia14)
                                                sheet.qtdMagia14 = tostring(tonumber(sheet.qtdMagia14) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="444" top="722" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="698" top="718" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="692" top="715" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia14" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia14 == nil then
                                          sheet.qtdMagia14 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia14 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia14
                                          sheet.qtdMagia14 = string.sub(sheet.qtdMagia14, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="734" top="722" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="748" top="716" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="743" top="715" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia14" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia14 == nil then
                                          sheet.maxMagia14 = "--"
                                    end
                                    
                                    if #sheet.maxMagia14 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia14
                                          sheet.maxMagia14 = string.sub(sheet.maxMagia14, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!--Nome Magia 15 -->
                        <rectangle left="60" top="775" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="775" width="350" height="50" color="#49244F"/>
                        <edit left="65" top="783" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia15">
                              <event name="onChange">
                                    if sheet.Magia15 == nil then
                                          sheet.Magia15 = "--"
                                    end
                                    
                                    if #sheet.Magia15 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia15
                                          sheet.Magia15 = string.sub(sheet.Magia15, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 15 -->
                        <rectangle left="60" top="856" width="350" height="1" color="#49244F"/>
                        <label left="70" top="829" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="823" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia15">
                              <event name="onChange">
                                    if sheet.tradicaoMagia15 == nil then
                                          sheet.tradicaoMagia15 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia15 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia15
                                          sheet.tradicaoMagia15 = string.sub(sheet.tradicaoMagia15, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 15 -->
                        <rectangle left="60" top="891" width="350" height="1" color="#49244F"/>
                        <label left="70" top="864" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="115" top="858" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia15">
                              <event name="onChange">
                                    if sheet.alvoMagia15 == nil then
                                          sheet.alvoMagia15 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia15 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia15
                                          sheet.alvoMagia15 = string.sub(sheet.alvoMagia15, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 15 -->
                        <rectangle left="60" top="926" width="350" height="3" color="#49244F"/>
                        <label left="70" top="899" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="893" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia15">
                              <event name="onChange">
                                    if sheet.duracaoMagia15 == nil then
                                          sheet.duracaoMagia15 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia15 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia15
                                          sheet.duracaoMagia15 = string.sub(sheet.duracaoMagia15, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 15 -->
                        <rectangle left="60" top="926" width="350" height="125" color="#49244F"/>
                        <textEditor left="65" top="931" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia15" fontSize="18"/>
                        <!-- Lançar Magia 15 -->
                        <rectangle left="60" top="1051" width="350" height="3" color="#49244F"/>
                        <rectangle left="64" top="1058" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia15 ~= nil and sheet.qtdMagia15 ~= "--"  then
                                          if sheet.Magia15 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia15 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia15 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia15 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia15 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia15) &gt; 0 then
                                                lancarMagia(sheet.Magia15, sheet.tradicaoMagia15, sheet.alvoMagia15, sheet.duracaoMagia15, sheet.descricaoMagia15)
                                                sheet.qtdMagia15 = tostring(tonumber(sheet.qtdMagia15) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="70" top="1062" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="324" top="1058" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="318" top="1055" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia15" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia15 == nil then
                                          sheet.qtdMagia15 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia15 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia15
                                          sheet.qtdMagia15 = string.sub(sheet.qtdMagia15, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="360" top="1062" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="374" top="1056" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="368" top="1055" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia15" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia15 == nil then
                                          sheet.maxMagia15 = "--"
                                    end
                                    
                                    if #sheet.maxMagia15 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia15
                                          sheet.maxMagia15 = string.sub(sheet.maxMagia15, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!--Nome Magia 16 -->
                        <rectangle left="434" top="775" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="434" top="775" width="350" height="50" color="#49244F"/>
                        <edit left="439" top="783" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia16">
                              <event name="onChange">
                                    if sheet.Magia16 == nil then
                                          sheet.Magia16 = "--"
                                    end
                                    
                                    if #sheet.Magia16 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia16
                                          sheet.Magia16 = string.sub(sheet.Magia16, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 16 -->
                        <rectangle left="434" top="856" width="350" height="1" color="#49244F"/>
                        <label left="444" top="829" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="823" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia16">
                              <event name="onChange">
                                    if sheet.tradicaoMagia16 == nil then
                                          sheet.tradicaoMagia16 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia16 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia16
                                          sheet.tradicaoMagia16 = string.sub(sheet.tradicaoMagia16, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 16 -->
                        <rectangle left="434" top="891" width="350" height="1" color="#49244F"/>
                        <label left="444" top="864" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="489" top="858" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia16">
                              <event name="onChange">
                                    if sheet.alvoMagia16 == nil then
                                          sheet.alvoMagia16 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia16 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia16
                                          sheet.alvoMagia16 = string.sub(sheet.alvoMagia16, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 16 -->
                        <rectangle left="434" top="926" width="350" height="3" color="#49244F"/>
                        <label left="444" top="899" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="893" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia16">
                              <event name="onChange">
                                    if sheet.duracaoMagia16 == nil then
                                          sheet.duracaoMagia16 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia16 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia16
                                          sheet.duracaoMagia16 = string.sub(sheet.duracaoMagia16, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 16 -->
                        <rectangle left="434" top="926" width="350" height="125" color="#49244F"/>
                        <textEditor left="439" top="931" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia16" fontSize="18"/>
                        <!-- Lançar Magia 16 -->
                        <rectangle left="434" top="1051" width="350" height="3" color="#49244F"/>
                        <rectangle left="438" top="1058" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia16 ~= nil and sheet.qtdMagia16 ~= "--"  then
                                          if sheet.Magia16 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia16 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia16 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia16 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia16 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia16) &gt; 0 then
                                                lancarMagia(sheet.Magia16, sheet.tradicaoMagia16, sheet.alvoMagia16, sheet.duracaoMagia16, sheet.descricaoMagia16)
                                                sheet.qtdMagia16 = tostring(tonumber(sheet.qtdMagia16) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="444" top="1062" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="698" top="1058" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="692" top="1055" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia16" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia16 == nil then
                                          sheet.qtdMagia16 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia16 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia16
                                          sheet.qtdMagia16 = string.sub(sheet.qtdMagia16, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="734" top="1062" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="748" top="1056" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="743" top="1055" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia16" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia16 == nil then
                                          sheet.maxMagia16 = "--"
                                    end
                                    
                                    if #sheet.maxMagia16 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia16
                                          sheet.maxMagia16 = string.sub(sheet.maxMagia16, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!--Nome Magia 17 -->
                        <rectangle left="60" top="1115" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="1115" width="350" height="50" color="#49244F"/>
                        <edit left="65" top="1123" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia17">
                              <event name="onChange">
                                    if sheet.Magia17 == nil then
                                          sheet.Magia17 = "--"
                                    end
                                    
                                    if #sheet.Magia17 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia17
                                          sheet.Magia17 = string.sub(sheet.Magia17, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 17 -->
                        <rectangle left="60" top="1196" width="350" height="1" color="#49244F"/>
                        <label left="70" top="1169" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="1163" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia17">
                              <event name="onChange">
                                    if sheet.tradicaoMagia17 == nil then
                                          sheet.tradicaoMagia17 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia17 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia17
                                          sheet.tradicaoMagia17 = string.sub(sheet.tradicaoMagia17, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 17 -->
                        <rectangle left="60" top="1231" width="350" height="1" color="#49244F"/>
                        <label left="70" top="1204" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="115" top="1198" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia17">
                              <event name="onChange">
                                    if sheet.alvoMagia17 == nil then
                                          sheet.alvoMagia17 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia17 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia17
                                          sheet.alvoMagia17 = string.sub(sheet.alvoMagia17, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 17 -->
                        <rectangle left="60" top="1266" width="350" height="3" color="#49244F"/>
                        <label left="70" top="1239" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="1233" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia17">
                              <event name="onChange">
                                    if sheet.duracaoMagia17 == nil then
                                          sheet.duracaoMagia17 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia17 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia17
                                          sheet.duracaoMagia17 = string.sub(sheet.duracaoMagia17, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 17 -->
                        <rectangle left="60" top="1266" width="350" height="125" color="#49244F"/>
                        <textEditor left="65" top="1271" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia17" fontSize="18"/>
                        <!-- Lançar Magia 17 -->
                        <rectangle left="60" top="1391" width="350" height="3" color="#49244F"/>
                        <rectangle left="64" top="1398" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia17 ~= nil and sheet.qtdMagia17 ~= "--"  then
                                          if sheet.Magia17 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia17 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia17 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia17 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia17 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia17) &gt; 0 then
                                                lancarMagia(sheet.Magia17, sheet.tradicaoMagia17, sheet.alvoMagia17, sheet.duracaoMagia17, sheet.descricaoMagia17)
                                                sheet.qtdMagia17 = tostring(tonumber(sheet.qtdMagia17) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="70" top="1402" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="324" top="1398" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="318" top="1395" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia17" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia17 == nil then
                                          sheet.qtdMagia17 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia17 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia17
                                          sheet.qtdMagia17 = string.sub(sheet.qtdMagia17, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="360" top="1402" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="374" top="1396" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="368" top="1395" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia17" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia17 == nil then
                                          sheet.maxMagia17 = "--"
                                    end
                                    
                                    if #sheet.maxMagia17 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia17
                                          sheet.maxMagia17 = string.sub(sheet.maxMagia17, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!--Nome Magia 18 -->
                        <rectangle left="434" top="1115" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="434" top="1115" width="350" height="50" color="#49244F"/>
                        <edit left="439" top="1123" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia18">
                              <event name="onChange">
                                    if sheet.Magia18 == nil then
                                          sheet.Magia18 = "--"
                                    end
                                    
                                    if #sheet.Magia18 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia18
                                          sheet.Magia18 = string.sub(sheet.Magia18, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 18 -->
                        <rectangle left="434" top="1196" width="350" height="1" color="#49244F"/>
                        <label left="444" top="1169" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="1163" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia18">
                              <event name="onChange">
                                    if sheet.tradicaoMagia18 == nil then
                                          sheet.tradicaoMagia18 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia18 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia18
                                          sheet.tradicaoMagia18 = string.sub(sheet.tradicaoMagia18, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 18 -->
                        <rectangle left="434" top="1231" width="350" height="1" color="#49244F"/>
                        <label left="444" top="1204" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="489" top="1198" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia18">
                              <event name="onChange">
                                    if sheet.alvoMagia18 == nil then
                                          sheet.alvoMagia18 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia18 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia18
                                          sheet.alvoMagia18 = string.sub(sheet.alvoMagia18, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 18 -->
                        <rectangle left="434" top="1266" width="350" height="3" color="#49244F"/>
                        <label left="444" top="1239" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="1233" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia18">
                              <event name="onChange">
                                    if sheet.duracaoMagia18 == nil then
                                          sheet.duracaoMagia18 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia18 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia18
                                          sheet.duracaoMagia18 = string.sub(sheet.duracaoMagia18, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 18 -->
                        <rectangle left="434" top="1266" width="350" height="125" color="#49244F"/>
                        <textEditor left="439" top="1271" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia18" fontSize="18"/>
                        <!-- Lançar Magia 18 -->
                        <rectangle left="434" top="1391" width="350" height="3" color="#49244F"/>
                        <rectangle left="438" top="1398" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia18 ~= nil and sheet.qtdMagia18 ~= "--"  then
                                          if sheet.Magia18 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia18 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia18 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia18 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia18 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia18) &gt; 0 then
                                                lancarMagia(sheet.Magia18, sheet.tradicaoMagia18, sheet.alvoMagia18, sheet.duracaoMagia18, sheet.descricaoMagia18)
                                                sheet.qtdMagia18 = tostring(tonumber(sheet.qtdMagia18) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="444" top="1402" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="698" top="1398" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="692" top="1395" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia18" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia18 == nil then
                                          sheet.qtdMagia18 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia18 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia18
                                          sheet.qtdMagia18 = string.sub(sheet.qtdMagia18, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="734" top="1402" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="748" top="1396" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="743" top="1395" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia18" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia18 == nil then
                                          sheet.maxMagia18 = "--"
                                    end
                                    
                                    if #sheet.maxMagia18 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia18
                                          sheet.maxMagia18 = string.sub(sheet.maxMagia18, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!--Nome Magia 19 -->
                        <rectangle left="60" top="1455" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="1455" width="350" height="50" color="#49244F"/>
                        <edit left="65" top="1463" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia19">
                              <event name="onChange">
                                    if sheet.Magia19 == nil then
                                          sheet.Magia19 = "--"
                                    end
                                    
                                    if #sheet.Magia19 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia19
                                          sheet.Magia19 = string.sub(sheet.Magia19, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 19 -->
                        <rectangle left="60" top="1536" width="350" height="1" color="#49244F"/>
                        <label left="70" top="1509" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="1503" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia19">
                              <event name="onChange">
                                    if sheet.tradicaoMagia19 == nil then
                                          sheet.tradicaoMagia19 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia19 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia19
                                          sheet.tradicaoMagia19 = string.sub(sheet.tradicaoMagia19, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 19 -->
                        <rectangle left="60" top="1571" width="350" height="1" color="#49244F"/>
                        <label left="70" top="1544" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="115" top="1538" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia19">
                              <event name="onChange">
                                    if sheet.alvoMagia19 == nil then
                                          sheet.alvoMagia19 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia19 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia19
                                          sheet.alvoMagia19 = string.sub(sheet.alvoMagia19, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 19 -->
                        <rectangle left="60" top="1606" width="350" height="3" color="#49244F"/>
                        <label left="70" top="1579" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="150" top="1573" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia19">
                              <event name="onChange">
                                    if sheet.duracaoMagia19 == nil then
                                          sheet.duracaoMagia19 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia19 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia19
                                          sheet.duracaoMagia19 = string.sub(sheet.duracaoMagia19, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 19 -->
                        <rectangle left="60" top="1606" width="350" height="125" color="#49244F"/>
                        <textEditor left="65" top="1611" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia19" fontSize="18"/>
                        <!-- Lançar Magia 19 -->
                        <rectangle left="60" top="1731" width="350" height="3" color="#49244F"/>
                        <rectangle left="64" top="1738" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia19 ~= nil and sheet.qtdMagia19 ~= "--"  then
                                          if sheet.Magia19 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia19 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia19 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia19 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia19 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia19) &gt; 0 then
                                                lancarMagia(sheet.Magia19, sheet.tradicaoMagia19, sheet.alvoMagia19, sheet.duracaoMagia19, sheet.descricaoMagia19)
                                                sheet.qtdMagia19 = tostring(tonumber(sheet.qtdMagia19) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="70" top="1742" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="324" top="1738" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="318" top="1735" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia19" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia19 == nil then
                                          sheet.qtdMagia19 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia19 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia19
                                          sheet.qtdMagia19 = string.sub(sheet.qtdMagia19, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="360" top="1742" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="374" top="1736" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="368" top="1735" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia19" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia19 == nil then
                                          sheet.maxMagia19 = "--"
                                    end
                                    
                                    if #sheet.maxMagia19 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia19
                                          sheet.maxMagia19 = string.sub(sheet.maxMagia19, 1, delCaracteres)
                                    end
                              </event>
                        </edit>

                        <!--Nome Magia 20 -->
                        <rectangle left="434" top="1455" width="350" height="318" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="434" top="1455" width="350" height="50" color="#49244F"/>
                        <edit left="439" top="1463" width="340" fontSize="18" height="30"
                              fontColor="#D5D5D5" fontStyle="bold" transparent="True" field="Magia20">
                              <event name="onChange">
                                    if sheet.Magia20 == nil then
                                          sheet.Magia20 = "--"
                                    end
                                    
                                    if #sheet.Magia20 &gt; 37 then
                                          local delCaracteres = 36 - #sheet.Magia20
                                          sheet.Magia20 = string.sub(sheet.Magia20, 1, delCaracteres)
                                    end
                              </event>
                        </edit>       
                        <!-- Tradição 20 -->
                        <rectangle left="434" top="1536" width="350" height="1" color="#49244F"/>
                        <label left="444" top="1509" width="280" fontSize="18" text="Tradição:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="1503" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="tradicaoMagia20">
                              <event name="onChange">
                                    if sheet.tradicaoMagia20 == nil then
                                          sheet.tradicaoMagia20 = "--"
                                    end
                                    
                                    if #sheet.tradicaoMagia20 &gt; 25 then
                                          local delCaracteres = 24 - #sheet.tradicaoMagia20
                                          sheet.tradicaoMagia20 = string.sub(sheet.tradicaoMagia20, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Alvo Magia 20 -->
                        <rectangle left="434" top="1571" width="350" height="1" color="#49244F"/>
                        <label left="444" top="1544" width="280" fontSize="18" text="Alvo:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="489" top="1538" width="295" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="alvoMagia20">
                              <event name="onChange">
                                    if sheet.alvoMagia20 == nil then
                                          sheet.alvoMagia20 = "--"
                                    end
                                    
                                    if #sheet.alvoMagia20 &gt; 34 then
                                          local delCaracteres = 33 - #sheet.alvoMagia20
                                          sheet.alvoMagia20 = string.sub(sheet.alvoMagia20, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Duração Magia 20 -->
                        <rectangle left="434" top="1606" width="350" height="3" color="#49244F"/>
                        <label left="444" top="1579" width="280" fontSize="18" text="Duração:" 
                              fontColor="#49244F" fontStyle="bold"/>
                        <edit left="524" top="1573" width="260" fontSize="18" 
                              fontColor="#49244F" transparent="true" field="duracaoMagia20">
                              <event name="onChange">
                                    if sheet.duracaoMagia20 == nil then
                                          sheet.duracaoMagia20 = "--"
                                    end
                                    
                                    if #sheet.duracaoMagia20 &gt; 28 then
                                          local delCaracteres = 27 - #sheet.duracaoMagia20
                                          sheet.duracaoMagia20 = string.sub(sheet.duracaoMagia20, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <!-- Descrição Magia 20 -->
                        <rectangle left="434" top="1606" width="350" height="125" color="#49244F"/>
                        <textEditor left="439" top="1611" width="340" height="115" fontColor="#D5D5D5"
                              transparent="true" field="descricaoMagia20" fontSize="18"/>
                        <!-- Lançar Magia 20 -->
                        <rectangle left="434" top="1731" width="350" height="3" color="#49244F"/>
                        <rectangle left="438" top="1738" width="135" height="29" color="#49244F" hitTest="true" 
                              cursor="handPoint">
                              <event name="onClick">
                                    if sheet.qtdMagia20 ~= nil and sheet.qtdMagia20 ~= "--"  then
                                          if sheet.Magia20 == nil then
                                                showMessage("Informe o nome da Magia")
                                          elseif sheet.tradicaoMagia20 == nil then
                                                showMessage("Informe a tradição da Magia")
                                          elseif sheet.alvoMagia20 == nil then
                                                showMessage("Informe o alvo da Magia")
                                          elseif sheet.duracaoMagia20 == nil then
                                                showMessage("Informe a duração da Magia")
                                          elseif sheet.descricaoMagia20 == nil then
                                                showMessage("Descreva o efeito da Magia")
                                          elseif tonumber(sheet.qtdMagia20) &gt; 0 then
                                                lancarMagia(sheet.Magia20, sheet.tradicaoMagia20, sheet.alvoMagia20, sheet.duracaoMagia20, sheet.descricaoMagia20)
                                                sheet.qtdMagia20 = tostring(tonumber(sheet.qtdMagia20) - 1)
                                          end
                                    end         
                              </event>
                        </rectangle>
                        <label left="444" top="1742" width="280" fontSize="18" text="Conjurar Feitiço" 
                              fontColor="#D5D5D5"/>
                        <rectangle left="698" top="1738" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="692" top="1735" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="qtdMagia20" hitTest="true" 
                              cursor="handPoint" hint="Quantidade">
                              <event name="onChange">
                                    if sheet.qtdMagia20 == nil then
                                          sheet.qtdMagia20 = "--"
                                    end
                                    
                                    if #sheet.qtdMagia20 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.qtdMagia20
                                          sheet.qtdMagia20 = string.sub(sheet.qtdMagia20, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        <label left="734" top="1742" width="280" fontSize="18" text="/" 
                              fontColor="#49244F"/>
                        <rectangle left="748" top="1736" width="29" height="29" color="#49244F"
                              cornerType="round" xradius="15" yradius="15"/>
                        <edit left="743" top="1735" width="40" fontSize="18" horzTextAlign="center" 
                              fontColor="#D5D5D5" transparent="true" field="maxMagia20" hitTest="true" 
                              cursor="handPoint" hint="Total">
                              <event name="onChange">
                                    if sheet.maxMagia20 == nil then
                                          sheet.maxMagia20 = "--"
                                    end
                                    
                                    if #sheet.maxMagia20 &gt; 2 then
                                          local delCaracteres = 1 - #sheet.maxMagia20
                                          sheet.maxMagia20 = string.sub(sheet.maxMagia20, 1, delCaracteres)
                                    end
                              </event>
                        </edit>
                        
                        
                  </rectangle>
            </layout>
            </scrollBox>

            <layout left="0" top="10" width="815" height="825">
                  <rectangle left="0" top="725" width="799" height="105" color="#D5D5D5"/>
                        <!-- Livros Mágicos -->
                        <rectangle left="65" top="730" width="712" height="1" color="#49244F"/>
                        <rectangle left="65" top="735" width="712" height="1" color="#49244F"/>
                        <image left="270" top="750" width="288" height="56" src="/img/livrosMagicos.png"/>   
                        
                  <!-- Objetos gráficos da ficha -->
                  <rectangle left="0" top="0" width="799" height="5" color="#D5D5D5">
                  </rectangle>
                  <image left="0" top="0" width="799" height="825" src="/img/borda.png"/>
            </layout>
            
      <image left="69" top="875" width="676" height="194" src="/img/logo.png"/>      
      </tab>


<!-- ============================================================================================= -->
<!-- Aba Aflições -->
      <tab title="Aflições"> 
            <layout left="0" top="10" width="815" height="825">
                  <rectangle left="0" top="0" width="799" height="825" color="#D5D5D5">
                        <!-- Objetos gráficos da ficha -->
                        <image left="0" top="0" width="799" height="825" src="/img/borda.png"/>
                        <rectangle left="60" top="95" width="720" height="575" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="418" top="130" width="3" height="100" color="#49244F"/>
                        <rectangle left="80" top="260" width="680" height="3" color="#49244F"/>
                        
                        
                        <!-- Aflições -->
                        <label left="325" top="60" width="180" fontSize="24" horzTextAlign="center" 
                              text="AFLIÇÕES" fontColor="#49244F" fontStyle="bold"/>
                        
                        
                        <!-- Força Debilitada -->
                        <rectangle left="80" top="130" width="320" height="40" color="#49244F"/>
                        <label left="75" top="140" width="210" fontSize="20" horzTextAlign="center" 
                              text="Força Debilitada" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Força Debilitada: Você faz teste de força com 1 revés, e você concede 1 dádiva em jogadas contra sua força."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="ForçaDebilitada" left="370" top="142"/>
                        <!-- Agilidade Debilitada -->
                        <rectangle left="440" top="130" width="320" height="40" color="#49244F"/>
                        <label left="455" top="140" width="210" fontSize="20" horzTextAlign="center" 
                              text="Agilidade Debilitada" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Agilidade Debilitada: Você faz teste de agilidade com 1 revés, e você concede 1 dádiva em jogadas contra sua agilidade."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="AgilidadeDebilitada" left="730" top="142"/>
                        <!-- Intelecto Debilitado -->
                        <rectangle left="80" top="190" width="320" height="40" color="#49244F"/>
                        <label left="90" top="200" width="210" fontSize="20" horzTextAlign="center" 
                              text="Intelecto Debilitado" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Intelecto Debilitado: Você faz teste de intelecto com 1 revés, e você concede 1 dádiva em jogadas contra seu intelecto."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="IntelectoDebilitado" left="370" top="202"/>
                        <!-- Vontade Debilitada -->
                        <rectangle left="440" top="190" width="320" height="40" color="#49244F"/>
                        <label left="450" top="200" width="210" fontSize="20" horzTextAlign="center" 
                              text="Vontade Debilitada" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Vontade Debilitada: Você faz teste de vontade com 1 revés, e você concede 1 dádiva em jogadas contra sua vontade."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="VontadeDebilitada" left="730" top="202"/>
                        <!-- Adormecido -->
                        <rectangle left="80" top="295" width="200" height="40" color="#49244F"/>
                        <label left="85" top="305" width="150" fontSize="20" horzTextAlign="center" 
                              text="Adormecido" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Adormecido: Se você estiver inconsciente por estar dormindo naturalmente, você deixa de estar inconsciente quando uma criatura usar uma ação para chacoalhar você, chutá-lo ou fazer outra coisa para acordar você. Um barulho alto pode remover a aflição se você tiver sucesso em uma rolagem de sorte. O tempo passado dormindo conta como repouso para os propósitos de curar dano. Se o seu sono não for interrompido, você acorda naturalmente quando quiser."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="Adormecido" left="250" top="307"/>
                        <!-- Amaldiçoado -->
                        <rectangle left="322" top="295" width="200" height="40" color="#49244F"/>
                        <label left="327" top="305" width="150" fontSize="20" horzTextAlign="center" 
                              text="Amaldiçoado" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Amaldiçoado: Você faz rolagens de sorte com 1 revés."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="Amaldicoado" left="492" top="307"/>
                        <!-- Amedrontado -->
                        <rectangle left="560" top="295" width="200" height="40" color="#49244F"/>
                        <label left="565" top="305" width="150" fontSize="20" horzTextAlign="center" 
                              text="Amedrontado" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Amedrontado: Você teme a fonte desta aflição — uma criatura, um objeto, um espaço ou alguma outra coisa. Enquanto você tiver linha de visão para a fonte do seu medo, você faz rolagens de atributo com 1 revés e concede 1 dádiva em rolagens de atributo contra você."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="Amedrontado" left="730" top="307"/>
                        <!-- Atordoado -->
                        <rectangle left="80" top="355" width="200" height="40" color="#49244F"/>
                        <label left="90" top="365" width="120" fontSize="20" horzTextAlign="center" 
                              text="Atordoado" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Atordoado: Você não pode usar ações ou reações. A sua Velocidade diminui a 0 e você não se beneficia de aumentos à Velocidade até esta aflição terminar. Você concede 2 dádivas em rolagens contra você e faz rolagens de atributo com 2 reveses."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="Atordoado" left="250" top="367"/>
                        <!-- Caído -->
                        <rectangle left="322" top="355" width="200" height="40" color="#49244F"/>
                        <label left="327" top="365" width="80" fontSize="20" horzTextAlign="center" 
                              text="Caído" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Caído: Você está deitado no chão. Você não pode usar reações. Você concede 1 dádiva em rolagens feitas para atacar você com armas corpo a corpo, mas impõe 1 revés em rolagens feitas para atacar você com armas à distância. Você somente pode usar seu movimento para rastejar ou se levantar."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="Caido" left="492" top="367"/>
                        <!-- Cego -->
                        <rectangle left="560" top="355" width="200" height="40" color="#49244F"/>
                        <label left="560" top="365" width="80" fontSize="20" horzTextAlign="center" 
                              text="Cego" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Cego: Você não consegue enxergar, portanto não tem linha de visão para nada. Você trata todas as criaturas e objetos como estando invisíveis. Se você quiser atacar ou interagir com alguma coisa, deve supor a localização do alvo ou localizá-lo usando outros sentidos, o que geralmente significa que você faz a rolagem com 3 reveses. Você não consegue usar reações que dependam da visão. Por fim, sua Velocidade é reduzida pela metade."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="Cego" left="730" top="367"/>
                        <!-- Confuso -->
                        <rectangle left="80" top="415" width="200" height="40" color="#49244F"/>
                        <label left="80" top="425" width="120" fontSize="20" horzTextAlign="center" 
                              text="Confuso" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Confuso: Você fica incapaz de compreender o que acontece ao seu redor. Você não pode usar reações e faz rolagens de Intelecto e Vontade com 1 revés."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="Confuso" left="250" top="427"/>
                        <!-- Controlado -->
                        <rectangle left="322" top="415" width="200" height="40" color="#49244F"/>
                        <label left="332" top="425" width="120" fontSize="20" horzTextAlign="center" 
                              text="Controlado" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Controlado: Você fica sob o controle da fonte desta aflição. Seu turno acontece junto com o do seu controlador e ele decide o que você faz, usando os seus traços, talentos e feitiços. Se você já tiver feito um turno ao receber esta aflição, você faz um turno como descrito na rodada seguinte. Enquanto controlado, você trata a fonte desta aflição como um aliado."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="Controlado" left="492" top="427"/>
                        <!-- Enfraquecido -->
                        <rectangle left="560" top="415" width="200" height="40" color="#49244F"/>
                        <label left="563" top="425" width="150" fontSize="20" horzTextAlign="center" 
                              text="Enfraquecido" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Enfraquecido: Você faz rolagens de Força e de Agilidade com 1 revés, e você concede 1 dádiva em rolagens contra sua Força e Agilidade. Além disso, a sua Velocidade é reduzida pela metade e você não se beneficia de aumentos à Velocidade."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="Enfraquecido" left="730" top="427"/>
                        <!-- Envenenado -->
                        <rectangle left="80" top="475" width="200" height="40" color="#49244F"/>
                        <label left="97" top="485" width="120" fontSize="20" horzTextAlign="center" 
                              text="Envenenado" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Envenenado: Você foi submetido a uma peçonha, veneno ou outro tipo de toxina. Você faz rolagens de atributo com 1 revés e concede 1 dádiva em rolagens contra você. Além disso, você perde 1d6 de Vida ao final de cada rodada."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="Envenenado" left="250" top="487"/>
                        <!-- Ferido -->
                        <rectangle left="322" top="475" width="200" height="40" color="#49244F"/>
                        <label left="330" top="485" width="80" fontSize="20" horzTextAlign="center" 
                              text="Ferido" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Ferido: Normalmente, você não sofre efeitos por estar ferido, mas certos talentos, magias e outros efeitos usados contra você podem colocá-lo em desvantagem porquê você está ferido."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="Ferido" left="492" top="487"/>
                        <!-- Incapacitado -->
                        <rectangle left="560" top="475" width="200" height="40" color="#49244F"/>
                        <label left="567" top="485" width="140" fontSize="20" horzTextAlign="center" 
                              text="Incapacitado" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Incapacitado: Se você sofrer dano enquanto estiver incapacitado, você perderá Vida igual à quantidade de dano que você receberia. No final da rodada, você perde 1d6 de Vida e faz um teste de sorte. Em um sucesso, você cura 1 de dano. Em uma falha, você permanece incapacitado."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="Incapacitado" left="730" top="487"/>
                        <!-- Incendiado -->
                        <rectangle left="80" top="535" width="200" height="40" color="#49244F"/>
                        <label left="93" top="545" width="120" fontSize="20" horzTextAlign="center" 
                              text="Incendiado" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Incendiado: Um efeito pode fazer você pegar fogo. Você sofre 1d6 de dano ao final de cada rodada até o fogo ser apagado, normalmente com uma rolagem bem-sucedida de sorte. Você pode apagar as chamas com água, ou sufocá-las com um cobertor ou objeto similar. Uma criatura que ficar caída antes de tentar superar as chamas faz a rolagem com 1 dádiva."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="Incendiado" left="250" top="547"/>
                        <!-- Inconsciente -->
                        <rectangle left="322" top="535" width="200" height="40" color="#49244F"/>
                        <label left="340" top="545" width="120" fontSize="20" horzTextAlign="center" 
                              text="Inconsciente" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Inconsciente: Você não pode usar ações ou reações. A sua Velocidade diminui a 0 e você não se beneficia de aumentos à Velocidade. Você não recebe informações sensoriais. Você concede 3 dádivas em rolagens contra você e você fracassa automaticamente em todas as rolagens de atributo."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="Inconsciente" left="492" top="547"/>
                        <!-- Lento -->
                        <rectangle left="560" top="535" width="200" height="40" color="#49244F"/>
                        <label left="570" top="545" width="70" fontSize="20" horzTextAlign="center" 
                              text="Lento" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Lento: Se sua Velocidade for maior que 2, ela reduz a 2. Essa aflição não aumenta a Velocidade."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="Lento" left="730" top="547"/>
                        <!-- Restringido -->
                        <rectangle left="80" top="595" width="200" height="40" color="#49244F"/>
                        <label left="95" top="605" width="120" fontSize="20" horzTextAlign="center" 
                              text="Restringido" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Restringido: A sua Velocidade diminui a 0 e você não se beneficia de aumentos à Velocidade até esta aflição terminar. Além disso, criaturas que fizerem rolagens contra a sua Agilidade recebem um sucesso automático."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="Restringido" left="250" top="607"/>
                        <!-- Surdo -->
                        <rectangle left="322" top="595" width="200" height="40" color="#49244F"/>
                        <label left="334" top="605" width="70" fontSize="20" horzTextAlign="center" 
                              text="Surdo" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Surdo: Você não consegue ouvir. Você não pode fazer reações que dependam da audição e não é afetado por efeitos que dependam da audição."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="Surdo" left="492" top="607"/>
                        <!-- Vulnerável -->
                        <rectangle left="560" top="595" width="200" height="40" color="#49244F"/>
                        <label left="573" top="605" width="110" fontSize="20" horzTextAlign="center" 
                              text="Vulnerável" fontColor="#D5D5D5" fontStyle="bold" hitTest="true" cursor="handPoint">
                              <event name="onClick">
                                    local msg = "Vulnerável: Você concede 1 dádiva em rolagens para atacar você e em rolagens feitas contra os seus atributos."
                                    local mesaDeRPG = Firecast.getMesaDe(sheet)
                                    mesaDeRPG.chat:enviarMensagem("---")
                                    mesaDeRPG.chat:enviarMensagem(msg)
                              </event>
                        </label>
                        <checkBox field="Vulnerável" left="730" top="607"/>
                        
                        <rectangle left="65" top="690" width="712" height="1" color="#49244F"/>
                        <rectangle left="65" top="695" width="712" height="1" color="#49244F"/>
                        <rectangle left="65" top="700" width="712" height="1" color="#49244F"/>
                        <rectangle left="65" top="705" width="712" height="1" color="#49244F"/>
                        <rectangle left="65" top="710" width="712" height="1" color="#49244F"/>
                        <rectangle left="65" top="715" width="712" height="1" color="#49244F"/>
                        <rectangle left="65" top="720" width="712" height="1" color="#49244F"/>
                        <rectangle left="65" top="725" width="712" height="1" color="#49244F"/>
                        <rectangle left="65" top="730" width="712" height="1" color="#49244F"/>
                        <rectangle left="65" top="735" width="712" height="1" color="#49244F"/>
                        <image left="83" top="755" width="672" height="65" src="/img/dragao.png"/>
                  </rectangle>
            </layout>
      <image left="69" top="875" width="676" height="194" src="/img/logo.png"/>      
      </tab>


<!-- ============================================================================================= -->
<!-- Aba Anotações -->
      <tab title="Anotações"> 
            <layout left="0" top="10" width="799" height="825">
            
                  <rectangle left="0" top="0" width="799" height="825" color="#D5D5D5">
                        
                        <!-- Anotações -->
                        <rectangle left="60" top="55" width="720" height="755" color="#D5D5D5"
                              strokeColor="#49244F" strokeSize="3"/>
                        <rectangle left="60" top="55" width="720" height="50" color="#49244F"/>
                        <label left="180" top="70" width="480" fontSize="24" horzTextAlign="center" 
                              text="ANOTAÇÕES" fontColor="#D5D5D5" fontStyle="bold"/>
                        <!-- Lousa -->
                        <textEditor left="68" top="100" width="710" fontSize="18" height="710" 
                              fontColor="#49244F" transparent="true" field="Anotacoes"/>
                           
                        
                  <!-- Objetos gráficos da ficha -->
                  </rectangle>
                  <image left="0" top="0" width="799" height="825" src="/img/borda.png"/>
            </layout>
            
      <image left="69" top="875" width="676" height="194" src="/img/logo.png"/>      
      </tab>

</tabControl>
</scrollBox>

<!-- ============================================================================================= -->
<!-- Formulário Principal -->
<popup name="popFrmPrincipal" width="791" height="745">
      <rectangle color="#D5D5D5" width="781" height="735" left="5" top="5"
            xradius="10" yradius="10" cornerType="round"/>
      <rectangle left="395" top="70" width="1" height="600" color="#49244F"/>

      <rectangle left="401" top="455" width="380" height="210" color="#49244F"/>
      <rectangle left="590" top="455" width="3" height="210" color="#D5D5D5"/>
      <rectangle left="590" top="465" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="590" top="475" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="590" top="485" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="590" top="495" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="590" top="505" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="590" top="515" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="590" top="525" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="590" top="535" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="590" top="545" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="590" top="555" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="590" top="565" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="590" top="575" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="590" top="585" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="590" top="595" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="590" top="605" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="590" top="615" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="590" top="625" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="590" top="635" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="590" top="645" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="590" top="655" width="190" height="1" color="#D5D5D5"/>
      <rectangle left="622" top="336" width="130" height="230"
            color="#D5D5D5" xradius="170" yradius="170" cornerType="bevel"/>

      <rectangle left="401" top="445" width="380" height="1" color="#49244F"/>

      <rectangle left="10" top="680" color="#49244F" width="771" height="55"
            xradius="5" yradius="5" hitTest="true" cursor="handPoint" hint="Salvar Alterações">
            <event name="onClick">
                  self.popFrmPrincipal:close()
            </event>
      </rectangle>
      <label left="10" top="680" fontColor="#D5D5D5" width="771" height="55" text="SALVAR"
            fontStyle="bold" fontSize="18" horzTextAlign="center"/>
      <!-- Personagem -->
      <label left="330" top="30" text="PERSONAGEM" width="150" fontSize="20" fontStyle="bold"
            fontColor="#49244F"/>
      <rectangle left="5" top="70" width="781" height="3" color="#49244F"/>
      <rectangle left="5" top="670" width="781" height="3" color="#49244F"/>
      <!-- Nome -->
      <label left="10" top="90" text="NOME" fontSize="20" fontStyle="bold" fontColor="#49244F"/>
      <rectangle left="10" top="115" width="380" height="50" color="#49244F"/>
      <edit field="frmNome" left="10" top="115" width="380" height="50" transparent="true">
            <event name="onUserChange">
                  if sheet.frmNome == nil then
                        sheet.frmNome = "--"
                  end
                  if #sheet.frmNome &gt; 19 then
                        local delCaracteres = 18 - #sheet.frmNome
                        sheet.frmNome = string.sub(sheet.frmNome, 1, delCaracteres)
                        
                  end
            </event>
      </edit>
      <!-- Nível -->
      <label left="280" top="130" text="NÍVEL" fontSize="20" fontStyle="bold"/>
      <rectangle left="340" top="118" width="45" height="45" color="#D5D5D5" 
            xradius="20" yradius="20" cornerType="round" strokeColor="#49244F"  
            strokeSize="3"/>
      <edit field="frmNivel" left="351" top="125" width="23" type="number" min="0" max="10"
            fontColor="#49244F" transparent="true" horzTextAlign="center"/>
      <!-- Ancestralidade -->
      <label left="10" top="180" text="ANCESTRALIDADE" fontSize="20" fontStyle="bold" fontColor="#49244F"
            width="180"/>
      <rectangle left="10" top="205" width="380" height="50" color="#49244F"/>
      <edit field="frmAncestralidade" left="10" top="205" width="380" height="50" transparent="true"
            horzTextAlign="center">
            <event name="onUserChange">
                  if sheet.frmAncestralidade == nil then
                        sheet.frmAncestralidade = "--"
                  end
                  if #sheet.frmAncestralidade &gt; 12 then
                        local delCaracteres = 11 - #sheet.frmAncestralidade
                        sheet.frmAncestralidade = string.sub(sheet.frmAncestralidade, 1, delCaracteres)
                        
                  end
            </event>
      </edit>
      <!-- Descrição -->
      <label left="10" top="270" text="DESCRIÇÃO" fontSize="20" fontStyle="bold" fontColor="#49244F"
            width="180"/>
      <rectangle left="10" top="295" width="380" height="100" color="#49244F"/>
      <rectangle left="195" top="295" width="3" height="100" color="#D5D5D5"/>
      <!-- Gênero -->
      <label left="15" top="305" text="Gênero:" fontSize="18" fontStyle="bold" width="180"/>
      <comboBox left="85" top="305" items="{'Feminino', 'Masculino', 'Outro'}"
            transparent="true" field="frmGenero"/>
      <!-- Idade -->
      <label left="206" top="305" text="Idade:" fontSize="18" fontStyle="bold" width="180"/>
      <edit left="265" top="300" width="110" transparent="true" field="frmIdade">
            <event name="onUserChange">
                  if sheet.frmIdade == nil then
                        sheet.frmIdade = "--"
                  end
                  if #sheet.frmIdade &gt; 4 then
                        local delCaracteres = 3 - #sheet.frmIdade
                        sheet.frmIdade = string.sub(sheet.frmIdade, 1, delCaracteres)
                        
                  end
            </event>
      </edit>
      <!-- Olhos -->
      <label left="15" top="335" text="Olhos:" fontSize="18" fontStyle="bold" width="180"/>
      <edit left="75" top="330" width="110" transparent="true" field="frmOlhos">
            <event name="onUserChange">
                  if sheet.frmOlhos == nil then
                        sheet.frmOlhos = "--"
                  end
                  if #sheet.frmOlhos &gt; 20 then
                        local delCaracteres = 19 - #sheet.frmOlhos
                        sheet.frmOlhos = string.sub(sheet.frmOlhos, 1, delCaracteres)
                        
                  end
            </event>
      </edit>
      <!-- Cabelos -->
      <label left="206" top="335" text="Cabelos:" fontSize="18" fontStyle="bold" width="180"/>
      <edit left="285" top="330" width="95" transparent="true" field="frmCabelos">
            <event name="onUserChange">
                  if sheet.frmCabelos == nil then
                        sheet.frmCabelos = "--"
                  end
                  if #sheet.frmCabelos &gt; 15 then
                        local delCaracteres = 14 - #sheet.frmCabelos
                        sheet.frmCabelos = string.sub(sheet.frmCabelos, 1, delCaracteres)
                  end
            </event>
      </edit>
      <!-- Altura -->
      <label left="15" top="365" text="Altura:" fontSize="18" fontStyle="bold" width="180"/>
      <edit left="75" top="360" width="110" transparent="true" field="frmAltura">
            <event name="onUserChange">
                  if sheet.frmAltura == nil then
                        sheet.frmAltura = "--"
                  end
                  if #sheet.frmAltura &gt; 5 then
                        local delCaracteres = 4 - #sheet.frmAltura
                        sheet.frmAltura = string.sub(sheet.frmAltura, 1, delCaracteres)
                  end
            </event>
      </edit>
      <!-- Peso -->
      <label left="206" top="365" text="Peso:" fontSize="18" fontStyle="bold" width="180"/>
      <edit left="255" top="360" width="95" transparent="true" field="frmPeso">
            <event name="onUserChange">
                  if sheet.frmPeso == nil then
                        sheet.frmPeso = "--"
                  end
                  if #sheet.frmPeso &gt; 6 then
                        local delCaracteres = 5 - #sheet.frmPeso
                        sheet.frmPeso = string.sub(sheet.frmPeso, 1, delCaracteres)
                  end
            </event>
      </edit>
      <!-- Idiomas -->
      <label left="10" top="410" width="380" text="IDIOMAS" fontSize="20" 
            fontStyle="bold" fontColor="#49244F"/>
      <rectangle left="10" top="435" width="380" height="50" color="#49244F"/>
      <edit field="frmIdiomas" left="10" top="435" height="50" width="380" transparent="true"
            horzTextAlign="center">
            <event name="onUserChange">
                  if sheet.frmIdiomas == nil then
                        sheet.frmIdiomas = "--"
                  end
                  if #sheet.frmIdiomas &gt; 35 then
                        local delCaracteres = 34 - #sheet.frmIdiomas
                        sheet.frmIdiomas = string.sub(sheet.frmIdiomas, 1, delCaracteres)
                  end
            </event>
      </edit>
      <!-- Profissões -->
      <label left="10" top="500" width="380" text="PROFISSÕES" fontSize="20" 
            fontStyle="bold" fontColor="#49244F"/>
      <rectangle left="10" top="525" width="380" height="50" color="#49244F"/>
      <edit field="frmProfissoes" left="10" top="525" height="50" width="380" transparent="true"
            horzTextAlign="center">
            <event name="onUserChange">
                  if sheet.frmProfissoes == nil then
                        sheet.frmProfissoes = "--"
                  end
                  if #sheet.frmProfissoes &gt; 35 then
                        local delCaracteres = 34 - #sheet.frmProfissoes
                        sheet.frmProfissoes = string.sub(sheet.frmProfissoes, 1, delCaracteres)
                  end
            </event>
      </edit>
      <!-- Religião -->
      <label left="10" top="590" width="380" text="RELIGIÃO" fontSize="20" 
            fontStyle="bold" fontColor="#49244F"/>
      <rectangle left="10" top="615" width="380" height="50" color="#49244F"/>
      <edit field="frmReligiao" left="10" top="615" height="50" width="380" transparent="true"
            horzTextAlign="center">
            <event name="onUserChange">
                  if sheet.frmReligiao == nil then
                        sheet.frmReligiao = "--"
                  end
                  if #sheet.frmReligiao &gt; 35 then
                        local delCaracteres = 34 - #sheet.frmReligiao
                        sheet.frmReligiao = string.sub(sheet.frmReligiao, 1, delCaracteres)
                  end
            </event>
      </edit>
      <!-- Tamanho e Velocidade -->
      <rectangle left="401" top="115" width="380" height="50" color="#49244F"/>
      <!-- Tamanho -->
      <label left="406" top="130" text="TAMANHO" fontSize="20" fontStyle="bold"/>
      <rectangle left="515" top="118" width="45" height="45" color="#D5D5D5" 
            xradius="20" yradius="20" cornerType="round" strokeColor="#49244F"  
            strokeSize="3"/>
      <edit field="frmTamanho" left="523" top="125" width="28" fontColor="#49244F" 
            transparent="true" horzTextAlign="center">
            <event name="onUserChange">
                  if sheet.frmTamanho == nil then
                        sheet.frmTamanho = "--"
                  end
                  if #sheet.frmTamanho &gt; 3 then
                        local delCaracteres = 2 - #sheet.frmTamanho
                        sheet.frmTamanho = string.sub(sheet.frmTamanho, 1, delCaracteres)
                  end
            </event>
      </edit>
      <!-- Velocidade -->
      <label left="605" top="130" width="150" text="VELOCIDADE" fontSize="20" fontStyle="bold"/>
      <rectangle left="730" top="118" width="45" height="45" color="#D5D5D5" 
            xradius="20" yradius="20" cornerType="round" strokeColor="#49244F"  
            strokeSize="3"/>
      <edit field="frmVelocidade" left="738" top="125" width="28" fontColor="#49244F" type="number" 
            min="0" max="20" transparent="true" horzTextAlign="center"/>
      <!-- Aprendiz -->
      <label left="401" top="180" width="300" text="CAMINHO DE NOVATO" fontSize="20" fontStyle="bold" 
      fontColor="#49244F"/>
      <rectangle left="401" top="205" width="380" height="50" color="#49244F"/>
      <edit field="frmAprendiz" left="401" top="205" width="380" height="50" transparent="true"
            horzTextAlign="center">
            <event name="onUserChange">
                  if sheet.frmAprendiz == nil then
                        sheet.frmAprendiz = "--"
                  end
                  if #sheet.frmAprendiz &gt; 30 then
                        local delCaracteres = 29 - #sheet.frmAprendiz
                        sheet.frmAprendiz = string.sub(sheet.frmAprendiz, 1, delCaracteres)
                  end
            </event>
      </edit>
      <!-- Especialista -->
      <label left="401" top="270" width="300" text="CAMINHO DE ESPECIALISTA" fontSize="20" fontStyle="bold" 
      fontColor="#49244F"/>
      <rectangle left="401" top="295" width="380" height="50" color="#49244F"/>
      <edit field="frmEspecialista" left="401" top="295" width="380" height="50" transparent="true"
            horzTextAlign="center">
            <event name="onUserChange">
                  if sheet.frmEspecialista == nil then
                        sheet.frmEspecialista = "--"
                  end
                  if #sheet.frmEspecialista &gt; 30 then
                        local delCaracteres = 29 - #sheet.frmEspecialista
                        sheet.frmEspecialista = string.sub(sheet.frmEspecialista, 1, delCaracteres)
                  end
            </event>
      </edit>
      <!-- Mestre -->
      <label left="401" top="360" width="300" text="CAMINHO DE MESTRE" fontSize="20" fontStyle="bold" 
            fontColor="#49244F"/>
      <rectangle left="401" top="385" width="380" height="50" color="#49244F"/>
      <edit field="frmMestre" left="401" top="385" width="380" height="50" transparent="true"
            horzTextAlign="center">
            <event name="onUserChange">
                  if sheet.frmMestre == nil then
                        sheet.frmMestre = "--"
                  end
                  if #sheet.frmMestre &gt; 30 then
                        local delCaracteres = 29 - #sheet.frmMestre
                        sheet.frmMestre = string.sub(sheet.frmMestre, 1, delCaracteres)
                  end
            </event>
      </edit>
      <!-- Atributos, Defesa, Vida -->
      <!-- Força -->
      <label left="460" top="475" text="Força" fontSize="20" fontStyle="bold"/>
      <rectangle left="406" top="463" width="45" height="45" color="#D5D5D5" 
            xradius="20" yradius="20" cornerType="round" strokeColor="#49244F"  
            strokeSize="3"/>
      <edit field="frmForca" left="414" top="470" width="28" fontColor="#49244F" type="number" 
            min="0" max="25" transparent="true" horzTextAlign="center"/>
      <!-- Agilidade -->
      <label left="460" top="525" text="Agilidade" fontSize="20" fontStyle="bold"/>
      <rectangle left="406" top="513" width="45" height="45" color="#D5D5D5" 
            xradius="20" yradius="20" cornerType="round" strokeColor="#49244F"  
            strokeSize="3"/>
      <edit field="frmAgilidade" left="414" top="520" width="28" fontColor="#49244F" type="number" 
            min="0" max="25" transparent="true" horzTextAlign="center"/>
      <!-- Intelecto -->
      <label left="460" top="575" text="Intelecto" fontSize="20" fontStyle="bold"/>
      <rectangle left="406" top="563" width="45" height="45" color="#D5D5D5" 
            xradius="20" yradius="20" cornerType="round" strokeColor="#49244F"  
            strokeSize="3"/>
      <edit field="frmIntelecto" left="414" top="570" width="28" fontColor="#49244F" type="number" 
            min="0" max="25" transparent="true" horzTextAlign="center"/>
      <!-- Vontade -->
      <label left="460" top="625" text="Vontade" fontSize="20" fontStyle="bold"/>
      <rectangle left="406" top="613" width="45" height="45" color="#D5D5D5" 
            xradius="20" yradius="20" cornerType="round" strokeColor="#49244F"  
            strokeSize="3"/>
      <edit field="frmVontade" left="414" top="620" width="28" fontColor="#49244F" type="number" 
            min="0" max="25" transparent="true" horzTextAlign="center"/>
      <!-- Defesas -->
      <label left="651" top="455" text="Defesas" fontSize="20" fontStyle="bold" fontColor="#49244F"/>
      <rectangle left="593" top="477" width="175" height="25" color="#49244F" 
            strokeColor="#49244F" strokeSize="3"/>
      <rectangle left="737" top="468" width="45" height="45" color="#D5D5D5" 
            xradius="20" yradius="20" cornerType="round" strokeColor="#49244F"  
            strokeSize="3"/>
      <label left="665" top="480" text="Natural" fontSize="14" fontColor="#D5D5D5"/>
      <edit field="frmDefesa" left="745" top="475" width="28" fontColor="#49244F" type="number" 
            min="0" max="35" transparent="true" horzTextAlign="center"/>
      <rectangle left="593" top="527" width="175" height="25" color="#49244F" 
            strokeColor="#49244F" strokeSize="3"/>
      <rectangle left="737" top="518" width="45" height="45" color="#D5D5D5" 
            xradius="20" yradius="20" cornerType="round" strokeColor="#49244F"  
            strokeSize="3"/>
      <label left="658" top="532" text="Armadura" fontSize="14" fontColor="#D5D5D5"/>
      <edit field="frmDefesaBlin" left="745" top="525" width="28" fontColor="#49244F" type="number" 
            min="0" max="35" transparent="true" horzTextAlign="center"/>
      <!-- Vida -->
      <rectangle left="642" top="565" width="95" height="95" color="#D5D5D5" 
            xradius="47" yradius="47" cornerType="round" strokeColor="#49244F"  
            strokeSize="3"/>
      <rectangle left="665" top="570" width="45" height="45" color="#49244F" 
            xradius="20" yradius="20" cornerType="round" strokeColor="#49244F"  
            strokeSize="3"/>
      <edit field="frmVida" left="673" top="575" width="28" fontColor="#D5D5D5" type="number" 
            min="0" max="1000" transparent="true" horzTextAlign="center"/>
      <label left="668" top="625" text="Vida" fontSize="20" fontStyle="bold" fontColor="#49244F"/>
            
</popup>

<!-- ============================================================================================= -->
<!-- Dádiva e Revés -->
      <popup name="popDadivaReves" width="400" height="200" backOpacity="0.5">
            <rectangle align="client" color="black" corners="" xradius="25" yradius="25" cornerType="round"/>
            <label text="   DÁDIVA / REVÉS " align="left" left="180" top="-100"/>
            <edit field="dadivaReves" align="top" width="100" height="100" type="number" horzTextAlign="center" fontSize="40"/>
            <button align="right" width="272" text="Jogar">
                  <event name="onClick">
                        if sheet.dadivaReves == nil then
                              sheet.dadivaReves = 0
                        end

                        if escolherTeste == "sorte" then
                              testeDeSorte()
                        end

                        if escolherTeste == "forca" then
                              testeDeForca()
                        end

                        if escolherTeste == "agilidade" then
                              testeDeAgilidade()
                        end

                        if escolherTeste == "intelecto" then
                              testeDeIntelecto()
                        end

                        if escolherTeste == "vontade" then
                              testeDeVontade()
                        end
                  </event>
            </button>
      </popup>
<script>
      -- --------------------------------------------------------
      -- Variáveis Globais
      local escolherTeste = nil
      local combate = false
      local arma = nil
      local revesCombate = 0
      local dadivaCombate = 0
      local dano = nil
      local danoAutomatico = false
      local numeroDados = nil

      -- --------------------------------------------------------
      -- Obter nome da Personagem
      local function getNome()
            local nome
            local genero = sheet.Genero

            if sheet.Nome == nil then
                  nome = " "
            else
                  if genero == nil or genero == "Outro" then
                        nome = " de " .. sheet.Nome
                  end
                  if genero == "Feminino" then
                        nome = " da " .. sheet.Nome
                  end
                  if genero == "Masculino" then
                        nome = " do " .. sheet.Nome
                  end
            end

            return nome
      end
      -- --------------------------------------------------------
      -- Dádiva ou Revés
      local function jogarDadivaReves(modificador, aflicoes, jogada)
            self.popDadivaReves:close()

            local modificador = modificador
            local dadivaReves = sheet.dadivaReves + dadivaCombate
            local aflicoes = aflicoes
            local nome = getNome()
            local modDadivaReves = 0
            local positivoNegativo = false
            local valorAnterior = 0
            local valDadivaReves = 0
            local jogada = jogada
            local dadivaOuReves = nil

            local mesaDeRPG = Firecast.getMesaDe(sheet)
            
            -- Caso o jogador não insira o valor de Dádiva ou Revés o valor será 0
            if dadivaReves == nil then
                  dadivaReves = 0
            end

            -- Caso a jogada seja com Revés
            if (dadivaReves) + (aflicoes) &lt; 0 then
                  positivoNegativo = false
                  dadivaOuReves = "Revés"
            end
            -- Caso a jogada seja com Dádiva
            if (dadivaReves) + (aflicoes) &gt; 0 then
                  positivoNegativo = true
                  dadivaOuReves = "Dádiva"
            end

            -- Quantidade de dados que serão jogados
            if dadivaReves &lt; 0 then
                  modDadivaReves = (dadivaReves * -1) + (aflicoes * -1)
            end
            if dadivaReves == 0 then
                  modDadivaReves = dadivaReves + (aflicoes * -1)
            end
            if dadivaReves &gt; 0 then
                  modDadivaReves = dadivaReves - (aflicoes * -1)
            end 

            -- Jogada sem Dádiva ou Revés
            if jogada == "Teste de Sorte" then
                  if (dadivaReves) + (aflicoes) == 0 then
                        valJogada = Firecast.interpretarRolagem("1d20")
                        mesaDeRPG.chat:rolarDados(valJogada, jogada .. nome)
                  end
            else
                  if (dadivaReves) + (aflicoes) == 0 then
                        if modificador &lt; 0 then
                              valJogada = Firecast.interpretarRolagem("1d20 - " .. (modificador * -1))
                              mesaDeRPG.chat:enviarMensagem("---")
                              mesaDeRPG.chat:rolarDados(valJogada, jogada .. nome)
                        else
                              valJogada = Firecast.interpretarRolagem("1d20 + " .. modificador)
                              mesaDeRPG.chat:enviarMensagem("---")
                              mesaDeRPG.chat:rolarDados(valJogada, jogada .. nome)
                        end
                  end
            end
            
            -- Jogada com Dádiva ou Revés
            if modDadivaReves &gt; 0 and modDadivaReves &lt; 13 then
                  local cont = 0
                  for i = 1, modDadivaReves, 1 do
                        mesaDeRPG.chat:rolarDados("1d6", dadivaOuReves,
                              function (rolado)
                                    valorAnterior = rolado.resultado

                                    if valorAnterior &gt; valDadivaReves then
                                          valDadivaReves = valorAnterior
                                    end

                                    cont = cont + 1
                                    if cont == modDadivaReves then
                                          if jogada == "Teste de Sorte" then
                                                if positivoNegativo == true then
                                                      valJogada = Firecast.interpretarRolagem("1d20 + " .. valDadivaReves)
                                                end
                                                if positivoNegativo == false then
                                                      valJogada = Firecast.interpretarRolagem("1d20 - " .. valDadivaReves)
                                                end
                                                mesaDeRPG.chat:enviarMensagem("---")
                                                mesaDeRPG.chat:rolarDados(valJogada, jogada .. nome)
                                          else
                                                if modificador &lt; 0 then
                                                      if positivoNegativo == true then
                                                            valJogada = Firecast.interpretarRolagem("1d20 - " .. (modificador * -1) .. "+" .. valDadivaReves)
                                                      end
                                                      if positivoNegativo == false then
                                                            valJogada = Firecast.interpretarRolagem("1d20 - " .. (modificador * -1) .. "-" .. valDadivaReves)
                                                      end
                                                      mesaDeRPG.chat:enviarMensagem("---")
                                                      mesaDeRPG.chat:rolarDados(valJogada, jogada .. nome)
                                                else
                                                      if positivoNegativo == true then
                                                            valJogada = Firecast.interpretarRolagem("1d20 + " .. modificador .. "+" .. valDadivaReves)
                                                      end
                                                      if positivoNegativo == false then
                                                            valJogada = Firecast.interpretarRolagem("1d20 + " .. modificador .. "-" .. valDadivaReves)
                                                      end
                                                      mesaDeRPG.chat:enviarMensagem("---")
                                                      mesaDeRPG.chat:rolarDados(valJogada, jogada .. nome)
                                                end
                                          end
                                    end
                        end)
                  end
            end

            -- Atribuindo o valor 0 para Dádiva ou Revés
            sheet.dadivaReves = 0
            dadivaCombate = 0
            
      end

      -- --------------------------------------------------------
      -- Teste de Sorte
      local function testeDeSorte()
            local amaldicoado = 0
            local cego = 0
            local aflicoes = 0
            local jogada = "Teste de Sorte"
            local modificador = nil

            if sheet.Amaldicoado == true then
                  amaldicoado = -1
            elseif sheet.Amaldicoado == false then
                  amaldicoado = 0
            end

            if sheet.Cego == true then
                  cego = -3
            elseif sheet.Cego == false then
                  cego = 0
            end

            aflicoes = (amaldicoado) + (cego)

            jogarDadivaReves(modificador, aflicoes, jogada)

            escolherTeste = nil
      end

      -- --------------------------------------------------------
      -- Teste de Força
      local function testeDeForca()
            local debilitado = 0
            local amedrontado = 0
            local atordoado = 0
            local cego = 0
            local enfraquecido = 0
            local envenenado = 0
            local aflicoes = 0
            local jogada = nil
            local modificador = sheet.modForca

            if combate == false then
                  jogada = "Teste de Força"
            else
                  jogada = "Ataque com " .. arma
                  combate = false
            end

            if sheet.forcaDebilitada == true then
                  debilitado = -1
            elseif sheet.Debilitado == false then
                  debilitado = 0
            end

            if sheet.Amedrontado == true then
                  amedrontado = -1
            elseif sheet.Amedrontado == false then
                  amedrontado = 0
            end

            if sheet.Atordoado == true then
                  atordoado = -2
            elseif sheet.Atordoado == false then
                  atordoado = 0
            end

            if sheet.Cego == true then
                  cego = -3
            elseif sheet.Cego == false then
                  cego = 0
            end

            if sheet.Enfraquecido == true then
                  enfraquecido = -1
            elseif sheet.Enfraquecido == false then
                  enfraquecido = 0
            end

            if sheet.Envenenado == true then
                  envenenado = -1
            elseif sheet.Envenenado == false then
                  envenenado = 0
            end

            aflicoes = (debilitado) + (amedrontado) + (atordoado) + (cego) + (enfraquecido) + (envenenado) + (revesCombate)

            if tonumber(modificador) ~= nil then
                  modificador = tonumber(modificador)
            elseif string.sub(modificador, 1, 1) == "+" then
                  modificador = tonumber(string.sub(modificador, 2))
            else
                  modificador = tonumber(string.sub(modificador, 2)) * -1
            end

            jogarDadivaReves(modificador, aflicoes, jogada)

            escolherTeste = nil
            revesCombate = 0
      end

      -- --------------------------------------------------------
      -- Teste de Agilidade
      local function testeDeAgilidade()
            local debilitado = 0
            local amedrontado = 0
            local atordoado = 0
            local cego = 0
            local enfraquecido = 0
            local envenenado = 0
            local aflicoes = 0
            local jogada = nil
            local modificador = sheet.modAgilidade

            if combate == false then
                  jogada = "Teste de Agilidade"
            else
                  jogada = "Ataque com " .. arma
                  combate = false
            end

            if sheet.agilidadeDebilitada == true then
                  debilitado = -1
            elseif sheet.Debilitado == false then
                  debilitado = 0
            end

            if sheet.Amedrontado == true then
                  amedrontado = -1
            elseif sheet.Amedrontado == false then
                  amedrontado = 0
            end

            if sheet.Atordoado == true then
                  atordoado = -2
            elseif sheet.Atordoado == false then
                  atordoado = 0
            end

            if sheet.Cego == true then
                  cego = -3
            elseif sheet.Cego == false then
                  cego = 0
            end

            if sheet.Enfraquecido == true then
                  enfraquecido = -1
            elseif sheet.Enfraquecido == false then
                  enfraquecido = 0
            end

            if sheet.Envenenado == true then
                  envenenado = -1
            elseif sheet.Envenenado == false then
                  envenenado = 0
            end

            aflicoes = (debilitado) + (amedrontado) + (atordoado) + (cego) + (enfraquecido) + (envenenado) + (revesCombate)

            if tonumber(modificador) ~= nil then
                  modificador = tonumber(modificador)
            elseif string.sub(modificador, 1, 1) == "+" then
                  modificador = tonumber(string.sub(modificador, 2))
            else
                  modificador = tonumber(string.sub(modificador, 2)) * -1
            end

            jogarDadivaReves(modificador, aflicoes, jogada)

            escolherTeste = nil
            revesCombate = 0
      end

      -- --------------------------------------------------------
      -- Teste de Intelecto
      local function testeDeIntelecto()
            local debilitado = 0
            local amedrontado = 0
            local atordoado = 0
            local cego = 0
            local confuso = 0
            local envenenado = 0
            local aflicoes = 0
            local jogada = nil
            local modificador = sheet.modIntelecto

            if combate == false then
                  jogada = "Teste de Intelecto"
            else
                  jogada = "Ataque com " .. arma
                  combate = false
            end
            
            if sheet.intelectoDebilitado == true then
                  debilitado = -1
            elseif sheet.intelectoDebilitado == false then
                  debilitado = 0
            end

            if sheet.Amedrontado == true then
                  amedrontado = -1
            elseif sheet.Amedrontado == false then
                  amedrontado = 0
            end

            if sheet.Atordoado == true then
                  atordoado = -2
            elseif sheet.Atordoado == false then
                  atordoado = 0
            end

            if sheet.Cego == true then
                  cego = -3
            elseif sheet.Cego == false then
                  cego = 0
            end

            if sheet.Confuso == true then
                  confuso = -1
            elseif sheet.Confuso == false then
                  confuso = 0
            end

            if sheet.Envenenado == true then
                  envenenado = -1
            elseif sheet.Envenenado == false then
                  envenenado = 0
            end

            aflicoes = (debilitado) + (amedrontado) + (atordoado) + (cego) + (confuso) + (envenenado) + (revesCombate)

            if tonumber(modificador) ~= nil then
                  modificador = tonumber(modificador)
            elseif string.sub(modificador, 1, 1) == "+" then
                  modificador = tonumber(string.sub(modificador, 2))
            else
                  modificador = tonumber(string.sub(modificador, 2)) * -1
            end

            jogarDadivaReves(modificador, aflicoes, jogada)

            escolherTeste = nil
            revesCombate = 0
      end

      -- --------------------------------------------------------
      -- Teste de Vontade
      local function testeDeVontade()
            local debilitado = 0
            local amedrontado = 0
            local atordoado = 0
            local cego = 0
            local confuso = 0
            local envenenado = 0
            local aflicoes = 0
            local jogada = nil
            local modificador = sheet.modVontade

            if combate == false then
                  jogada = "Teste de Vontade"
            else
                  jogada = "Ataque com " .. arma
                  combate = false
            end

            if sheet.vontadeDebilitada == true then
                  debilitado = -1
            elseif sheet.vontadeDebilitada == false then
                  debilitado = 0
            end

            if sheet.Amedrontado == true then
                  amedrontado = -1
            elseif sheet.Amedrontado == false then
                  amedrontado = 0
            end

            if sheet.Atordoado == true then
                  atordoado = -2
            elseif sheet.Atordoado == false then
                  atordoado = 0
            end

            if sheet.Cego == true then
                  cego = -3
            elseif sheet.Cego == false then
                  cego = 0
            end

            if sheet.Confuso == true then
                  confuso = -1
            elseif sheet.Confuso == false then
                  confuso = 0
            end

            if sheet.Envenenado == true then
                  envenenado = -1
            elseif sheet.Envenenado == false then
                  envenenado = 0
            end

            aflicoes = (debilitado) + (amedrontado) + (atordoado) + (cego) + (confuso) + (envenenado) + (revesCombate)

            if tonumber(modificador) ~= nil then
                  modificador = tonumber(modificador)
            elseif string.sub(modificador, 1, 1) == "+" then
                  modificador = tonumber(string.sub(modificador, 2))
            else
                  modificador = tonumber(string.sub(modificador, 2)) * -1
            end

            jogarDadivaReves(modificador, aflicoes, jogada)

            escolherTeste = nil
            revesCombate = 0
      end

      -- --------------------------------------------------------
      -- Dados de Dano
      local function dadosDeDano(dano, danoAutomatico)
            local nome = getNome()
            local dano = dano
            local danoAutomatico = danoAutomatico
            local valDano = nil
            local mesaDeRPG = Firecast.getMesaDe(sheet)


            if danoAutomatico == true then
                  mesaDeRPG.chat:enviarMensagem("[§K2]Dano [§K1]= [§K9]"..dano.."[§K14] &lt;&lt; "..arma.." "..nome.." &gt;&gt;")
            else
                  if numeroDados ~= 0 then
                        valDano = Firecast.interpretarRolagem(dano.."d6")
                        mesaDeRPG.chat:enviarMensagem("---")
                        mesaDeRPG.chat:rolarDados(valDano, "Dano com ".. arma .. nome)
                        mesaDeRPG.chat:enviarMensagem("---")
                  end
            end
            
      end

      -- --------------------------------------------------------
      -- Lançar Magia

      local function lancarMagia(nomeMagia, tradicaoMagia, alvoMagia, duracaoMagia, descricaoMagia)
            local nomeMagia = nomeMagia
            local tradicaoMagia = tradicaoMagia
            local alvoMagia = alvoMagia
            local duracaoMagia = duracaoMagia
            local descricaoMagia = descricaoMagia
            local mesaDeRPG = Firecast.getMesaDe(sheet)

            mesaDeRPG.chat:enviarMensagem("---")
            mesaDeRPG.chat:enviarMensagem("[§K2][§B]"..nomeMagia)
            mesaDeRPG.chat:enviarMensagem("[§K2][§B]Tradição: [§B]".."[§K1]"..tradicaoMagia)
            mesaDeRPG.chat:enviarMensagem("[§K2][§B]Alvo: [§B]".."[§K1]"..alvoMagia)
            mesaDeRPG.chat:enviarMensagem("[§K2][§B]Duração: [§B]".."[§K1]"..duracaoMagia)
            mesaDeRPG.chat:enviarMensagem("---")
            mesaDeRPG.chat:enviarMensagem("[§K1]"..descricaoMagia)
            mesaDeRPG.chat:enviarMensagem("---")
      end

      
      
</script>


</form>