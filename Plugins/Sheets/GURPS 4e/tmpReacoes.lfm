<?xml version="1.0" encoding="UTF-8"?>
<form name="tmpReacoes" height="33" align="top" onShow="formatColors()">
	<style>
	label, edit, radioButton, checkBox, comboBox, button{
		fontSize: 14;
		fontFamily: Cambria;
		textTrimming: character;
	}
	
	textEditor{
		fontSize: 14;
		fontFamily: Cambria;
		margins: {bottom=20};
	}
	
	edit, comboBox, textEditor{
		transparent: true;
	}

	edit, button {
		fontColor: white;
	}

	button {
		cursor: handPoint;
	}

	label, radioButton, checkBox, comboBox{
		fontColor: #cdcdcd;
	}

	radioButton{
		vertTextAlign: center;
		margins: {bottom=7};
	}

	horzLine{
		strokeColor: #424242;
		margins: {top=7, bottom=7};
		align: top;
	}
	
	.pts{
		fontFamily: Courier New;
		fontSize: 10;
		fontColor: #9e9e9e;
		align: left;
		vertTextAlign: leading;
		width: 40;
		transparent: true;
		horzTextAlign: trailing;
	}
	
	</style>
	<script><![CDATA[
		local function formatColors()
			if sheet.BonusReact > 0 then
				self.edtBonusReact.fontColor = '#00ff78'
				self.fundoBonus.color = '#00ff78'
			elseif sheet.BonusReact == 0 then
				self.edtBonusReact.fontColor = 'white'
				self.fundoBonus.color = '#cccccc'
			else
				self.edtBonusReact.fontColor = 'red'
				self.fundoBonus.color = 'red'
			end
		end
	]]></script>
	
	<layout align="top" height="30" margins="{bottom=3}">
		
		<edit align="left" width="345" field="NomeReact" hint="Origem da ReaÃ§Ã£o">
			<event name="onEnter"><![CDATA[
				if sheet.NomeReact == "ReaÃ§Ã£o" or sheet.NomeReact == "â€”" then sheet.NomeReact = nil end
			]]></event>
			<event name="onExit"><![CDATA[
				if sheet.NomeReact == nil then sheet.NomeReact = "â€”" end
			]]></event>
		</edit>
		<dataLink field="NomeReact" defaultValue="ReaÃ§Ã£o" />
		
		<layout align="left" width="94">
			<rectangle name="fundoBonus" left="1" top="1" height="28" width="28" color="#cccccc" xradius= "3" yradius="3" cornerType="bevel" opacity="0.1" />
			<edit align="left" width="30" type="number" name="edtBonusReact" field="BonusReact" horzTextAlign="center" />
			<dataLink field="BonusReact" defaultValue="0">
				<event name="onChange">
					formatColors()
				</event>
			</dataLink>
			<button align="left" text="ð¢" width="30" name="btnInfo" hint="InformaÃ§Ãµes Extras" margins="{left=2}">
				<event name="onClick"><![CDATA[
					local pop = self:findControlByName("popUp_");
							
					if pop ~= nil then
						pop:showPopupEx("left", self.btnInfo);
						pop:setNodeObject(sheet);
					else
						showMessage("Ops, nÃ£o encontrei o pop-up para exibir");
					end;
				]]></event>
			</button>
		
			<template name="DivisorM">
				<layout align="top" height="12" margins="{top=0, bottom=5}">
					<label align="left" text="$(texto)" width="$(largura)" fontSize="10" fontFamily="Constantia" fontStyle="bold" />
					<horzLine align="client" margins="{top=5}" strokeColor="#424242" />
				</layout>
			</template>
			
			<popup name="popUp_" width="518" height="200" backOpacity="0" drawContainer="false" autoScopeNode="false">
				<rectangle align="client" color="#101010" padding="{top=5, left=5, bottom=5, right=5}" xradius= "10" yradius="10" cornerType="bevel">
					<rectangle align="client" color="#101010" padding="{top=15, left=15, bottom=15, right=0}" xradius= "7" yradius="7" cornerType="bevel" strokeSize="1" strokeColor="#424242">
						<layout align="top" height="40">
							<label field="NomeReact" align="client" textTrimming="character" fontStyle="bold" fontColor="white" fontSize="20" />
						</layout>
						<scrollBox align="client" padding="{bottom=0, right=15}">
							<DivisorM texto="D E S C R I P T I O N" largura="95" />
							<textEditor field="descReact" align="client"/>
						</scrollBox>
					</rectangle>
				</rectangle>
			</popup>

			<button align="left" text="ðŸž­" width="30" onClick="NDB.deleteNode(sheet)" hint="Apagar BÃ´nus de ReaÃ§Ã£o" margins="{left=2}" />
		</layout>
		
	</layout>
	
</form>