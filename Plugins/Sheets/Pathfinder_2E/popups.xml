<?xml version="1.0" encoding="UTF-8"?>
<group>
    <popup name="popDeath" width="1000" height="600">
        <rectangle align="client" class="janela2">
            <image align="client" style="autoFit" src="/imagens/Death.gif" margins="{left=2, right=2, top=2, bottom=2}" opacity="1" animate="true"/>
        </rectangle>
    </popup>

    <popup name="popInv" width="600" height="275">
        <rectangle align="client" class="janela2">
            <image align="client" style="stretch" src="/imagens/Fundo 1.jpg" opacity="1"/>
            <rectangle left="10" top="10" width="250" height="250" color="transparent" strokeColor="Gray" strokeSize="2" margins="{left=10, right=10, top=10, bottom=10}">
                <image align="client" style="proportional" src="/imagens/Logo.png" margins="{left=2, right=2, top=2, bottom=2}" opacity="0.5"/>
                <image align="client" field="imgItem" editable="true" style="autoFit" margins="{left=2, right=2, top=2, bottom=2}" animate="true">
                    <event name="OnStartDrag">
                        drag:addData("imageURL", sheet.imgItem);
                    </event>
                </image>
            </rectangle>
            <formatTextEdit left="270" top="5" width="317" height="258" field="descItem"/>
        </rectangle>
    </popup>

    <popup name="popInfo" width="180" height="80">
        <image align="client" style="autoFit" src="/imagens/Fundo 1.jpg"/>
        <!-- Exportar -->
        <button left="30" top="10" width="120" height="25" text="Exportar Ficha" >
            <event name="onClick">
                local xml = NDB.exportXML(sheet);

                local export = {};
                Utils.binaryEncode(export, "utf8", xml);

                local stream = Utils.newMemoryStream();
                stream:write(export);

                Dialogs.saveFile(LANG("Pathfinder2e.other.save"), stream, "sheet.xml", "application/xml",
                    function()
                        stream:close();
                        showMessage(LANG("Pathfinder2e.other.exported"));
                    end);
            </event>
        </button>
        <!-- Importar -->
        <button left="30" top="45" width="120" height="25" text="Importar Ficha" >
            <event name="onClick">
                Dialogs.openFile(LANG("Pathfinder2e.other.import"), "application/xml", false, 
                    function(arquivos)
                        local arq = arquivos[1];

                        local import = {};
                        arq.stream:read(import, arq.stream.size);

                        local xml = Utils.binaryDecode(import, "utf8");

                        NDB.importXML(sheet, xml);
                    end);
            </event>
        </button>
    </popup>

    <popup name="popAcaoInfo" width="400" height="400">
        <image align="client" style="stretch" src="/imagens/Fundo 1.jpg" opacity="1"/>
        <rectangle left="135" top="10" class="janela5">
            <label  vertTextAlign="center" horzTextAlign="center" width="131" height="25" text="Traços" fontSize="16" fontColor="Gray" fontFamily="Stencil"/>
        </rectangle>
        <formatLabelEdit left="10" top="35" width="380" height="25" field="acaoTracos"/>

        <rectangle left="135" top="70" class="janela5">
            <label  vertTextAlign="center" horzTextAlign="center" width="131" height="25" text="Acionamento" fontSize="16" fontColor="Gray" fontFamily="Stencil"/>
        </rectangle>
        <formatTextEdit left="10" top="95" width="380" height="55" field="acionamento"/>

        <rectangle left="135" top="160" class="janela5">
            <label width="131" height="25" text="Descrição" vertTextAlign="center" horzTextAlign="center" fontSize="16" fontColor="Gray" fontFamily="Stencil"/>
        </rectangle>
        <formatTextEdit left="10" top="185" width="380" height="205" field="acaoDesc"/>
    </popup>

    <popup name="popTalentoInfo" width="400" height="310">
        <image align="client" style="stretch" src="/imagens/Fundo 1.jpg" opacity="1"/>
        <rectangle left="135" top="10" class="janela5">
            <label  vertTextAlign="center" horzTextAlign="center" width="131" height="25" text="Traços" fontSize="16" fontColor="Gray" fontFamily="Stencil"/>
        </rectangle>
        <formatLabelEdit left="10" top="35" width="380" height="25" field="talTracos"/>

        <rectangle left="135" top="70" class="janela5">
            <label width="131" height="25" text="Ações" vertTextAlign="center" horzTextAlign="center" fontSize="16" fontColor="Gray" fontFamily="Stencil"/>
        </rectangle>
        <formatLabelEdit left="10" top="95" width="380" height="25" field="talAcoes"/>

        <rectangle left="135" top="130" class="janela5">
            <label width="131" height="25" text="Descrição" vertTextAlign="center" horzTextAlign="center" fontSize="16" fontColor="Gray" fontFamily="Stencil"/>
        </rectangle>
        <formatTextEdit left="10" top="155" width="380" height="145" field="talDesc"/>
    </popup>

    <popup name="popInfoMagia" width="400" height="350">
        <image align="client" style="stretch" src="/imagens/Fundo 1.jpg" opacity="1"/>
        <rectangle left="135" top="10" class="janela5">
            <label  vertTextAlign="center" horzTextAlign="center" width="131" height="25" text="Ações" fontSize="16" fontColor="Gray" fontFamily="Stencil"/>
        </rectangle>
        <formatLabelEdit left="10" top="35" width="380" height="25" field="magiaAcao"/>

        <rectangle left="50" top="70" width="55" height="25" color="transparent" strokeColor="Gray" strokeSize="2" cornerType="bevel" xradius="5" yradius="5">
            <label  vertTextAlign="center" horzTextAlign="center" width="55" height="25" text="M" fontColor="Gray" fontFamily="Stencil"/>
        </rectangle>
        <rectangle left="95" top="67" width="32" height="32" color="Gray" cornerType="round" xradius="15" yradius="15">
            <CheckBox left="3" top="3" field="material"/>
        </rectangle>

        <rectangle left="162" top="70" width="55" height="25" color="transparent" strokeColor="Gray" strokeSize="2" cornerType="bevel" xradius="5" yradius="5">
            <label  vertTextAlign="center" horzTextAlign="center" width="55" height="25" text="S" fontColor="Gray" fontFamily="Stencil"/>
        </rectangle>
        <rectangle left="207" top="67" width="32" height="32" color="Gray" cornerType="round" xradius="15" yradius="15">
            <CheckBox left="3" top="3" field="somatico"/>
        </rectangle>

        <rectangle left="274" top="70" width="55" height="25" color="transparent" strokeColor="Gray" strokeSize="2" cornerType="bevel" xradius="5" yradius="5">
            <label  vertTextAlign="center" horzTextAlign="center" width="55" height="25" text="V" fontColor="Gray" fontFamily="Stencil"/>
        </rectangle>
        <rectangle left="319" top="67" width="32" height="32" color="Gray" cornerType="round" xradius="15" yradius="15">
            <CheckBox left="3" top="3" field="verbal"/>
        </rectangle>

        <rectangle left="135" top="110" class="janela5">
            <label width="131" height="25" text="Descrição" vertTextAlign="center" horzTextAlign="center" fontSize="16" fontColor="Gray" fontFamily="Stencil"/>
        </rectangle>
        <formatTextEdit left="10" top="135" width="380" height="205" field="magiaDesc"/>
    </popup>

    <popupForm name="popFundo" align="client">
        <image align="client" style="stretch" src="/imagens/Fundo 1.jpg" opacity="1"/>
    </popupForm>
</group>