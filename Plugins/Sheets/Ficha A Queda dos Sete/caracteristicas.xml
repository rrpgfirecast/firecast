<?xml version="1.0" encoding="UTF-8"?>
<rectangle class="fundo">
	<scrollBox align="client">
		<flowLayout class="tile" align="top" height="500" margins="{left=10, right=10, top=10}" autoHeight="true" horzAlign="center" lineSpacing="3" name="fraCaracteristicasLayout">

			<!-- Primeira Linha -->
			<flowLayout class="oneLineTile2" autoHeight="true" minScaledWidth="290" horzAlign="center">
				<!-- NOME DO PERSONAGEM -->
				<flowPart class="tile" minWidth="320" maxWidth="1600" frameStyle="frames/banner/heroGroup.xml" height="175" vertAlign="center" avoidScale="true">
					<layout align="client">
							<edit field="nome" class="transparente vcenter" fontSize="17" align="client"/>
							<label align="bottom" text="@@DnD5e.features.nameCharacter" class="tituloCampo" autoSize="true" margins="{left=3}"/>
					</layout>
				</flowPart>

				<!-- GRID DE INFORMACOES SUPERIORES DA FRENTE -->
				<flowLayout class="tile"  minWidth="320" maxWidth="1600" name="fraUpperGridCaracteristicas" avoidScale="true" frameStyle="frames/upperInfoGrid/frame.xml" autoHeight="true" vertAlign="trailing" maxControlsPerLine="3">
						<upperGridCampo field="caracteristicas.idade" minWidth="100" titulo="@@DnD5e.features.age"/>
						<upperGridCampo field="caracteristicas.altura" titulo="@@DnD5e.features.height"/>
						<upperGridCampo field="caracteristicas.peso" titulo="@@DnD5e.features.weight"/>
						<upperGridCampo field="caracteristicas.olhos" minWidth="100" titulo="@@DnD5e.features.eyes"/>
						<upperGridCampo field="caracteristicas.pele" titulo="@@DnD5e.features.skin"/>
						<upperGridCampo field="caracteristicas.cabelo" titulo="@@DnD5e.features.hair"/>
				</flowLayout>
			</flowLayout>
	
			<flowLineBreak/>

			<!-- TERCEIRA LINHA -->
			<flowLayout class="oneLineTile2" autoHeight="true" minScaledWidth="290" horzAlign="center" lineSpacing="10">

				<!-- CARACTERISTICAS E TRACOS -->
				<flowPart class="tileCarac" height="315" frameStyle="frames/panel5/frame.xml" margins="{left = 4, right = 4}">
					<textEditor align="client" field="caracteristicas.tracosPersonalidade" class="transparente" margins="{top=2}" fontSize="16"/>
					<label align="bottom" autoSize="true" text="@@DnD5e.features.personalityTraits" fontSize="12" vertTextAlign="center" horzTextAlign="center" fontStyle="bold"/>
				</flowPart>

				<!-- CARACTERISTICAS E TRACOS -->
				<flowPart class="tileCarac" height="315" frameStyle="frames/panel5/frame.xml" margins="{left = 4, right = 4}">
					<textEditor align="client" field="caracteristicas.ideais" class="transparente" margins="{top=2}" fontSize="16"/>
					<label align="bottom" autoSize="true" text="@@DnD5e.features.ideals" fontSize="12" vertTextAlign="center" horzTextAlign="center" fontStyle="bold"/>
				</flowPart>

				<!-- CARACTERISTICAS E TRACOS -->
				<flowPart class="tileCarac" height="315" frameStyle="frames/panel5/frame.xml" margins="{left = 4, right = 4}">
					<textEditor align="client" field="caracteristicas.fraquezas" class="transparente" margins="{top=2}" fontSize="16"/>
					<label align="bottom" autoSize="true" text="@@DnD5e.features.weaknesses" fontSize="12" vertTextAlign="center" horzTextAlign="center" fontStyle="bold"/>
				</flowPart>
			</flowLayout>

			<flowLineBreak/>
			 
			<script>
				<![CDATA[
					local function recalcularTamanhoAllies()
						self.flwPartEquipAllies.height = self.rclEquipsAllies.height + self.labEquipAllies.height +
														self.layEquipAlliesBottom.height + 
														self.flwPartEquipAllies.padding.top + self.flwPartEquipAllies.padding.bottom + 7;
					end;
				]]>
			</script>

			<flowPart name="flwPartEquipAllies" class="tile" height="400" frameStyle="frames/panel5/frame.xml" minScaledWidth="290">
			
				<label name="labEquipAllies" align="top" autoSize="true" text="CONTATOS E VÃNCULOS" fontSize="12" vertTextAlign="center" horzTextAlign="center" fontStyle="bold" onResize="recalcularTamanhoAllies();"/>
				
				<scrollBox align="client">										
					<recordList name="rclEquipsAllies" align="top" field="caracteristicas.contatos" templateForm="frmCaracteristicasContatos" 
							autoHeight="true" minHeight="5" onResize="recalcularTamanhoAllies();" minQt="1" hitTest="false"/>
				</scrollBox>
							
				<layout name="layEquipAlliesBottom" align="top" height="40">
					<button name="btnEquipAlliesNew" align="left" onClick="self.rclEquipsAllies:append();" text="@@DnD5e.tab.equipament.btn.newItem" width="160" margins="{top=4, bottom=4}"/>
				</layout>
			</flowPart>	

			<flowLineBreak/>

			<script>
				<![CDATA[
					local function recalcularTamanhoRace()
						self.flwPartEquipRace.height = self.rclEquipsRace.height + self.labEquipRace.height +
														self.layEquipRaceBottom.height + 
														self.flwPartEquipRace.padding.top + self.flwPartEquipRace.padding.bottom + 7;
					end;
				]]>
			</script>
			 
			<flowPart name="flwPartEquipRace" class="tile" height="400" frameStyle="frames/panel5/frame.xml" minScaledWidth="290">
			
				<label name="labEquipRace" align="top" autoSize="true" text="HABILIDADES RACIAIS" fontSize="12" vertTextAlign="center" horzTextAlign="center" fontStyle="bold" onResize="recalcularTamanhoRace();"/>
				
				<scrollBox align="client">										
					<recordList name="rclEquipsRace" align="top" field="caracteristicas.race" templateForm="frmCaracteristicasRaciais" 
							autoHeight="true" minHeight="5" onResize="recalcularTamanhoRace();" minQt="1" hitTest="false"/>
				</scrollBox>
							
				<layout name="layEquipRaceBottom" align="top" height="40">
					<button name="btnEquipRaceNew" align="left" onClick="self.rclEquipsRace:append();" text="@@DnD5e.tab.equipament.btn.newItem" width="160" margins="{top=4, bottom=4}"/>
				</layout>
			</flowPart>	

		</flowLayout>
	</scrollBox>

	<popup name="popInfo" width="400" height="300" backOpacity="0.4" autoScopeNode="false">
		<textEditor align="client" field="descricao"/>
	</popup>
</rectangle>
