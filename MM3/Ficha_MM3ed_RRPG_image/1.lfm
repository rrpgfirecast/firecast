<?xml version="1.0" encoding="UTF-8"?>
<form name="frmFicha_MM3e_RRPG1_svg" align="client" theme="light" margins="{top=1}">
    <style>#frmFicha_MM3e_RRPG1_svg path {color: black; strokeColor: black; mode: stretch;} 
#frmFicha_MM3e_RRPG1_svg label {fontColor: black; textTrimming: none; wordWrap: false; autoSize: true;}</style>
    <scrollBox align="client">
        <rectangle width="893" height="1263" color="white">
            <image left="0" top="0" width="893" height="1263" src="images/1.png" style="stretch" optimize="true" compilerOrder="0"/>
            <layout left="257" top="28" width="180" height="242" compilerOrder="81">
                <edit transparent="true" fontSize="12" fontColor="#000000" vertTextAlign="center" left="0" top="0" width="180" height="243" field="untitled52" compilerOrder="82"/>
            </layout>
            <layout left="459" top="360" width="391" height="824" compilerOrder="35">
                <textEditor left="0" top="0" width="391" height="797" fontSize="16.5" fontColor="#000000" field="PODERES" transparent="true" compilerOrder="36"/>
            </layout>
            <layout left="43" top="105" width="202" height="35" compilerOrder="1">
                <edit transparent="true" fontSize="18" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="202" height="36" field="JOGADOR" compilerOrder="2"/>
            </layout>
            <layout left="43" top="186" width="202" height="35" compilerOrder="7">
                <edit transparent="true" fontSize="18" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="202" height="36" field="IDENTIDADE" compilerOrder="8"/>
            </layout>
            <layout left="44" top="285" width="257" height="40" compilerOrder="3">
                <edit transparent="true" fontSize="22" fontColor="#000000" fontStyle="bold" horzTextAlign="center" left="0" top="0" width="257" height="40" field="CODINOME" compilerOrder="4"/>
            </layout>
            <layout left="381" top="291" width="51" height="53" compilerOrder="5">
                <edit transparent="true" fontSize="37.6" fontColor="#000000" vertTextAlign="center" left="0" top="0" width="51" height="54" field="NP" compilerOrder="6"/>
            </layout>
            <layout left="377" top="360" width="61" height="33" compilerOrder="25">
                <edit transparent="true" fontSize="22.6" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="61" height="34" field="PONTOSDEPODER" compilerOrder="26"/>
            </layout>
            <layout left="377" top="405" width="61" height="33" compilerOrder="27">
                <edit transparent="true" fontSize="22.6" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="61" height="34" field="PONTOSHEROICOS" compilerOrder="28"/>
            </layout>
            <layout left="62" top="486" width="52" height="30" compilerOrder="9">
                <edit transparent="true" fontSize="20.3" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="52" height="31" field="FOR" compilerOrder="10"/> <dataLink fields="{'FOR'}" defaultValues="{'0'}"/>
            </layout>
            <layout left="162" top="486" width="52" height="30" compilerOrder="23">
                <edit transparent="true" fontSize="20.3" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="52" height="31" field="AGI" compilerOrder="24"/> <dataLink fields="{'AGI'}" defaultValues="{'0'}"/>
            </layout>
            <layout left="263" top="486" width="52" height="30" compilerOrder="21">
                <edit transparent="true" fontSize="20.3" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="52" height="31" field="LUT" compilerOrder="22"/> <dataLink fields="{'LUT'}" defaultValues="{'0'}"/>
            </layout>
            <layout left="364" top="486" width="52" height="30" compilerOrder="19">
                <edit transparent="true" fontSize="20.3" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="52" height="31" field="PRO" compilerOrder="20"/> <dataLink fields="{'PRO'}" defaultValues="{'0'}"/>
            </layout>
            <layout left="63" top="557" width="52" height="30" compilerOrder="11">
                <edit transparent="true" fontSize="20.3" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="52" height="31" field="VIG" compilerOrder="12"/> <dataLink fields="{'VIG'}" defaultValues="{'0'}"/>
            </layout>
            <layout left="162" top="557" width="52" height="30" compilerOrder="13">
                <edit transparent="true" fontSize="20.3" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="52" height="31" field="DES" compilerOrder="14"/> <dataLink fields="{'DES'}" defaultValues="{'0'}"/>
            </layout>
            <layout left="262" top="557" width="52" height="30" compilerOrder="15">
                <edit transparent="true" fontSize="20.3" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="52" height="31" field="INT" compilerOrder="16"/> <dataLink fields="{'INT'}" defaultValues="{'0'}"/>
            </layout>
            <layout left="364" top="557" width="52" height="30" compilerOrder="17">
                <edit transparent="true" fontSize="20.3" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="52" height="31" field="PRE" compilerOrder="18"/> <dataLink fields="{'PRE'}" defaultValues="{'0'}"/>
            </layout>
            <layout left="43" top="630" width="391" height="262" compilerOrder="31">
                <textEditor left="0" top="0" width="391" height="262" fontSize="16.5" fontColor="#000000" field="Vantagens" transparent="true" compilerOrder="32"/>
            </layout>
            <layout left="688" top="171" width="28" height="16" compilerOrder="37">
                <edit transparent="true" fontSize="12" fontColor="#000000" fontStyle="bold" vertTextAlign="center" left="0" top="0" width="28" height="19" field="Iniciativa" compilerOrder="38"/>
            </layout>

            <layout top="215" left="458" width="188" height="18" compilerOrder="71">
                <edit transparent="true" fontSize="12" fontColor="#000000" vertTextAlign="center" left="0" top="0" width="188" height="19" field="ATK1" compilerOrder="72"/>
            </layout>
            <layout top="215" left="651" width="25" height="18" compilerOrder="71">
                <edit transparent="true" fontSize="12" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="27" height="19" field="ATK1mod"/> <dataLink fields="{'ATK1mod'}" defaultValues="{'0'}"/>
            </layout>
            <layout top="215" left="681" width="25" height="18" compilerOrder="71">
                <edit transparent="true" fontSize="12" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="27" height="19" field="ATK1dano"/> <dataLink fields="{'ATK1dano'}" defaultValues="{'0'}"/>
            </layout>
            <layout top="215" left="710" width="95" height="18" compilerOrder="71">
                <edit transparent="true" fontSize="12" fontColor="#000000" vertTextAlign="center" left="0" top="0" width="95" height="19" field="ATK1tipo"/> <dataLink fields="{'ATK1tipo'}" defaultValues="{'-'}" />
            </layout>
			<layout top="214" left="807" compilerOrder="71">
			<comboBox align="top" field="ATK1TesteCD" width="18" height="19" horzTextAlign="center" items="{'-', 'D', 'E'}" values="{'0', '+10', '+15'}" hint="Escolha entre Nulo 'D'ano ou 'E'feitos como Aflição ou similares"/><dataLink fields="{'ATK1TesteCD'}" defaultValues="{'+15'}"/>
			</layout>


            <layout top="238" left="458" width="188" height="18" compilerOrder="73">
                <edit transparent="true" fontSize="12" fontColor="#000000" vertTextAlign="center" left="0" top="0" width="188" height="19" field="ATK2" compilerOrder="74"/>
            </layout>
            <layout top="238" left="651" width="25" height="18" compilerOrder="71">
                <edit transparent="true" fontSize="12" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="27" height="19" field="ATK2mod"/> <dataLink fields="{'ATK2mod'}" defaultValues="{'0'}"/>
            </layout>
            <layout top="238" left="681" width="25" height="18" compilerOrder="71">
                <edit transparent="true" fontSize="12" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="27" height="19" field="ATK2dano"/> <dataLink fields="{'ATK2dano'}" defaultValues="{'0'}"/>
            </layout>
            <layout top="238" left="710" width="102" height="18" compilerOrder="71">
                <edit transparent="true" fontSize="12" fontColor="#000000" vertTextAlign="center" left="0" top="0" width="102" height="19" field="ATK2tipo"/> <dataLink fields="{'ATK2tipo'}" defaultValues="{'-'}"/>
            </layout>
			<layout top="236" left="807" compilerOrder="71">
			<comboBox align="top" field="ATK2TesteCD" width="18" height="19" horzTextAlign="center" items="{'-', 'D', 'E'}" values="{'0', '+10', '+15'}" hint="Escolha entre Nulo 'D'ano ou 'E'feitos como Aflição ou similares"/><dataLink fields="{'ATK2TesteCD'}" defaultValues="{'+15'}"/>
			</layout>

            <layout top="259" left="458" width="188" height="18" compilerOrder="75">
                <edit transparent="true" fontSize="12" fontColor="#000000" vertTextAlign="center" left="0" top="0" width="188" height="19" field="ATK3" compilerOrder="76"/>
            </layout>
            <layout top="259" left="651" width="25" height="18" compilerOrder="71">
                <edit transparent="true" fontSize="12" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="27" height="19" field="ATK3mod"/> <dataLink fields="{'ATK3mod'}" defaultValues="{'0'}"/>
            </layout>
            <layout top="259" left="681" width="25" height="18" compilerOrder="71">
                <edit transparent="true" fontSize="12" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="27" height="19" field="ATK3dano"/> <dataLink fields="{'ATK3dano'}" defaultValues="{'0'}"/>
            </layout>
            <layout top="259" left="710" width="102" height="18" compilerOrder="71">
                <edit transparent="true" fontSize="12" fontColor="#000000" vertTextAlign="center" left="0" top="0" width="102" height="19" field="ATK3tipo"/> <dataLink fields="{'ATK3tipo'}" defaultValues="{'-'}"/>
            </layout>
			<layout top="258" left="807" compilerOrder="71">
			<comboBox align="top" field="ATK3TesteCD" width="18" height="19" horzTextAlign="center" items="{'-', 'D', 'E'}" values="{'0', '+10', '+15'}" hint="Escolha entre Nulo 'D'ano ou 'E'feitos como Aflição ou similares"/><dataLink fields="{'ATK3TesteCD'}" defaultValues="{'+15'}"/>
			</layout>

            <layout top="280" left="458" width="188" height="18" compilerOrder="77">
                <edit transparent="true" fontSize="12" fontColor="#000000" vertTextAlign="center" left="0" top="0" width="188" height="19" field="ATK4" compilerOrder="78"/>
            </layout>
            <layout top="280" left="651" width="25" height="18" compilerOrder="71">
                <edit transparent="true" fontSize="12" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="27" height="19" field="ATK4mod"/> <dataLink fields="{'ATK4mod'}" defaultValues="{'0'}"/>
            </layout>
            <layout top="280" left="681" width="25" height="18" compilerOrder="71">
                <edit transparent="true" fontSize="12" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="27" height="19" field="ATK4dano"/> <dataLink fields="{'ATK4dano'}" defaultValues="{'0'}"/>
            </layout>
            <layout top="280" left="710" width="102" height="18" compilerOrder="71">
                <edit transparent="true" fontSize="12" fontColor="#000000" vertTextAlign="center" left="0" top="0" width="102" height="19" field="ATK4tipo"/> <dataLink fields="{'ATK4tipo'}" defaultValues="{'-'}"/>
            </layout>
			<layout top="279" left="807" compilerOrder="71">
			<comboBox align="top" field="ATK4TesteCD" width="19" height="18" horzTextAlign="center" items="{'-', 'D', 'E'}" values="{'0', '+10', '+15'}" hint="Escolha entre Nulo 'D'ano ou 'E'feitos como Aflição ou similares"/><dataLink fields="{'ATK4TesteCD'}" defaultValues="{'+15'}"/>
			</layout>

            <layout top="302" left="458" width="188" height="18" compilerOrder="79">
                <edit transparent="true" fontSize="12" fontColor="#000000" vertTextAlign="center" left="0" top="0" width="188" height="19" field="ATK5" compilerOrder="80"/>
            </layout>
            <layout top="302" left="651" width="25" height="18" compilerOrder="71">
                <edit transparent="true" fontSize="12" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="27" height="19" field="ATK5mod"/> <dataLink fields="{'ATK5mod'}" defaultValues="{'0'}"/>
            </layout>
            <layout top="302" left="681" width="25" height="18" compilerOrder="71">
                <edit transparent="true" fontSize="12" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="27" height="19" field="ATK5dano"/> <dataLink fields="{'ATK5dano'}" defaultValues="{'0'}"/>
            </layout>
            <layout top="302" left="710" width="102" height="18" compilerOrder="71">
                <edit transparent="true" fontSize="12" fontColor="#000000" vertTextAlign="center" left="0" top="0" width="102" height="19" field="ATK5tipo"/> <dataLink fields="{'ATK5tipo'}" defaultValues="{'-'}"/>
            </layout>
			<layout top="301" left="807" compilerOrder="71">
			<comboBox align="top" field="ATK5TesteCD" width="18" height="19" horzTextAlign="center" items="{'-', 'D', 'E'}" values="{'0', '+10', '+15'}" hint="Escolha entre Nulo 'D'ano ou 'E'feitos como Aflição ou similares"/><dataLink fields="{'ATK5TesteCD'}" defaultValues="{'+15'}"/>
			</layout>

            <layout left="43" top="933" width="391" height="302" compilerOrder="33">
                <textEditor left="0" top="0" width="391" height="302" fontSize="16.5" fontColor="#000000" field="Equipamentos" transparent="true" compilerOrder="34"/>
            </layout>

            <layout left="541" top="78" width="24" height="15" compilerOrder="41">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFesq1" compilerOrder="42"/>
            </layout>
            <layout left="568" top="78" width="24" height="15" compilerOrder="39">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFesq2" compilerOrder="40"/>
            </layout>
            <layout left="595" top="78" width="24" height="15">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFesq3"/>
            </layout>
            <layout left="621" top="78" width="24" height="15">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFesqTotal"/>
            </layout>


            <layout left="541" top="99" width="24" height="15" compilerOrder="43">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFapa1" compilerOrder="44"/>
            </layout>
            <layout left="568" top="99" width="24" height="15" compilerOrder="45">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFapa2" compilerOrder="46"/>
            </layout>
            <layout left="595" top="99" width="24" height="15">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFapa3"/>
            </layout>
            <layout left="621" top="99" width="24" height="15">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFapaTotal"/>
            </layout>

            <layout left="541" top="120" width="24" height="15" compilerOrder="49">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFvon1" compilerOrder="50"/>
            </layout>
            <layout left="568" top="120" width="24" height="15" compilerOrder="47">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFvon2" compilerOrder="48"/>
            </layout>
            <layout left="595" top="120" width="24" height="15">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFvon3"/>
            </layout>
            <layout left="621" top="120" width="24" height="15">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFvonTotal"/>
            </layout>


            <layout left="750" top="78" width="24" height="15" compilerOrder="53">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFforti1" compilerOrder="54"/>
            </layout>
            <layout left="777" top="78" width="24" height="15" compilerOrder="53">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFforti2"/>
            </layout>
            <layout left="804" top="78" width="24" height="15" compilerOrder="53">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFforti3"/>
            </layout>
            <layout left="831" top="78" width="24" height="15" compilerOrder="53">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFfortiTotal"/>
            </layout>

            <layout left="750" top="99" width="24" height="15" compilerOrder="51">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFres1" compilerOrder="52"/>
            </layout>
            <layout left="777" top="99" width="24" height="15">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFres2"/>
            </layout>
            <layout left="804" top="99" width="24" height="15">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFres3"/>
            </layout>
            <layout left="831" top="99" width="24" height="15">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFresTotal"/>
            </layout>

            <layout left="650" top="117" width="98" height="24" compilerOrder="55">
                <edit transparent="true" fontSize="14" fontColor="#000000" fontStyle="bold" vertTextAlign="center" left="0" top="0" width="182" height="24" field="DEFextraName" compilerOrder="56"/>
            </layout>
            <layout left="750" top="120" width="24" height="15">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFextra1" compilerOrder="56"/>
            </layout>
            <layout left="777" top="120" width="24" height="15">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFextra2" compilerOrder="56"/>
            </layout>
            <layout left="804" top="120" width="24" height="15">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFextra3" compilerOrder="56"/>
            </layout>
            <layout left="831" top="120" width="24" height="15">
                <edit transparent="true" fontSize="9" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="16" field="DEFextraTotal" compilerOrder="56"/>
            </layout>


            <layout left="540" top="1196" width="19" height="18" compilerOrder="57">
                <label fontSize="10" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="15" field="PPhabilidades" compilerOrder="58"/>
            </layout>
            <layout left="618" top="1196" width="21" height="18" compilerOrder="59">
                <label fontSize="10" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="15" field="PPpericias" compilerOrder="60"/>
            </layout>
            <layout left="641" top="1197" width="19" height="14" compilerOrder="61">
                <label fontSize="9" fontColor="#000000" vertTextAlign="center" left="0" top="0" width="19" height="15" field="PPpericiasgrad" compilerOrder="62"/>
            </layout>
            <layout left="811" top="1194" width="21" height="18" compilerOrder="63">
                <edit transparent="true" fontSize="10" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="18" field="PPvantagens" compilerOrder="64"/>
            </layout>
            <layout left="512" top="1212" width="21" height="14" compilerOrder="65">
                <edit transparent="TRUE" fontSize="10" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="24" height="18" field="PPdefesas" compilerOrder="66"/>
            </layout>
            <layout left="593" top="1212" width="24" height="18" compilerOrder="67">
                <edit transparent="TRUE" fontSize="10" fontColor="#000000" vertTextAlign="center" left="0" top="0" width="24" height="18" field="PPpoderes" compilerOrder="68"/>
            </layout>
            <layout left="630" top="1214" width="140" height="18" compilerOrder="69">
                <label fontSize="12" fontColor="#000000" fontStyle="bold" vertTextAlign="center" left="0" top="0" width="140" height="18" field="PPsomatotal" compilerOrder="70"/>
            </layout>
			
			<rectangle left="254" top="26" width="184" height="245" color="#6cb098" strokeColor="white" strokeSize="1"/>
			<image left="255" top="27" width="182" height="243" field="avatar" editable="true" style="autoFit" >
				<event name="OnStartDrag">
					drag:addData("imageURL", sheet.avatar);
				</event>
			</image>
		
            <layout left="52" top="373" width="52" height="30" compilerOrder="71">
                <edit transparent="true" fontSize="20.3" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="52" height="31" field="IDADE" compilerOrder="72"/>
            </layout>
            <layout left="125" top="373" width="68" height="30" compilerOrder="73">
                <edit transparent="true" fontSize="20.3" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="68" height="31" field="ALTURA" compilerOrder="74"/>
            </layout>
            <layout left="207" top="373" width="68" height="30" compilerOrder="75">
                <edit transparent="true" fontSize="20.3" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="68" height="31" field="PESO" compilerOrder="76"/>
            </layout>
			<layout left="117" top="216" width="202" height="35" compilerOrder="77">
				<imageCheckBox field="CheckIDENTIDADE" checkedImage="images/PUBLICA.png" uncheckedImage="images/SECRETA.png" />
			</layout>
            <layout left="43" top="243" width="202" height="35" compilerOrder="77">
                <edit transparent="true" fontSize="10" fontColor="#000000" horzTextAlign="center" left="0" top="0" width="202" height="36" field="ALIAS" hint="Notas sobre a Identidade. " compilerOrder="78"/>
            </layout>

<dataLink fields="'AGI', 'LUT', 'PRO', 'VIG'">
        <event name="onChange">
               sheet.DEFesq1 = (tonumber(sheet.AGI) or 0);
               sheet.DEFapa1 = (tonumber(sheet.LUT) or 0);
               sheet.DEFvon1 = (tonumber(sheet.PRO) or 0);
               sheet.DEFforti1 = (tonumber(sheet.VIG) or 0);
               sheet.DEFres1 = (tonumber(sheet.VIG) or 0);
        </event>
</dataLink>

<dataLink fields="'DEFesq1', 'DEFesq2', 'DEFesq3'">
        <event name="onChange">
               sheet.DEFesqTotal = (tonumber(sheet.DEFesq1) or 0) + (tonumber(sheet.DEFesq2) or 0) + (tonumber(sheet.DEFesq3) or 0);
        </event>
</dataLink>


<dataLink fields="'DEFapa1', 'DEFapa2', 'DEFapa3'">
        <event name="onChange">
               sheet.DEFapaTotal = (tonumber(sheet.DEFapa1) or 0) + (tonumber(sheet.DEFapa2) or 0) + (tonumber(sheet.DEFapa3) or 0);
        </event>
</dataLink>


<dataLink fields="'DEFvon1', 'DEFvon2', 'DEFvon3'">
        <event name="onChange">
               sheet.DEFvonTotal = (tonumber(sheet.DEFvon1) or 0) + (tonumber(sheet.DEFvon2) or 0) + (tonumber(sheet.DEFvon3) or 0);
        </event>
</dataLink>


<dataLink fields="'DEFforti1', 'DEFforti2', 'DEFforti3'">
        <event name="onChange">
               sheet.DEFfortiTotal = (tonumber(sheet.DEFforti1) or 0) + (tonumber(sheet.DEFforti2) or 0) + (tonumber(sheet.DEFforti3) or 0);
        </event>
</dataLink>


<dataLink fields="'DEFres1', 'DEFres2', 'DEFres3'">
        <event name="onChange">
               sheet.DEFresTotal = (tonumber(sheet.DEFres1) or 0) + (tonumber(sheet.DEFres2) or 0) + (tonumber(sheet.DEFres3) or 0);
        </event>
</dataLink>


<dataLink fields="'DEFextra1', 'DEFextra2', 'DEFextra3'">
        <event name="onChange">
               sheet.DEFextraTotal = (tonumber(sheet.DEFextra1) or 0) + (tonumber(sheet.DEFextra2) or 0) + (tonumber(sheet.DEFextra3) or 0);
        </event>
</dataLink>


       <button left="454" top="74" width="85" height="22" text="ESQUIVAR">
                <event name="onClick">
                local personagem = rrpg.getPersonagemDe(sheet);                                

                if (personagem ~= nil) then
                    local mesa = personagem.mesa;

                    if ((personagem.dono == mesa.meuJogador) or (mesa.meuJogador.isMestre)) then

                        local rolagem = rrpg.interpretarRolagem(sheet.DEFesqTOTAL); 

                        if not rolagem.possuiAlgumDado then
                               rolagem = rrpg.interpretarRolagem("1d20"):concatenar(rolagem);
                        end; 

                        local mesaDoPersonagem = rrpg.getMesaDe(sheet);

                        if mesaDoPersonagem ~= nil then
                               mesaDoPersonagem.chat:rolarDados(rolagem, "Esquivar");
                        end;
                    end;
		end;     
                </event>
	    </button>

       <button left="454" top="96" width="85" height="22" text="APARAR">
                <event name="onClick">
                local personagem = rrpg.getPersonagemDe(sheet);                                

                if (personagem ~= nil) then
                    local mesa = personagem.mesa;

                    if ((personagem.dono == mesa.meuJogador) or (mesa.meuJogador.isMestre)) then

                        local rolagem = rrpg.interpretarRolagem(sheet.DEFapaTOTAL); 

                        if not rolagem.possuiAlgumDado then
                               rolagem = rrpg.interpretarRolagem("1d20"):concatenar(rolagem);
                        end; 

                        local mesaDoPersonagem = rrpg.getMesaDe(sheet);

                        if mesaDoPersonagem ~= nil then
                               mesaDoPersonagem.chat:rolarDados(rolagem, "Aparar");
                        end;
                    end;
		end;     
                </event>
	    </button>

       <button left="454" top="118" width="85" height="22" text="VONTADE">
                <event name="onClick">
                local personagem = rrpg.getPersonagemDe(sheet);                                

                if (personagem ~= nil) then
                    local mesa = personagem.mesa;

                    if ((personagem.dono == mesa.meuJogador) or (mesa.meuJogador.isMestre)) then

                        local rolagem = rrpg.interpretarRolagem(sheet.DEFvonTOTAL); 

                        if not rolagem.possuiAlgumDado then
                               rolagem = rrpg.interpretarRolagem("1d20"):concatenar(rolagem);
                        end; 

                        local mesaDoPersonagem = rrpg.getMesaDe(sheet);

                        if mesaDoPersonagem ~= nil then
                               mesaDoPersonagem.chat:rolarDados(rolagem, "Vontade");
                        end;
                    end;
		end;     
                </event>
	    </button>

       <button left="651" top="74" width="98" height="22" text="FORTITUDE">
                <event name="onClick">
                local personagem = rrpg.getPersonagemDe(sheet);                                

                if (personagem ~= nil) then
                    local mesa = personagem.mesa;

                    if ((personagem.dono == mesa.meuJogador) or (mesa.meuJogador.isMestre)) then

                        local rolagem = rrpg.interpretarRolagem(sheet.DEFfortiTOTAL); 

                        if not rolagem.possuiAlgumDado then
                               rolagem = rrpg.interpretarRolagem("1d20"):concatenar(rolagem);
                        end; 

                        local mesaDoPersonagem = rrpg.getMesaDe(sheet);

                        if mesaDoPersonagem ~= nil then
                               mesaDoPersonagem.chat:rolarDados(rolagem, "Fortitude");
                        end;
                    end;
		end;     
                </event>
	    </button>

       <button left="651" top="96" width="98" height="22" text="RESISTENCIA">
                <event name="onClick">
                local personagem = rrpg.getPersonagemDe(sheet);                                

                if (personagem ~= nil) then
                    local mesa = personagem.mesa;

                    if ((personagem.dono == mesa.meuJogador) or (mesa.meuJogador.isMestre)) then

                        local rolagem = rrpg.interpretarRolagem(sheet.DEFresTOTAL); 

                        if not rolagem.possuiAlgumDado then
                               rolagem = rrpg.interpretarRolagem("1d20"):concatenar(rolagem);
                        end; 

                        local mesaDoPersonagem = rrpg.getMesaDe(sheet);

                        if mesaDoPersonagem ~= nil then
                               mesaDoPersonagem.chat:rolarDados(rolagem, "Resistencia");
                        end;
                    end;
		end;     
                </event>
	    </button>


       <button left="590" top="171" width="89" height="21" text="INICIATIVA">
                <event name="onClick">
                local personagem = rrpg.getPersonagemDe(sheet);                                

                if (personagem ~= nil) then
                    local mesa = personagem.mesa;

                    if ((personagem.dono == mesa.meuJogador) or (mesa.meuJogador.isMestre)) then

                        local rolagem = rrpg.interpretarRolagem(sheet.Iniciativa); 

                        if not rolagem.possuiAlgumDado then
                               rolagem = rrpg.interpretarRolagem("1d20"):concatenar(rolagem);
                        end; 

                        local mesaDoPersonagem = rrpg.getMesaDe(sheet);

                        if mesaDoPersonagem ~= nil then
                               mesaDoPersonagem.chat:rolarDados(rolagem, "Iniciativa");
                        end;
                    end;
		end;     
                </event>
	    </button>


	    <dataLink fields="{'FOR', 'VIG', 'AGI', 'DES', 'LUT', 'INT', 'PRO', 'PRE'}">
                <event name="onChange">
                    sheet.PPhabilidades = ((tonumber(sheet.FOR) or 0) +
                                          (tonumber(sheet.VIG) or 0) +
                                          (tonumber(sheet.AGI) or 0) +
                                          (tonumber(sheet.DES) or 0) +
                                          (tonumber(sheet.LUT) or 0) +
                                          (tonumber(sheet.INT) or 0) +
                                          (tonumber(sheet.PRO) or 0) +
                                          (tonumber(sheet.PRE) or 0)) * 2;                  
                </event>
	    </dataLink>

	    <dataLink field="PPpericias">
                <event name="onChange">
                    sheet.PPpericiasgrad = math.floor(sheet.PPpericias or 0) * 2;
                </event>
	    </dataLink>
		
		<dataLink field="pontosPericia">
				<event name="onChange">
					sheet.PPpericias = math.floor(sheet.pontosPericia or 0) ;
				</event>
		</dataLink>

	    <dataLink fields="{'PPhabilidades', 'PPpericias', 'PPvantagens', 'PPdefesas', 'PPpoderes'}">
                <event name="onChange">
                    sheet.PPsomatotal = (tonumber(sheet.PPhabilidades) or 0) +
                                        (tonumber(sheet.PPpericias) or 0) +
                                        (tonumber(sheet.PPvantagens) or 0) +
                                        (tonumber(sheet.PPdefesas) or 0) +
                                        (tonumber(sheet.PPpoderes) or 0);                  

                    if sheet.PPsomatotal >= 0 then
                        sheet.PPsomatotal = sheet.PPsomatotal .. " PONTOS DE PODER";
                    end;
                </event>
	    </dataLink>


       <button top="214" left="834" width="22" height="20">
		<image left="1" width="20" height="21" src="images/dice.png"/>
                <event name="onClick">
                local personagem = rrpg.getPersonagemDe(sheet);                                

                if (personagem ~= nil) then
                    local mesa = personagem.mesa;

                    if ((personagem.dono == mesa.meuJogador) or (mesa.meuJogador.isMestre)) then
						
							if sheet.ATK1tipo == nil then
								sheet.ATK1tipo = "-";
							end;
							
							if sheet.ATK1dano == nil then
								sheet.ATK1dano = "0";
							end;
						
                        local rolagem = rrpg.interpretarRolagem(sheet.ATK1mod); 
                        local dificuldade = math.floor(tonumber(sheet.ATK1dano or 0) + tonumber(sheet.ATK1TesteCD or 0))

						local tipo = sheet.ATK1tipo
                        local descricao = "Ataque 1 - Efeito: " .. tipo .. " - Dano: " .. sheet.ATK1dano .. " - CD: " .. dificuldade .. "";

                        if sheet.ATK1 ~= nil then
                               descricao = sheet.ATK1 ..  " - Efeito: " .. tipo .. " - Dano: " .. sheet.ATK1dano .. " - CD: " .. dificuldade .. "";
                        end;

                        if not rolagem.possuiAlgumDado then
                               rolagem = rrpg.interpretarRolagem("1d20"):concatenar(rolagem);

                        end; 

                        local mesaDoPersonagem = rrpg.getMesaDe(sheet);

                        if mesaDoPersonagem ~= nil then
                               mesaDoPersonagem.chat:rolarDados(rolagem, descricao)
                        end;
                    end;
		end;     
                </event>
	    </button>

       <button top="236" left="834" width="22" height="20">
		<image left="1" width="20" height="21" src="images/dice.png"/>
                <event name="onClick">
                local personagem = rrpg.getPersonagemDe(sheet);                                

                if (personagem ~= nil) then
                    local mesa = personagem.mesa;

                    if ((personagem.dono == mesa.meuJogador) or (mesa.meuJogador.isMestre)) then
						
							if sheet.ATK2tipo == nil then
								sheet.ATK2tipo = "-";
							end;
							
							if sheet.ATK2dano == nil then
								sheet.ATK2dano = "0";
							end;
						
                        local rolagem = rrpg.interpretarRolagem(sheet.ATK2mod); 
                        local dificuldade = math.floor(tonumber(sheet.ATK2dano or 0) + tonumber(sheet.ATK2TesteCD or 0))
						local tipo = sheet.ATK2tipo
                        local descricao = "Ataque 2 - Efeito: " .. tipo .. " - Dano: " .. sheet.ATK2dano .. " - CD: " .. dificuldade .. "";

                        if sheet.ATK2 ~= nil then
                               descricao = sheet.ATK2 ..  " - Efeito: " .. tipo .. " - Dano: " .. sheet.ATK2dano .. " - CD: " .. dificuldade .. "";
                        end;

                        if not rolagem.possuiAlgumDado then
                               rolagem = rrpg.interpretarRolagem("1d20"):concatenar(rolagem);

                        end; 

                        local mesaDoPersonagem = rrpg.getMesaDe(sheet);

                        if mesaDoPersonagem ~= nil then
                               mesaDoPersonagem.chat:rolarDados(rolagem, descricao)
                        end;
                    end;
		end;     
                </event>
	    </button>

       <button top="258" left="834" width="22" height="20">
		<image left="1" width="20" height="21" src="images/dice.png"/>
                <event name="onClick">
                local personagem = rrpg.getPersonagemDe(sheet);                                

                if (personagem ~= nil) then
                    local mesa = personagem.mesa;

                    if ((personagem.dono == mesa.meuJogador) or (mesa.meuJogador.isMestre)) then
						
							if sheet.ATK3tipo == nil then
								sheet.ATK3tipo = "-";
							end;
							
							if sheet.ATK3dano == nil then
								sheet.ATK3dano = "0";
							end;
						

                        local rolagem = rrpg.interpretarRolagem(sheet.ATK3mod); 
                        local dificuldade = math.floor(tonumber(sheet.ATK3dano or 0) + tonumber(sheet.ATK3TesteCD or 0))
						local tipo = sheet.ATK3tipo
                        local descricao = "Ataque 3 - Efeito: " .. tipo .. " - Dano: " .. sheet.ATK3dano .. " - CD: " .. dificuldade .. "";

                        if sheet.ATK3 ~= nil then
                               descricao = sheet.ATK3 .. " - Efeito: " .. tipo .. " - Dano: " .. sheet.ATK3dano .. " - CD: " .. dificuldade .. "";
                        end;

                        if not rolagem.possuiAlgumDado then
                               rolagem = rrpg.interpretarRolagem("1d20"):concatenar(rolagem);

                        end; 

                        local mesaDoPersonagem = rrpg.getMesaDe(sheet);

                        if mesaDoPersonagem ~= nil then
                               mesaDoPersonagem.chat:rolarDados(rolagem, descricao)
                        end;
                    end;
		end;     
                </event>
	    </button>

       <button top="279" left="834" width="22" height="20">
		<image left="1" width="20" height="21" src="images/dice.png"/>
                <event name="onClick">
                local personagem = rrpg.getPersonagemDe(sheet);                                

                if (personagem ~= nil) then
                    local mesa = personagem.mesa;

                    if ((personagem.dono == mesa.meuJogador) or (mesa.meuJogador.isMestre)) then
						
							if sheet.ATK4tipo == nil then
								sheet.ATK4tipo = "-";
							end;
							
							if sheet.ATK4dano == nil then
								sheet.ATK4dano = "0";
							end;
						

                        local rolagem = rrpg.interpretarRolagem(sheet.ATK4mod); 
                        local dificuldade = math.floor(tonumber(sheet.ATK4dano or 0) + tonumber(sheet.ATK4TesteCD or 0))
						local tipo = sheet.ATK4tipo
                        local descricao = "Ataque 4 - Efeito: " .. tipo .. " - Dano: " .. sheet.ATK4dano .. " - CD: " .. dificuldade .. "";

                        if sheet.ATK4 ~= nil then
                               descricao = sheet.ATK4 .. " - Efeito: " .. tipo .. " - Dano: " .. sheet.ATK4dano .. " - CD: " .. dificuldade .. "";
                        end;

                        if not rolagem.possuiAlgumDado then
                               rolagem = rrpg.interpretarRolagem("1d20"):concatenar(rolagem);

                        end; 

                        local mesaDoPersonagem = rrpg.getMesaDe(sheet);

                        if mesaDoPersonagem ~= nil then
                               mesaDoPersonagem.chat:rolarDados(rolagem, descricao)
                        end;
                    end;
		end;     
                </event>
	    </button>

       <button top="301" left="834" width="22" height="20">
		<image left="1" width="20" height="21" src="images/dice.png"/>
                <event name="onClick">
                local personagem = rrpg.getPersonagemDe(sheet);                                

                if (personagem ~= nil) then
                    local mesa = personagem.mesa;

                    if ((personagem.dono == mesa.meuJogador) or (mesa.meuJogador.isMestre)) then
						
							if sheet.ATK5tipo == nil then
								sheet.ATK5tipo = "-";
							end;
							
							if sheet.ATK5dano == nil then
								sheet.ATK5dano = "0";
							end;
						

                        local rolagem = rrpg.interpretarRolagem(sheet.ATK5mod); 
                        local dificuldade = math.floor(tonumber(sheet.ATK5dano or 0) + tonumber(sheet.ATK5TesteCD or 0))
						local tipo = sheet.ATK5tipo
                        local descricao = "Ataque 5 - Efeito: " .. tipo .. " - Dano: " .. sheet.ATK5dano .. " - CD: " .. dificuldade .. "";

                        if sheet.ATK5 ~= nil then
                               descricao = sheet.ATK5 .. " - Efeito: " .. tipo .. " - Dano: " .. sheet.ATK5dano .. " - CD: " .. dificuldade .. "";
                        end;

                        if not rolagem.possuiAlgumDado then
                               rolagem = rrpg.interpretarRolagem("1d20"):concatenar(rolagem);

                        end; 

                        local mesaDoPersonagem = rrpg.getMesaDe(sheet);

                        if mesaDoPersonagem ~= nil then
                               mesaDoPersonagem.chat:rolarDados(rolagem, descricao)
                        end;
                    end;
		end;     
                </event>
	    </button>






        </rectangle>
    </scrollBox>
</form>
